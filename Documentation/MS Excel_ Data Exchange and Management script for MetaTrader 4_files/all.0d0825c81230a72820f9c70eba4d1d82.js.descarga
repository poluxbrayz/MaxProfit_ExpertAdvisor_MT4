function $(e){return e?document.getElementById(e):null}function $$(e){var t=document.querySelectorAll(e);try{return Array.prototype.slice.call(t)}catch(a){for(var n=[],i=0;i<t.length;i++)n.push(t[i]);return n}}function Core(){var e=this;this.getDevice=function(){var t=window.navigator.userAgent;window.opera&&(e.IsPresto=!0),-1!=t.indexOf("Gecko/")&&(e.IsGecko=!0),-1!=t.indexOf("WebKit")&&(e.IsWebkit=!0),-1!=t.indexOf("MSIE")&&(e.IsMSIE=!0),-1!=t.indexOf("Trident/")&&(e.IsTrident=!0),-1!=t.indexOf("Edge")&&(e.IsEdge=!0),-1!=t.indexOf("rv:11")&&(e.IsMSIE11=!0),-1!=t.indexOf("Firefox")&&(e.IsFirefox=!0),e.IsMobile=-1!=t.indexOf("Windows CE")||-1!=t.indexOf("Windows Mobile")||-1!=t.indexOf("Android")&&-1!=t.toLowerCase().indexOf("mobi")||-1!=t.indexOf("Symbian")||-1!=t.indexOf("iPhone"),e.IsIOS=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i),e.IsPresto&&(e.IsGecko=e.IsWebkit=e.IsMSIE=!1),e.IsWebkit&&(e.IsGecko=!1)},this.getDevice(),this.StopProp=function(e){(e=e||window.event)&&e.stopPropagation?e.stopPropagation():window.event&&window.event.cancelBubble&&(window.event.cancelBubble=!0)},this.geFileSizeString=function(e){var t=-1;do{e/=1024,t++}while(e>1024);return Math.max(e,.1).toFixed(1)+[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"][t]},this.AddHandler=function(e,t,n,i){if(!e)return!1;e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,i||!1)},this.RemoveHandler=function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n,!1)},this.Unwrap=function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},this.Clone=function(e){if(null==e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},this.Bind=function(e,t){return function(){return e.apply(t,arguments)}},this.isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return Core.isMobile.Android()||Core.isMobile.BlackBerry()||Core.isMobile.iOS()||Core.isMobile.Opera()||Core.isMobile.Windows()}},this.addAncersToH3=function(){for(var e=document.getElementsByTagName("h3"),t=0;t<e.length;t++){var n=e[t].getAttribute("id");if(n){var i=document.createElement("a");i.innerHTML="#",i.setAttribute("href","#"+n),i.className="anchor",e[t].insertBefore(i,null)}}},this.IsTouchDevice=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},this.isLocalStorageSupported=function(){try{return window.JSON&&"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},this.PreventSelection=function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.clear&&document.selection.clear()},this.SelectAllCheckboxes=function(e,t){var n=document.getElementsByTagName("INPUT");if(n&&null!=n&&!(n.length<1))for(var i=e.checked,a=0;a<n.length;a++)"checkbox"==n[a].type&&n[a].name==t&&(n[a].checked=i)},this.FormatNumber=function(e){for(var t="",n=0,i=(e=(e=Math.round(e)).toString()).length;i>0;i--)3==n++&&(t=" "+t,n=1),t=e.substring(i,i-1)+t;return t},this.utf8_encode=function(e){if(null==e)return"";var t,n,i,a=e+"",r="";t=n=0,i=a.length;for(var o=0;o<i;o++){var s=a.charCodeAt(o),l=null;if(s<128)n++;else if(s>127&&s<2048)l=String.fromCharCode(s>>6|192,63&s|128);else if(55296!=(63488&s))l=String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128);else{if(55296!=(64512&s))return"";var c=a.charCodeAt(++o);if(56320!=(64512&c))return"";s=((1023&s)<<10)+(1023&c)+65536,l=String.fromCharCode(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}null!==l&&(n>t&&(r+=a.slice(t,n)),r+=l,t=n=o+1)}return n>t&&(r+=a.slice(t,i)),r},this.Crc32=function(e){var t,n=0;n^=-1;for(var i=0,a=(e=this.utf8_encode(e)).length;i<a;i++)t=255&(n^e.charCodeAt(i)),n=n>>>8^"0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substr(9*t,8);return n^=-1,n>>>=parseInt("000")},this.ParseJson=function(e){try{return window.JSON.parse(e)}catch(t){return console.warn(t),null}}}!function(e){if(t=function(){if(!Object.defineProperty)return!0;if(-1!==window.navigator.userAgent.indexOf("MSIE 8.0"))return!0;try{Object.defineProperty({},"tmpProp",{value:!0})}catch(e){return!0}return!1}(),window.isIE8OrLess=t,t){var t,n=Object.prototype.hasOwnProperty("__defineGetter__"),i="Getters & setters cannot be defined on this javascript engine",a="A property cannot both have accessors and be writable or have a value",r=!1;Object.defineProperty=function(t,o,s){if(e&&(t===window||t===document||t===Element.prototype||t instanceof Element))return e(t,o,s);if(null===t||!(t instanceof Object||"object"==typeof t))throw new TypeError("Object.defineProperty called on non-object");if(!(s instanceof Object))throw new TypeError("Property description must be an object");var l=String(o),c="value"in s||"writable"in s,d="get"in s&&typeof s.get,u="set"in s&&typeof s.set;return function(){if(!d)return;if("function"!==d)throw new TypeError("Getter must be a function");if(!n){if(r)return;return r=!0,void console.log(i)}if(c)throw new TypeError(a);Object.__defineGetter__.call(t,l,s.get)}(),function(){if(!u)return;if("function"!==u)throw new TypeError("Setter must be a function");if(!n)return void console.log(i);if(c)throw new TypeError(a);Object.__defineSetter__.call(t,l,s.set)}(),"value"in s&&(t[l]=s.value),t}}}(Object.defineProperty),function(){var e,t={d:function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t,n){"use strict";return function(i,a){if(null===this||this===undefined)throw TypeError("Array.prototype.indexOf called on null or undefined");var r=e(this),o=r.length>>>0,s=n(0|a,o);if(s<0)s=t(0,o+s);else if(s>=o)return-1;if(void 0===i){for(;s!==o;++s)if(void 0===r[s]&&s in r)return s}else if(i!=i){for(;s!==o;++s)if(r[s]!=r[s])return s}else for(;s!==o;++s)if(r[s]===i)return s;return-1}}(Object,Math.max,Math.min)),Array.prototype.includes||(Array.prototype.includes=function(e){return!!~this.indexOf(e)}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if(null==this)throw new TypeError("Array.prototype.forEach called on null or undefined");var n,i,a=Object(this),r=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),i=0;i<r;){var o;i in a&&(o=a[i],e.call(n,o,i,a)),i++}}),Array.prototype.min=function(){return Math.min.apply(null,this)},Array.prototype.max=function(){return Math.max.apply(null,this)},Array.from||(Array.from=function(){var e;try{e=Symbol.iterator?Symbol.iterator:"Symbol(Symbol.iterator)"}catch(r){e="Symbol(Symbol.iterator)"}var t=Object.prototype.toString,n=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},i=Math.pow(2,53)-1,a=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),i)};return function(t){var i=Object(t),r=n(i[e]);if(null==t&&!r)throw new TypeError("Array.from requires an array-like object or iterator - not null or undefined");var o,s=arguments.length>1?arguments[1]:void undefined;if(void 0!==s){if(!n(s))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}var l=a(i.length),c=n(this)?Object(new this(l)):new Array(l);if(i&&i.size&&i.forEach){var d=[];return i.forEach((function(e){d.push(e)})),d}return function(e,t,n,i,a,r){for(var o=0;o<n||a;){var s=i(o),l=a?s.value:s;if(a&&s.done)return t;t[o]=r?void 0===e?r(l,o):r.call(e,l,o):l,o+=1}if(a)throw new TypeError("Array.from: provided arrayLike or iterator has length more then 2 ** 52 - 1");return t.length=n,t}(o,c,l,function(t,n){var i=t&&n[e]();return function(e){return t?i.next():n[e]}}(r,i),r,s)}}()),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),n=t.length>>>0,i=arguments[1]>>0,a=i<0?Math.max(n+i,0):Math.min(i,n),r=arguments[2],o=r===undefined?n:r>>0,s=o<0?Math.max(n+o,0):Math.min(o,n);a<s;)t[a]=e,a++;return t}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=i.length;return function(r){if("function"!=typeof r&&("object"!==e(r)||null===r))throw new TypeError("Object.keys called on non-object");var o,s,l=[];for(o in r)t.call(r,o)&&l.push(o);if(n)for(s=0;s<a;s++)t.call(r,i[s])&&l.push(i[s]);return l}}())}(),"function"!=typeof Object.assign&&(Object.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n}),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,i=new Array(n);n--;)i[n]=[t[n],e[t[n]]];return i}),function(){if(Object.constructor.prototype.name===undefined&&Object.defineProperty!==undefined)try{Object.defineProperty(Object.constructor.prototype,"name",{get:function(){return this.toString().trim().replace(/^\S+\s+(\w+)[\S\s]+$/,"$1")}})}catch(e){console.log(e)}if(Function.prototype.name===undefined&&Object.defineProperty!==undefined)try{Object.defineProperty(Function.prototype,"name",{get:function(){return this.__name||(this.__name=this.toString().split("(",1)[0].split(" ")[1]),this.__name}})}catch(e){console.log(e)}}(),function(){"use strict";var e=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i=function(e){return new this((function(t,i){if(!e||"undefined"==typeof e.length)return i(new TypeError(n(e)+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);var r=a.length;function o(e,i){if(i&&("object"===n(i)||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(t){o(e,t)}),(function(n){a[e]={status:"rejected",reason:n},0==--r&&t(a)}))}a[e]={status:"fulfilled",value:i},0==--r&&t(a)}for(var s=0;s<a.length;s++)o(s,a[s])}))};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e){return Boolean(e&&"undefined"!=typeof e.length)}function o(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],f(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(a){return void d(t.promise,a)}c(t.promise,i)}else(1===e._state?c:d)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===a(t)||"function"==typeof t)){var n=t.then;if(t instanceof s)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void f((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(o){d(e,o)}var i,r}function d(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)l(e,e._deferreds[t]);e._deferreds=null}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,c(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(i){if(n)return;n=!0,d(t,i)}}s.prototype["catch"]=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(o);return l(this,new h(e,t,n)),n},s.prototype["finally"]=e,s.all=function(e){return new s((function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function s(e,r){try{if(r&&("object"===a(r)||"function"==typeof r)){var l=r.then;if("function"==typeof l)return void l.call(r,(function(t){s(e,t)}),n)}i[e]=r,0==--o&&t(i)}catch(c){n(c)}}for(var l=0;l<i.length;l++)s(l,i[l])}))},s.allSettled=i,s.resolve=function(e){return e&&"object"===a(e)&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,n){n(e)}))},s.race=function(e){return new s((function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,a=e.length;i<a;i++)s.resolve(e[i]).then(t,n)}))},s._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){setTimeout(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var m=s,p=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof t.g)return t.g;throw new Error("unable to locate global object")}();"function"!=typeof p.Promise?p.Promise=m:p.Promise.prototype["finally"]?p.Promise.allSettled||(p.Promise.allSettled=i):p.Promise.prototype["finally"]=e}(),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return t===undefined&&(t=0),-1!==this.indexOf(e,t)}),String.prototype.startsWith||(String.prototype.startsWith=function(e){return this.substring(0,e.length)==e}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}),String.prototype.ltrim||(String.prototype.ltrim=function(){return this.replace(/^\s+/,"")}),String.prototype.rtrim||(String.prototype.rtrim=function(){return this.replace(/\s+$/,"")}),String.prototype.fulltrim||(String.prototype.fulltrim=function(){return this.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")}),function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==t&&t||{},n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function s(e){var t={next:function(){var t=e.shift();return{done:t===undefined,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function u(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(u)}),this.text=function(){var e,t,n,i=c(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,n=d(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=r(e),t=o(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype["delete"]=function(e){delete this.map[r(e)]},l.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},l.prototype.set=function(e,t){this.map[r(e)]=o(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),s(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),s(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),s(e)},n.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function p(e,n){if(!(this instanceof p))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var i,a,r=(n=n||{}).body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,n.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=n.credentials||this.credentials||"same-origin",!n.headers&&this.headers||(this.headers=new l(n.headers)),this.method=(a=(i=n.method||this.method||"GET").toUpperCase(),m.indexOf(a)>-1?a:i),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal||function(){if("AbortController"in t)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==n.cache&&"no-cache"!==n.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function g(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(a))}})),t}function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===undefined?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===undefined?"":""+t.statusText,this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];v.redirect=function(e,t){if(-1===y.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})};var w=t.DOMException;try{new w}catch(_){(w=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function b(i,a){return new Promise((function(r,s){var c=new p(i,a);if(c.signal&&c.signal.aborted)return s(new w("Aborted","AbortError"));var d=new XMLHttpRequest;function u(){d.abort()}d.onload=function(){var e,t,n={status:d.status,statusText:d.statusText,headers:(e=d.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var a=n.join(":").trim();t.append(i,a)}})),t)};n.url="responseURL"in d?d.responseURL:n.headers.get("X-Request-URL");var i="response"in d?d.response:d.responseText;setTimeout((function(){r(new v(i,n))}),0)},d.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},d.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},d.onabort=function(){setTimeout((function(){s(new w("Aborted","AbortError"))}),0)},d.open(c.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(n){return e}}(c.url),!0),"include"===c.credentials?d.withCredentials=!0:"omit"===c.credentials&&(d.withCredentials=!1),"responseType"in d&&(n.blob?d.responseType="blob":n.arrayBuffer&&c.headers.get("Content-Type")&&-1!==c.headers.get("Content-Type").indexOf("application/octet-stream")&&(d.responseType="arraybuffer")),!a||"object"!==e(a.headers)||a.headers instanceof l?c.headers.forEach((function(e,t){d.setRequestHeader(t,e)})):Object.getOwnPropertyNames(a.headers).forEach((function(e){d.setRequestHeader(e,o(a.headers[e]))})),c.signal&&(c.signal.addEventListener("abort",u),d.onreadystatechange=function(){4===d.readyState&&c.signal.removeEventListener("abort",u)}),d.send("undefined"==typeof c._bodyInit?null:c._bodyInit)}))}b.polyfill=!0,t.fetch||(t.fetch=b,t.Headers=l,t.Request=p,t.Response=v)}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){"use strict";if("Element"in e){var t="classList",n="prototype",i=e.Element[n],a=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},c=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,a=n.length;i<a;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},d=c[n]=[],u=function(){return new c(this)};if(s[n]=Error[n],d.item=function(e){return this[e]||null},d.contains=function(e){return-1!==l(this,e+="")},d.add=function(){var e,t=arguments,n=0,i=t.length,a=!1;do{-1===l(this,e=t[n]+"")&&(this.push(e),a=!0)}while(++n<i);a&&this._updateClassName()},d.remove=function(){var e,t,n=arguments,i=0,a=n.length,r=!1;do{for(t=l(this,e=n[i]+"");-1!==t;)this.splice(t,1),r=!0,t=l(this,e)}while(++i<a);r&&this._updateClassName()},d.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},d.toString=function(){return this.join(" ")},a.defineProperty){var h={get:u,enumerable:!0,configurable:!0};try{a.defineProperty(i,t,h)}catch(y){y.number!==undefined&&-2146823252!==y.number||(h.enumerable=!1,a.defineProperty(i,t,h))}}else a[n].__defineGetter__&&i.__defineGetter__(t,u)}}(self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}()),(e=window.Node||window.Element)&&e.prototype&&null==e.prototype.firstElementChild&&Object.defineProperty(e.prototype,"firstElementChild",{get:function(){for(var e,t=this.childNodes,n=0;e=t[n++];)if(1===e.nodeType)return e;return null}}),Date.prototype.daysInMonth=function(){return 32-new Date(this.getFullYear(),this.getMonth(),32).getDate()},"undefined"!=typeof Map&&window.Map.prototype.keys&&"undefined"!=typeof Set&&window.Set.prototype.keys||function(){var e,t,n,i,a,r,o={"delete":function(t){return!!~(e=s(this.k,t))&&(this.k.splice(e,1),this.v.splice(e,1),--this.size,!0)},get:function(e){return this.v[s(this.k,e)]},set:function(t,n){return~(e=s(this.k,t))||(this.k[e=this.size++]=t),this.v[e]=n,this},has:function(e){return s(this.k,e)>-1},clear:function(){this.k.length=this.v.length=this.size=0},forEach:function(e,t){t&&(e=e.bind(t));for(var n=-1,i=this.size;++n!==i;)e(this.v[n],this.k[n],this)},entries:function(){var e=0,t=this;return{next:function(){return e!==t.size?{value:[t.k[e++],t.v[e]],done:!1}:{done:!0}}}},keys:function(){var e=0,t=this;return{next:function(){return e!==t.size?{value:t.k[e++],done:!1}:{done:!0}}}},values:function(){var e=0,t=this;return{next:function(){return e!==t.size?{value:t.v[e++],done:!1}:{done:!0}}}},toString:function(){return"[object Map]"}};function s(e,i){if(i==i)return e.indexOf(i);for(t=0,n=e.length;e[t]==e[t]&&++t!==n;);return t}"undefined"==typeof Map&&(window.Map=function(e){if(i=this.k=[],a=this.v=[],n=0,e!==undefined&&null!==e){if(r=Object(e),(t=+r.length)!=t)throw new TypeError("("+(e.toString||r.toString)()+") is not iterable");for(;t--;){if(!(r[t]instanceof Object))throw new TypeError("Iterator value "+r[t]+" is not an entry object");~s(i,r[t][0])||(i[n]=r[t][0],a[n++]=r[t][1])}i.reverse(),a.reverse()}this.size=n},window.Map.prototype=o),"undefined"==typeof WeakMap&&(window.WeakMap=window.Map),"undefined"==typeof Set&&(window.Set=function(e){if(i=this.k=this.v=[],n=0,e!==undefined&&null!==e){if(r=Object(e),(t=+r.length)!=t)throw new TypeError("("+(e.toString||r.toString)()+") is not iterable");for(;t--;)~s(i,r[t])||(i[n++]=r[t]);i.reverse()}this.size=n},window.Set.prototype={"delete":function(t){return!!~(e=s(this.k,t))&&(this.k.splice(e,1),--this.size,!0)},add:function(t){return~(e=s(this.k,t))||(e=this.size++),this.k[e]=t,this},has:o.has,clear:o.clear,forEach:o.forEach,entries:o.entries,keys:o.keys,values:o.keys,toString:function(){return"[object Set]"}}),"undefined"==typeof WeakSet&&(window.WeakSet=window.Set)}()}(),window.Core=new Core;var ieVersion=function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return e>4?e:undefined}(),supportsCssProp=function(){var e=document.createElement("div"),t=["Khtml","Ms","O","Moz","Webkit","ms"];return function(n){if(n in e.style)return n;n=n.replace(/^[a-z]/,(function(e){return e.toUpperCase()}));for(var i=t.length;i--;)if(t[i]+n in e.style)return t[i]+n;return!1}}();function isEmpty(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function getCharCode(e){return(e=e||window.event).which||e.keyCode}function getElementsByClass(e,t){if(document.getElementsByClassName)return(t||document).getElementsByClassName(e);var n,i,a=(t=t||document).getElementsByTagName("*"),r=a.length,o=e.split(/\s+/),s=o.length,l=[];for(n=0;n<r;n++)for(i=0;i<s;i++)if(-1!=a[n].className.search("\\b"+o[i]+"\\b")){l.push(a[n]);break}return l}function getElementsByTagClass(e,t,n){var i,a,r=(n=n||document).getElementsByTagName(e),o=r.length,s=t.split(/\s+/),l=s.length,c=[];for(i=0;i<o;i++)for(a=0;a<l;a++)if(-1!=r[i].className.search("\\b"+s[a]+"\\b")){c.push(r[i]);break}return c}function getAncessor(e,t){if(!e||!e.parentElement)return e;for(;(e=e.parentElement)&&!e.classList.contains(t););return e}function setSelectionRange(e,t,n){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,n);else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",n),i.select()}}function setCursor(e,t){setSelectionRange(e,t,t)}function typeOf(e){return"object"==typeof e?e.length?"array":"object":typeof e}function S4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function S5(){return(1048576*(1+Math.random())|0).toString(16).substring(1)}function guid(){return S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4()}function getUrlParam(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return null==t?"":t[1]}function setUrlParam(e,t){document.location.search=changeUrlParamsString(document.location.search,e,t)}function changeUrlParamsString(e,t,n){var i=!1;n||(i=!0),t=encodeURI(t),n=encodeURI(n),0==e.indexOf("?")&&(e=e.substr(1));for(var a,r=e.split("&"),o=r.length;o--;)if((a=r[o].split("="))[0]==t){if(i){r.splice(o,1);break}a[1]=n,r[o]=a.join("=");break}o<0&&(r[r.length]=[t,n].join("="));for(var s="",l=0;l<r.length;l++)r[l]&&(s+=s?"&":"?",s+=r[l]);return s}function isHttps(){return"https:"==window.location.protocol}function getFileExtension(e,t){if(!e||!e.length)return undefined;for(var n="",i=!1,a=0;a<e.length;a++){var r=e[a];n+=r,"."==r&&(n="",i=!0)}return i&&n?t?n.toLowerCase():n:undefined}function createElement(e,t,n){var i=document.createElement(t);if(n)for(var a in n)n.hasOwnProperty(a)&&("name"==a?i.setAttribute("name",n[a]):"className"==a?i.className=n[a]:-1!=a.indexOf("style")||(i[a]=n[a]));return e&&e.appendChild(i),i}function prependElement(e,t){e&&t&&(e.childNodes&&e.childNodes.length>0?e.insertBefore(t,e.childNodes[0]):e.appendChild(t))}function insertAfter(e,t,n){n&&n.nextSibling||e.appendChild(t),e.insertBefore(t,n.nextSibling)}function injectIframe(e,t){var n=document.createElement("iframe");n.marginHeight="0",n.marginWidth="0",n.frameBorder="0",n.scrolling="no",e.appendChild(n),n.width="100%",n.height="100%";var i=n.document;n.contentDocument?i=n.contentDocument:n.contentWindow&&(i=n.contentWindow.document),i.open(),i.writeln(t),i.close()}function encodeHtml(e){if(!e)return e;var t=e;return t=(t=(t=t.replace(/&/g,"&amp;")).replace(/>/g,"&gt;")).replace(/</g,"&lt;")}function decodeHtml(e){if(!e)return e;var t=document.createElement("textarea");return t.innerHTML=e,t.value}function stripHtml(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText}function GetDate(e){var t="",n=(new Date,new Date(1e3*e));return t+=n.getFullYear(),t+="."+(n.getUTCMonth()>8?n.getUTCMonth()+1:"0"+(n.getUTCMonth()+1)),t+="."+(n.getUTCDate()>9?n.getUTCDate():"0"+n.getUTCDate())}function GetDateLocal(e){var t="",n=(new Date,new Date(1e3*e));return t+=n.getFullYear(),t+="."+(n.getMonth()>8?n.getMonth()+1:"0"+(n.getMonth()+1)),t+="."+(n.getDate()>9?n.getDate():"0"+n.getDate())}function GetDateTime(e){var t="",n=(new Date,new Date(1e3*e));return t+=n.getFullYear(),t+="."+(n.getUTCMonth()>8?n.getUTCMonth()+1:"0"+(n.getUTCMonth()+1)),t+="."+(n.getUTCDate()>9?n.getUTCDate():"0"+n.getUTCDate()),t+=" "+(n.getUTCHours()>9?n.getUTCHours():"0"+n.getUTCHours()),t+=":"+(n.getUTCMinutes()>9?n.getUTCMinutes():"0"+n.getUTCMinutes())}function GetDateTimeLocal(e){var t="",n=new Date(1e3*e);return t+=n.getFullYear(),t+="."+(n.getMonth()>8?n.getMonth()+1:"0"+(n.getMonth()+1)),t+="."+(n.getDate()>9?n.getDate():"0"+n.getDate()),t+=" "+(n.getHours()>9?n.getHours():"0"+n.getHours()),t+=":"+(n.getMinutes()>9?n.getMinutes():"0"+n.getMinutes())}function objectEquals(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(e[n]!=t[n])return!1}for(var n in t)if(t.hasOwnProperty(n)){if(!e.hasOwnProperty(n))return!1;if(e[n]!=t[n])return!1}return!0}function toggleBlock(e){e&&("none"==e.style.display?e.oldDisplay?e.style.display=e.oldDisplay:e.style.display="block":(e.oldDisplay=e.style.display,e.style.display="none"))}function toggle(e){toggleBlock($(e))}function toggleVisibility(e){var t=$(e);t&&("hidden"==t.style.visibility?t.style.visibility="visible":t.style.visibility="hidden")}function getFirstChildElement(e){if(!e&&1!=e.nodeType)return null;for(var t=e.firstChild;t&&1!=t.nodeType;)t=t.nextSibling;return t}function setHotKeysPaginator(e,t,n){var i=""==e?document:document.getElementById(e),a=i.onkeydown;i.onkeydown=function(e){a&&a(e);var i=window.event?window.event:e,r=i.target?i.target:window.event.srcElement;if(i.ctrlKey){if("INPUT"==r.tagName||"TEXTAREA"==r.tagName)return;37==i.keyCode&&""!=t?location.href=t:39==i.keyCode&&""!=n&&(location.href=n)}}}function HashparamsContainer(){this.prototype=Object;var e=new Array,t=new Array,n=0,i="",a=function(){if(t=new Array,e=new Array,-1!=(n=location.href.indexOf("#!"))&&location.href.length!=n+2){var a=location.href.substring(n+2),r=a.indexOf("#");-1!=r&&(i=a.substring(r),a=a.substring(0,r));for(var o=a.split("&"),s=0;s<o.length;s++){var l=o[s].split("=");e.push(decodeURIComponent(l[0])),1==l.length?t.push(null):t.push(decodeURIComponent(l[1]))}}};a(),window.addEventListener&&window.addEventListener("hashchange",a,!1);var r=function(){for(var n="",i=0;i<e.length;i++)n.length>0&&(n+="&"),n+=encodeURIComponent(e[i]),t[i]&&t[i].toString().length>0&&(n+="="+encodeURIComponent(t[i].toString()));return n};this.Get=function(n){var i=e.indexOf(n);return-1==i?null:t[i]},this.GetDefaultHash=function(){return i},this.Set=function(n,i){var a=e.indexOf(n);-1==a?(e.push(n),t.push(i)):t[a]=i,document.location=document.location.pathname+("search"in document.location&&document.location.search?document.location.search:"")+"#!"+r()},this.Remove=function(n){var i=e.indexOf(n);if(-1!=i){t.splice(i,1),e.splice(i,1);var a=r();a?document.location=document.location.pathname+("search"in document.location&&document.location.search?document.location.search:"")+"#!"+a:document.location.hash=""}},this.Clear=function(){t=new Array,e=new Array,document.location=document.location.pathname+("search"in document.location&&document.location.search?document.location.search:"")+"#"},this.Count=function(){return e.length}}function getWindowSize(){var e=0,t=0;return"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),{width:e,height:t}}function getDocumentBodySize(){var e=0,t=0;return"number"==typeof(document.body&&document.body.scrollWidth)?(e=document.body.scrollWidth,t=document.body.scrollHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),{width:e,height:t}}function getWindowScroll(){var e=0,t=0;return"number"==typeof window.pageYOffset?(t=window.pageYOffset,e=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(t=document.body.scrollTop,e=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft),{top:t,left:e}}function getOffsetSum(e){for(var t=0,n=0;e;)t+=parseFloat(e.offsetTop),n+=parseFloat(e.offsetLeft),e=e.offsetParent;return{top:Math.round(t),left:Math.round(n)}}function getOffsetRect(e,t){var n=t?t.contentWindow:window,i=e.getBoundingClientRect(),a=n.document.body,r=n.document.documentElement,o=n.pageYOffset||r.scrollTop||a.scrollTop,s=n.pageXOffset||r.scrollLeft||a.scrollLeft,l=r.clientTop||a.clientTop||0,c=r.clientLeft||a.clientLeft||0,d=i.top+o-l,u=i.left+s-c,h=i.bottom;return{top:Math.round(d),left:Math.round(u),bottom:Math.round(h)}}function getOffset(e){return e.getBoundingClientRect?getOffsetRect(e):getOffsetSum(e)}function getElementSize(e){return{width:e.clientWidth||e.offsetWidth,height:e.clientHeight||e.offsetHeight}}function dateToString(e,t,n){var i=e.getDate(),a=e.getMonth()+1,r=e.getFullYear()+"-"+(a<=9?"0"+a:a)+"-"+(i<=9?"0"+i:i);if(t){var o=e.getHours(),s=e.getMinutes();if(r+=" "+(o<=9?"0"+o:o)+":"+(s<=9?"0"+s:s),n){var l=e.getSeconds();r+=":"+(l<=9?"0"+l:l)}}return r}function tooltip(e,t,n,i,a){e.timeoutID&&clearTimeout(e.timeoutID);var r,o=S4(),s=createElement(document.body,"div",{id:"tooltip_"+o,className:"customTooltip"}),l=createElement(s,"div",{id:"tooltipContent_"+o,className:"customTooltipContent"});supportsCssProp("transform")&&(r=createElement(s,"span",{className:"tooltipCorner"})),s.hovered=!1,s.onmouseover=function(){this.hovered=!0},s.onmouseout=function(){var t=this;t.hovered=!1,setTimeout((function(){if(!0!==t.hovered)try{i&&(e.show=!1,i(t)),$(t.id)&&document.body.removeChild(t)}catch(n){window.console&&window.console.log&&window.console.log(n.message)}}),300)},"string"==typeOf(t)?l.innerHTML+=t:"object"==typeOf(t)&&l.appendChild(t);l.getElementsByTagName("a");var c=getOffset(e);return c.realLeft=c.left,e.tooltipContainer=s,e.onmouseout=function(){clearTimeout(e.timeoutID);var t=s;setTimeout((function(){if(1!=t.hovered)try{i&&(e.show=!1,i(t)),document.body.removeChild(t)}catch(n){window.console&&window.console.log&&window.console.log(n.message)}}),300)},e.hide=function(){clearTimeout(e.timeoutID);var t=s;setTimeout((function(){try{i&&(e.show=!1,i(t)),document.body.removeChild(t)}catch(n){window.console&&window.console.log&&window.console.log(n.message)}}),0)},e.onclick=function(){!0===e.show?e.hide():tooltip(e,t,n,i,a)},e.timeoutID=setTimeout((function(){var t;s.style.display="block",s.style.top=c.top+25+"px",s.style.maxWidth=document.body.offsetWidth-10+"px",s.style.left=(t=c.left-.2*s.clientWidth,t=Math.max(10,t),(t=Math.min(t,document.body.offsetWidth-5-s.clientWidth))+"px"),s.offsetHeight+c.top>document.body.offsetHeight&&(s.style.top=c.top-20-s.offsetHeight+"px",Class(r,"bottomCorner")),r&&(r.style.left=function(){var t=e.clientWidth/2+c.left-s.offsetLeft-7;return t=Math.min(s.clientWidth-15,t),t=Math.max(5,t),t}()+"px"),setOpacity(s,.01),fade(s,1,200,20),e.show=!0,n&&n(s)}),a||50),l.id}function setOpacity(e,t){e.style.opacity=t,e.style.MozOpacity=t,e.style.KhtmlOpacity=t,e.style.filter="alpha(opacity="+100*t+");"}function animate(e,t,n,i,a,r,o,s,l,c){if(t=supportsCssProp(t)||t,i!=a){0!=l&&l||(l=1e-7),c||(c=0);e=e;var d=supportsCssProp("transition");if(d){var u={marginLeft:"margin-left",marginRight:"margin-right",paggingLeft:"pagging-left",paggingRight:"pagging-right"}[t]||t;return e.style[d]="none",e.style[t]=i+n,setTimeout((function(){var i=u+" "+o/1e3+"s "+(l&&0!=l?" ease":" linear")+(r>0?" "+r/1e3+"s":"");e.style[d]=i,e.style[t]=a+n}),1),void setTimeout((function(){e.style[d]="none"}),o+r+10)}for(var h=0,f=a-i,m=f!=Math.abs(f),p=(h=0,0);p<=s;p++)setTimeout((function(){var a=f*Math.pow(h/f,1/l);0!=c&&(a+=Math.sin(Math.PI*h/f)*h*c),e.style[t]=a+i+n,h=1==m?Math.max(h+Math.floor(f/s),f):Math.min(h+Math.ceil(f/s),f)}),p/s*o+r)}}function fade(e,t,n,i){if("in"==t||0==t)t=0;else{if("out"!=t&&1!=t)return;t=1}for(var a=0,r=0;r<=1;r+=1/i)setTimeout((function(){setOpacity(e,1==t?a:1-a),a+=1/i,a=Math.round(100*a)/100}),r*n);setTimeout((function(){setOpacity(e,1==t?1:0)}),n)}function apearBlockVertical(e,t,n,i,a,r){r||(r=.5),a||(a=20),i||(i=200);var o=createElement(null,"div");o.style.overflow="hidden",o.style.height=0,o.style.visibility="hidden",setOpacity(e,0),o.appendChild(e),e.style.display="block",1==n?prependElement(t,o):n&&n.tagName?t.insertBefore(o,n):t.appendChild(o);var s=o.scrollHeight;animate(o,"height","px",0,s,0,i,a,r),setTimeout((function(){o.style.display="none",t.insertBefore(e,o),t.removeChild(o),fade(e,"out",200,20)}),i)}function disapearBlockVertical(e,t,n,i,a){a||(a=.5),i||(i=20),n||(n=200);var r=e.parentNode,o=createElement(null,"div");o.style.overflow="hidden",r.insertBefore(o,e),o.appendChild(e);var s=o.scrollHeight;o.style.height=s+"px",fade(e,"in",200,20),setTimeout((function(){animate(o,"height","px",s,0,0,n,i,a)}),200),setTimeout((function(){t||(e.style.display="none",r.insertBefore(e,o)),o.parentNode.removeChild(o)}),n+500)}function extraLog(e){if(window.enableExtraLog){var t=createElement(null,"div",{innerHTML:e});prependElement(document.body,t)}}function doPost(e,t,n,i){try{(e=e||window.event)&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var a=t.indexOf("?");if(-1!=a){var r=t.substr(a+1);t=t.substr(0,a);var o=r.split("&");if(o&&o.length>0){i||(i={});for(var s=0;s<o.length;s++){var l=o[s],c=l.split("=");1==c.length?i[l]="":i[c[0]]=decodeURIComponent(c[1])}}}var d=createElement(document.body,"form",{action:t,method:"post",target:"_top"});if(n&&createElement(d,"input",{name:"__signature",type:"hidden",value:n}),i)for(var u in i)createElement(d,"input",{name:u,type:"hidden",value:i[u]});d.style.position="absolute",d.style.left="-5000px",d.submit()}catch(h){return void alert("action failed: "+h)}}function toTitleCase(e){return e?e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):e}function doubleScroll(e){var t=document.createElement("div");t.appendChild(document.createElement("div")),t.style.overflow="auto",t.style.overflowY="hidden",t.firstChild.style.width=e.scrollWidth+"px";var n=window.onresize;window.onresize=function(){n&&n(arguments),t.firstChild.style.width=e.scrollWidth+"px"},t.firstChild.style.paddingTop="1px",t.onscroll=function(){e.scrollLeft=t.scrollLeft},e.onscroll=function(){t.scrollLeft=e.scrollLeft},e.parentNode.insertBefore(t,e)}function dot2num(e){var t=e.split(".");return 256*(256*(256*+t[0]+ +t[1])+ +t[2])+ +t[3]}function bytesToSize(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}function whichTransitionEvent(){var e=document.createElement("span"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(t.hasOwnProperty(n)&&e.style[n]!==undefined)return t[n]}function whichTransform(){if(!window.getComputedStyle)return!1;var e=document.createElement("div"),t=null,n={webkitTransform:"webkitTransform",OTransform:"OTransform",msTransform:"msTransform",MozTransform:"MozTransform",transform:"transform"};for(var i in document.body.insertBefore(e,null),n)if(n.hasOwnProperty(i)&&e.style[i]!==undefined){e.style[i]="translateY(1px)";var a=window.getComputedStyle(e).getPropertyValue(n[i]);a&&a.length>0&&"none"!==a&&(t=n[i])}return document.body.removeChild(e),t}function whichFullScreen(){for(var e=document.createElement("span"),t=[["requestFullScreen","cancelFullScreen","fullScreen","fullscreeneventchange"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitIsFullScreen","webkitfullscreeneventchange"],["mozRequestFullScreen","mozCancelFullScreen","mozfullScreen","mozfullscreenchange"]],n=0,i=t.length;n<i;n++)if(e[t[n][0]])return t[n]}function Deeplink(){function e(e,t,n){return e.addEventListener?(e.addEventListener(t,n),{remove:function(){e.removeEventListener(t,n)}}):(e.attachEvent(t,n),{remove:function(){e.detachEvent(t,n)}})}function t(e,t){var n=document.createElement("IFRAME");return n.src=t,n.id="hiddenIframeForOpenDeeplink",n.style.display="none",e.appendChild(n),n}function n(){var e,t=-1;return"Microsoft Internet Explorer"===navigator.appName?(e=navigator.userAgent,null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))):"Netscape"===navigator.appName&&(e=navigator.userAgent,null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))),t}function i(i,a){10===n()?function(e,n){var i=setTimeout(n,1e3);window.addEventListener("blur",(function(){clearTimeout(i)}));var a=document.querySelector("#hiddenIframeForOpenDeeplink");a||(a=t(document.body,"about:blank"));try{a.contentWindow.location.href=e}catch(r){n(),clearTimeout(i)}}(i,a):9===n()||11===n()?function(n,i){var a=e(window,"blur",(function(){clearTimeout(r),a.remove()})),r=setTimeout((function(){i(),a.remove()}),1e3),o=document.querySelector("#hiddenIframeForOpenDeeplink");o||(o=t(document.body,"about:blank")),o.contentWindow.location.href=n}(i,a):function(e,t){var n=window.open("","","width=0,height=0");n.document.write("<iframe src='"+e+"'></iframe>"),setTimeout((function(){try{n.location.href;n.setTimeout("window.close()",1e3)}catch(e){n.close(),t()}}),1e3)}(i,a)}this.OpenUri=function(n,a){function r(){window.location=a}if(navigator.msLaunchUri)!function(e,t){navigator.msLaunchUri(e,(function(){}),t)}(n,r);else{var o={isOpera:s=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,isFirefox:"undefined"!=typeof InstallTrigger,isSafari:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,isChrome:!!window.chrome&&!s,isIE:!!document.documentMode};o.isFirefox?function(e,n){var i=document.querySelector("#hiddenIframeForOpenDeeplink");i||(i=t(document.body,"about:blank"));try{i.contentWindow.location.href=e}catch(a){n()}}(n,r):o.isChrome?function(t,n){for(var i=window;i!==i.parent;)i=i.parent;var a=e(i,"blur",(function(){clearTimeout(r),a.remove()})),r=setTimeout((function(){n(),a.remove()}),1e3);window.location=t}(n,r):o.isIE&&i(n,r)}var s}}function setAttributes(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}function arrayDeleteDuplicates(e){for(var t={},n=[],i=e.length,a=0,r=0;r<i;r++){var o=e[r];1!==t[o]&&(t[o]=1,n[a++]=o)}return n}function getUrlParams(e){var t={},n=window.history.pushState?e?e.split("?")[1]:window.location.search.slice(1):window.location.hash.substring(1);if(n){for(var i=n.split("&"),a=0,r=i.length;a<r;a++){var o=i[a].split("=");t[o[0]]=o[1]}return t}return!1}function urlParamInString(e){var t=window.history.pushState?"?":"";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+e[n]+"&");return t.substring(0,t.length-1)}function addUrlParams(e){var t,n=getUrlParams()||{};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);if((t=urlParamInString(n))===window.location.search)return!1;if(window.history.pushState)window.history.pushState(e,document.title,t);else if("undefined"!=typeof window.location.hash)window.location.hash=urlParamInString(n);else{if(window.location.href===t)return!0;window.location.href=t}return!0}function removeUrlParams(e){var t,n=getUrlParams();if(!n)return!1;for(var i=0,a=e.length;i<a;i++)delete n[e[i]];if(t=urlParamInString(n),window.history.pushState)window.history.pushState(e,document.title,t);else if("undefined"!=typeof window.location.hash)window.location.hash="";else{if(window.location.href===t)return!0;window.location.href=t}return!0}function getPointIntersection(e,t){var n,i,a=e[0].y-e[1].y,r=e[1].x-e[0].x,o=t[0].y-t[1].y,s=t[1].x-t[0].x,l=a*s-o*r;return 0!==l&&(n=e[1].y*e[0].x-e[1].x*e[0].y,{x:(r*(i=t[1].y*e[0].x-t[1].x*t[0].y)-s*n)/l,y:(o*n-a*i)/l})}function getFormatedNum(e){var t=e<0;if((e=Math.abs(e))<1e3)return(t?"-":"")+e.toFixed(0);var n=-1;do{e/=1e3,n++}while(e>1e3);return(t?"-":"")+Math.max(e,.1).toFixed(1)+["K","M","BN"][n]}function trim(e){for(var t=(e=e.replace(/^\s+/,"")).length-1;t>=0;t--)if(/\S/.test(e.charAt(t))){e=e.substring(0,t+1);break}return e}function generateId(e){return e=e||"global",this.counterId||(this.counterId={}),this.counterId[e]||(this.counterId[e]=0),this.counterId[e]++}window.Class=function(e,t,n){if(e)if(e.className){var i,a,r=e.className.split(" ");for(i=0,a=r.length;i<a;++i)if(r[i]==t)return void(n&&(r.splice(i,1),e.className=r.join(" ")));n||(r.push(t),e.className=r.join(" "))}else n||(e.className=t)},window.hashParams=new HashparamsContainer,window.isWindowActive=!1,window.isLastActiveWindow=function(){return!1},function(){var e;try{e=!!("undefined"!=typeof Storage&&Core.isLocalStorageSupported()&&window.JSON&&window.JSON.stringify)}catch(l){e=!1,window.console&&window.console.log&&console.log("local storage support check: "+l)}var t={};if(e){sessionStorage;try{t=localStorage}catch(l){t=sessionStorage}}var n,i,a={hidden:"visibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange",msHidden:"msvisibilitychange",oHidden:"ovisibilitychange"};for(n in a)if(a.hasOwnProperty(n)&&n in document){i=a[n];break}function r(e){var t=window.isWindowActive;"focus"==(e=e||window.event).type||"focusin"==e.type?window.isWindowActive=!0:"blur"==e.type||"focusout"==e.type?window.isWindowActive=!1:window.isWindowActive=!document[n],t!=window.isWindowActive&&function(e){if(!mqGlobal||!mqGlobal._onvisibility)return;for(var t=0;t<mqGlobal._onvisibility.length;t++)mqGlobal._onvisibility[t](e)}(window.isWindowActive),window.isWindowActive&&s(o),extraLog("change: "+o+": "+window.isWindowActive)}i?(window.isWindowActive=!document[n],document.addEventListener(i,r)):ieVersion&&ieVersion<=9?document.onfocusin=document.onfocusout=r:window.onfocus=window.onblur=r;var o=guid();function s(n){if(e)try{t.setItem("mql5com_isLastActiveWindow",n+"")}catch(i){t.removeItem("mql5com_isLastActiveWindow")}extraLog(n+": become ACTIVE")}e&&(window.isLastActiveWindow=function(){return function(){if(e)return t.getItem("mql5com_isLastActiveWindow")||null;return null}()==o},window.GetCurrentWindowId=function(){return o},window.isWindowActive&&s(o)),extraLog(n+" load: "+o+": "+window.isWindowActive)}(),function(){var e="contentEditable"in document.documentElement,t=navigator.userAgent;t.indexOf("Android")>=0&&(parseFloat(t.slice(t.indexOf("Android")+8))<=2.3&&(e=!1));if(e){var n=window.SmallRTE={};n.Clear=function(e){var t=$(e),i="<br>";t.placeholder&&(i=t.placeholder),n.SetContent(e,i)},n.SetPlaceholder=function(e,t){var i=$(e);if(i){var a=i.placeholder;i.placeholder=t,i.value===a&&n.Clear(e)}},n.SetContent=function(e,t){var n=$(e),a=$(i(e));if(a){a.innerHTML=t;var r=a.lastChild,o=r?r.className:null;o&&o.indexOf("fquote")>=0&&(t+="<br>",a.innerHTML=t)}n&&(n.value=t)},n.GetContent=function(e){var t=$(e);if(t){var n=t.value;return n!==t.placeholder?n:""}return null},n.isEmpty=function(e){var t=n.GetContent(e);return t&&(t=t.replace(/<(?!img|embed|iframe)[^>]+>|&nbsp;/gi,"")),!t},n.GetEditor=function(e){return $(i(e))},n.Flush=function(e){var t=$(e),n=$(i(e));t&&n&&(t.value=n.innerHTML)},n.Focus=function(e){var t,n,a=$(i(e));a&&(a.focus(),document.createRange?((t=document.createRange()).selectNodeContents(a),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(a),t.collapse(!1),t.select()))},n.Init=function(){if(window.SimpleRte)for(var e=0;e<window.SimpleRte.length;e++){var t=window.SimpleRte[e],r=$(t.id),o=createElement(null,"div",{id:i(t.id),contentEditable:"true",className:"smallEditor"});o.style.width=r.style.width,o.style.height=r.style.height,insertAfter(r.parentNode,o,r),r.style.display="none",a(t.id),n.SetContent(r.id,r.value),!t.placeholder||r.value&&"<br>"!==r.value?n.SetContent(r.id,r.value):(o.innerHTML=t.placeholder,r.placeholder=t.placeholder,Core.AddHandler(o,"focus",(function(){var e,t;stripHtml(o.innerHTML)==stripHtml(r.placeholder)&&(o.innerHTML="",document.createRange&&((e=document.createRange()).selectNodeContents(o),e.collapse(!1),(t=window.getSelection()).removeAllRanges(),t.addRange(e)))})),Core.AddHandler(o,"blur",(function(){""==o.innerHTML.replace("<br>","")&&(o.innerHTML=r.placeholder)})))}}}function i(e){return"__srte_"+e}function a(e){var t=$(e),a=$(i(e));if(t&&a){var r=function(e){return function(t){n.Flush(e)}};if(a.onkeyup=a.onChange=function(){r(e)()},a.addEventListener){for(var o=["copy","paste","keypress","input","textInput","blur","change","DOMNodeInserted"],s=["drop"],l=0;l<o.length;l++)a.addEventListener(o[l],r(e),!0);for(var c=0;c<s.length;c++)a.addEventListener(s[c],(function(e){return(e=e||window.event)&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),e&&e.cancelBubble&&(e.cancelBubble=!0),!1}),!0)}}}}(),function(){var e=window.MQTE={},t=window.MQRTE,n=window.SmallRTE;mqGlobal.AddOnReady((function(){t&&t.Init(window),n&&n.Init()})),e.SetPlaceholder=function(e,t){n&&n.SetPlaceholder(e,t)},e.Focus=function(e){if(t&&t.Editor(e))t.Focus(e);else if(n&&n.GetEditor(e))n.Focus(e);else{var i=$(e);i&&i.focus&&i.focus()}},e.AddFocusHandler=function(e,n){t&&t.Editor(e)&&t.AddFocusHandler(e,n)},e.GetContent=function(e){if(t&&t.Editor(e))return t.GetContent(e);if(n&&n.GetEditor(e))return n.GetContent(e);var i=$(e);return i?i.value:null},e.SetContent=function(e,i){if(t&&t.Editor(e))t.SetContent(e,i);else if(n&&n.GetEditor(e))n.SetContent(e,i);else{var a=$(e);a&&(a.value=i)}},e.InsertContent=function(e,i,a){if(t&&t.Editor(e))t.InsertContent(e,i,a);else if(n&&n.GetEditor(e))n.SetContent(e,i);else{var r=$(e);r&&(r.value=i)}},e.Clear=function(e){if(t&&t.Editor(e))t.Clear(e);else if(n&&n.GetEditor(e))n.Clear(e);else{var i=$(e);i&&(i.value=i.innerHTML="")}},e.IsEmpty=function(e){if(t&&t.Editor(e))return t.isEmpty(e);if(n&&n.GetEditor(e))return n.isEmpty(e);var i=$(e);return!i||0==i.value.fulltrim().length},e.MarkUnchanged=function(e){t&&t.Editor(e)&&t.MarkUnchanged(e)},e.Changed=function(e){return!(!t||!t.Editor(e))&&t.Changed(e)},e.Highlight=function(e,n){return t?t.highlight(e,n):n},e.Flush=function(e){t&&t.Editor(e)?t.Flush(e):n&&n.GetEditor(e)&&n.Flush(e)},e.HotKey=function(e,n,i,a,r,o){t&&t.Editor(e)&&t.HotKey(e,n,i,a,r,o)},e.SetValidationClass=function(e,i){var a=$(e);if(a)if(t&&t.Editor&&t.Editor(e))for(var r=a.parentNode;r;){if(i){if("dalet-editor"==r.className){r.className="dalet-editor field-validation-error";break}}else if(r.className&&-1!=r.className.indexOf("field-validation-error")){var o=r.className.split(" "),s=[];for(var l in o)"field-validation-error"!=o[l]&&s.push(o[l]);r.className=s.join(" ");break}r=r.parentNode}else if(n&&n.GetEditor&&n.GetEditor(e)){if(!(r=n.GetEditor(e)))return;if(i){if("smallEditor"==r.className)return void(r.className="smallEditor field-validation-error")}else if(r.className&&-1!=r.className.indexOf("field-validation-error")){o=r.className.split(" "),s=[];for(var l in o)"field-validation-error"!=o[l]&&s.push(o[l]);return void(r.className=s.join(" "))}}else"DIV"==a.parentNode.nodeName&&a.parentNode.className.indexOf("inputWrapper")>-1?Class(a.parentNode,"field-validation-error",!i):Class(a,"field-validation-error",!i)}}(),mqGlobal.AddOnReady((function(){var e=getElementsByClass("matrix_wrapper");if(e&&e.length)for(var t=0;t<e.length;t++)doubleScroll(e[t])})),function(){function e(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}var t;t="undefined"!=typeof document&&document.head&&document.head.dataset?{set:function(e,t,n){e.dataset[t]=n},get:function(e,t){return e.dataset[t]},del:function(e,t){delete e.dataset[t]}}:{set:function(t,n,i){t.setAttribute("data-"+e(n),i)},get:function(t,n){return t.getAttribute("data-"+e(n))},del:function(t,n){t.removeAttribute("data-"+e(n))}},window.dataset=function(e,n,i){var a={set:r,get:o,del:function(n){return t.del(e,n),a}};function r(n,i){return t.set(e,n,i),a}function o(n){return t.get(e,n)}return 3===arguments.length?r(n,i):2===arguments.length?o(n):a}}(),window.Deeplink=new Deeplink,function(){var e=window.Ajax={},t=[],n=[];function i(){var e=t.shift();if(e)return e;try{if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(i){e=new ActiveXObject("Microsoft.XMLHTTP")}n.push(e)}catch(i){e=null}return e}function a(e){e.abort(),t.push(e)}function r(e){var t,n,i={};if(!e)return i;for(t=(e=e.split("\n")).length-1;t>=0;--t)2==(n=e[t].split(":")).length&&(i[n[0].toLowerCase().replace(/^\s+|\s+$/g,"")]=n[1].replace(/^\s+|\s+$/g,""));return i}function o(e,t,n,i,a){var o,s;(o=e.onrequestready)||(o=e.onready),s=e.onendrequest;try{s&&s.call(e,t,n,i,r(a)),o&&o.call(e,t,n,i,r(a))}catch(c){var l="";c===undefined?l="undefined error":"object"==typeof c?"stack"in c&&c.stack?("message"in c&&c.message&&(l+=c.message+"\r\n"),l+=c.stack):"message"in c&&c.message?(l=c.message,"filename"in c&&c.filename&&(l+=c.filename),"lineno"in c&&c.lineno&&(l+=":"+c.lineno),"columnNumber"in c&&c.columnNumber&&(l+=":"+c.columnNumber)):l="type"in c&&c.type?c.type:c:l=c,alert(l)}}function s(e,t){if(t){var n,i,a,s,l;try{n=e.status}catch(c){}try{i=e.responseText}catch(c){}try{a=e.responseXML}catch(c){}try{s=e.statusText}catch(c){}try{l=e.getAllResponseHeaders()}catch(c){}switch(n){case 200:if(l){o(t,i,a,s,l);break}n=0,s="";default:!function(e,t,n,i,a,o){var s,l;(s=e.onrequesterror)||(s=e.onerror),l=e.onendrequest;try{l&&l.call(e,n,i,t,r(o)),s&&s.call(e,t,n,i,a,r(o))}catch(c){alert(c.message)}}(t,n,i,a,s,l)}}}function l(e){var t,n,i,a=[];if(e instanceof Array)for(n=0,i=e.length;n<i;++n)a.push([e[n][0],encodeURIComponent(e[n][1])].join("="));else for(t in e)a.push([t,encodeURIComponent(e[t])].join("="));return a.join("&")}function c(e,t){var n,i=e.ownerDocument.createElement("iframe"),a=["upload_frame",Math.random()].join("_");(n=i.style).position="absolute",n.left=n.top="-30000px",i.name=a,i.id=a,e.parentNode.insertBefore(i,e),e.target=a,(n=e.ownerDocument.parentWindow)||(n=e.ownerDocument.defaultView),n.frames[a].name!=a&&(n.frames[a].name=a);var r=!1,s=function(){if(!(r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){r=!0,i.onload=i.onreadystatechange=null;try{if(navigator.userAgent.indexOf("Opera")>=0){var e=this,n=t;setTimeout((function(){var t=e.contentWindow.document.body.innerHTML;o(n,t,e.contentWindow.document,null,"")}),300)}else{var a=this.contentWindow.document.body.innerHTML;o(t,a,this.contentWindow.document,null,"")}}catch(s){alert("call_onready error: "+s)}}};navigator.userAgent.indexOf("Opera")>=0&&i.addEventListener("DOMContentLoaded",s),i.onload=i.onreadystatechange=s,e.submit(),t&&t.onbeginrequest&&t.onbeginrequest.call(t,e)}function d(e){e.abort()}function u(e){return{ajax:e,timeout:setTimeout((function(){d(e)}),24e4)}}e.get=function(e,t,n){var r,o=i(),c=u(o);if(o){n&&n.onbeginrequest&&n.onbeginrequest.call(n,o),t=l(t),r=-1==e.indexOf("?")?"?":"&",o.open("get",t?[e,t].join(r):e,!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onreadystatechange=function(){if(4===o.readyState)c&&(clearTimeout(c.timeout),c.ajax=null,c=null),s(o,n),a(o)};try{o.send("")}catch(d){return!1}return c}onerror&&onerror()},e.post=function(e,t,n,r,o,c){var d=i(),h=u(d);d.open("post",e,!0),c?d.withCredentials=!0:d.setRequestHeader("X-Requested-With","XMLHttpRequest"),n?(d.setRequestHeader("Content-Type","multipart/form-data; boundary=AJAX----FORM"),t=function(e,t){var n,i,a,r=[];function o(e,n){r.push("--"),r.push(t),r.push('\r\nContent-Disposition: form-data; name="'),r.push(e),r.push('"'),n.filename&&(r.push(';filename="'),r.push(n.filename),r.push('"')),r.push("\r\n\r\n"),n.value?r.push(n.value):r.push(n),r.push("\r\n")}if(e instanceof Array)for(i=0,a=e.length;i<a;++i)o(e[i][0],e[i][1]);else for(n in e)o(n,e[n]);return r.push("--"),r.push(t),r.push("--\r\n"),r.join("")}(t,"AJAX----FORM")):o?(d.setRequestHeader("Content-Type","application/json"),t=JSON.stringify(t)):(d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t=l(t)),d.onreadystatechange=function(){if(4===d.readyState)h&&(clearTimeout(h.timeout),h.ajax=null,h=null),s(d,r),a(d)},r&&r.onbeginrequest&&r.onbeginrequest.call(r,d);try{d.send(t)}catch(f){return!1}return h},e.form=function(t,n){for(var i=[],a=t.elements,r=0,o=a.length;r<o;++r){var s=a[r];switch(s.type.toLowerCase()){case"file":return c(t,n),!1;case"text":case"email":case"tel":case"phone":case"password":case"hidden":case"submit":case"image":case"number":case"color":case"date":case"datetime-local":case"month":case"range":case"search":case"time":case"url":case"week":s.name&&i.push([s.name,s.value]);continue;case"checkbox":case"radio":s.name&&s.checked&&i.push([s.name,s.value?s.value:"on"]);continue}("TEXTAREA"==s.nodeName&&s.name||"SELECT"==s.nodeName&&s.name)&&i.push([s.name,s.value])}"post"==t.method.toLowerCase()?e.post(t.action,i,"multipart/form-data"==t.enctype,n):e.get(t.action,i,n)},e.stop=function(e){var t;e&&(t=e.ajax)&&(clearTimeout(e.timeout),t.onreadystatechange=null,d(t))},e.url=function(e,t){var n=e.split("?");return[e=n[0],t=l(t)].join("?")},e.stopAll=function(){if(n&&n.length)for(var e=0;e<n.length;e++){var t=n[e];t&&t.abort()}},Core.AddHandler(window,"beforeunload",e.stopAll)}();var DataHelper=function(){function e(e){for(var t=0,n=e.length-1;n>=0;n--)t=256*t+e.charCodeAt(n);return t}function t(e){for(var t="",n=0;n<e.length;n++){var i=15&e.charCodeAt(n),a=e.charCodeAt(n)>>4&15;t+=a<10?String.fromCharCode(a+48):String.fromCharCode(a+55),t+=i<10?String.fromCharCode(i+48):String.fromCharCode(i+55)}return t}function n(e){if(e.length%2)return"";for(var t="",n=0;n+1<e.length;n+=2){var a=i(e.charCodeAt(n+0)),r=i(e.charCodeAt(n+1));t+=String.fromCharCode(16*a+r)}return t}function i(e){return e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:e>=48&&e<=57?e-48:0}function a(e,t){for(var n=Math.min(e.length,t.length);n>0;n--){if(e.charCodeAt(n-1)<t.charCodeAt(n-1))return-1;if(e.charCodeAt(n-1)>t.charCodeAt(n-1))return 1}return e.length<t.length?-1:e.length>t.length?1:0}function r(e,t,n){var i,a,r,o,s,l;return isFinite(e)||(e=0),isFinite(t)||(t=0),isFinite(n)||(n=0),(e/=60)<0&&(e=6- -e%6),e%=6,t=Math.max(0,Math.min(1,t/100)),n=Math.max(0,Math.min(1,n/100)),l=(s=(1-Math.abs(2*n-1))*t)*(1-Math.abs(e%2-1)),e<1?(i=s,a=l,r=0):e<2?(i=l,a=s,r=0):e<3?(i=0,a=s,r=l):e<4?(i=0,a=l,r=s):e<5?(i=l,a=0,r=s):(i=s,a=0,r=l),o=n-s/2,[i=Math.round(255*(i+o)),a=Math.round(255*(a+o)),r=Math.round(255*(r+o))]}var o={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,i,a,r,s,l,c="",d=0;for(e=o._utf8_encode(e);d<e.length;)a=(t=e.charCodeAt(d++))>>2,r=(3&t)<<4|(n=e.charCodeAt(d++))>>4,s=(15&n)<<2|(i=e.charCodeAt(d++))>>6,l=63&i,isNaN(n)?s=l=64:isNaN(i)&&(l=64),c=c+this._keyStr.charAt(a)+this._keyStr.charAt(r)+this._keyStr.charAt(s)+this._keyStr.charAt(l);return c},decode:function(e){var t,n,i,a,r,s,l="",c=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");c<e.length;)t=this._keyStr.indexOf(e.charAt(c++))<<2|(a=this._keyStr.indexOf(e.charAt(c++)))>>4,n=(15&a)<<4|(r=this._keyStr.indexOf(e.charAt(c++)))>>2,i=(3&r)<<6|(s=this._keyStr.indexOf(e.charAt(c++))),l+=String.fromCharCode(t),64!==r&&(l+=String.fromCharCode(n)),64!==s&&(l+=String.fromCharCode(i));return l=o._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=0,a=0,r=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(a=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&a),n+=2):(a=e.charCodeAt(n+1),r=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&r),n+=3);return t}};return{encodeHTML:function(e){if(!e)return e;var t=e;return t=(t=(t=t.replace(/&/g,"&amp;")).replace(/>/g,"&gt;")).replace(/</g,"&lt;")},compareBinary:a,binToHexLE:function(e){for(var t="",n=e.length-1;n>=0;n--){var i=15&e.charCodeAt(n),a=e.charCodeAt(n)>>4&15;t+=a<10?String.fromCharCode(a+48):String.fromCharCode(a+55),t+=i<10?String.fromCharCode(i+48):String.fromCharCode(i+55)}return t},binToHex:t,binToNumber:e,hexToUint8:function(e){var t="";return t+=e.charAt(14),t+=e.charAt(15),t+=e.charAt(12),t+=e.charAt(13),t+=e.charAt(10),t+=e.charAt(11),t+=e.charAt(8),t+=e.charAt(9),t+=e.charAt(6),t+=e.charAt(7),t+=e.charAt(4),t+=e.charAt(5),t+=e.charAt(2),t+=e.charAt(3),t+=e.charAt(0),8!=(t=n(t+=e.charAt(1))).length?undefined:t},hexToBin:n,hexToBinLE:function(e){if(e.length%2)return"";for(var t="",n=e.length-2;n>=0;n-=2){var a=i(e.charCodeAt(n+0)),r=i(e.charCodeAt(n+1));t+=String.fromCharCode(16*a+r)}return t},hexToChar:i,compareHex:function(e,t){return a(n(e),n(t))},hexToNumber:function(t){return e(n(t))},uint8ToHex:function(e){var n=t(e.split("").reverse().join(""));return 16!=n.length?undefined:n},uint64ToDate:function(e){for(var t=0,n=0;n<e.length;n++)t=256*t+e.charCodeAt(e.length-n-1);return new Date(t/1e4-116444736e5)},utf16To8:function(e){for(var t=[],n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?t[n++]=String.fromCharCode(a):a<2048?(t[n++]=String.fromCharCode(a>>6|192),t[n++]=String.fromCharCode(63&a|128)):55296==(64512&a)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),t[n++]=String.fromCharCode(a>>18|240),t[n++]=String.fromCharCode(a>>12&63|128),t[n++]=String.fromCharCode(a>>6&63|128),t[n++]=String.fromCharCode(63&a|128)):(t[n++]=String.fromCharCode(a>>12|224),t[n++]=String.fromCharCode(a>>6&63|128),t[n++]=String.fromCharCode(63&a|128))}return t.join("")},utf8to16:function(e){for(var t=[],n=0,i=0;n<e.length;){var a=e.charCodeAt(n++);if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){var r=e.charCodeAt(n++);t[i++]=String.fromCharCode((31&a)<<6|63&r)}else if(a>239&&a<365){var o=((7&a)<<18|(63&(r=e.charCodeAt(n++)))<<12|(63&(s=e.charCodeAt(n++)))<<6|63&e.charCodeAt(n++))-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(1023&o))}else{r=e.charCodeAt(n++);var s=e.charCodeAt(n++);t[i++]=String.fromCharCode((15&a)<<12|(63&r)<<6|63&s)}}return t.join("")},numberToBin:function(e){for(var t=e,n="",i=0;i<8;i++)n+=String.fromCharCode(t%256),t=t/256|0;return n},numToColor:function(e,t,n){return"rgba("+r(77*e%360,(t||58)+e%20,(n||69)+e%20).join(",")+",1)"},hsl2rgb:r,base64:o,binToBigInt:function(e){for(var t=BigInt(0),n=e.length;n>0;n--)t=t*BigInt(256)+BigInt(e.charCodeAt(n-1));return t},getFileExtension:function(e,t){if(!e||!e.length)return undefined;for(var n="",i=!1,a=0,r=e.length;a<r;a++){var o=e[a];n+=o,"."===o&&(n="",i=!0)}return i&&n?t?n.toLowerCase():n:undefined}}}();function globalStorage(){var e={},t=function(){try{return window.JSON&&"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}();return e.getItem=function(e,n){t&&setTimeout((function(){try{var t=localStorage.getItem(e);n(e,t)}catch(i){console.warn(i)}}),0)},e.setItem=function(e,n){if(t)try{localStorage.setItem(e,n)}catch(i){localStorage.removeItem(e)}},e.removeItem=function(e){if(t)try{localStorage.removeItem(e)}catch(n){console.warn(n)}},e.cleaner={},e.cleaner.safeTags=["A","B","BLOCKQUOTE","BR","CAPTION","CENTER","DIV","EM","H1","H2","H3","H4","H5","H6","HR","I","IMG","LI","OL","P","PRE","SMALL","SPAN","LABEL","STRONG","SUP","TABLE","THEAD","TBODY","TD","TH","TR","UL","U"],e.cleaner.safeAttrs=["class","style","width","height","href","src","title","alt","border","target","rel","cellspacing","cellpadding"],e.cleaner.execute=function(e){var t=document.createElement("DIV");t.innerHTML=e;var n=function(e,t,i){for(var a=0;a<i.length;a++){var r=i[a];if(r.nodeType==(window.Node?Node.TEXT_NODE:3)||-1!=e.safeTags.indexOf(r.tagName)){if(r.attributes){for(var o=[],s=0;s<r.attributes.length;s++)o[s]=r.attributes[s];for(var l=0;l<o.length;l++){var c=o[l];(-1==e.safeAttrs.indexOf(c.name.toLowerCase())||/^\s*javascript\:/i.test(c.value))&&r.removeAttribute(c.name)}}r.childNodes&&n(e,r,r.childNodes)}else t.removeChild(r),a--}};return n(this,t,t.childNodes),t.innerHTML},e.supported=function(){return t},e}!function(){"use strict";var e="input is invalid type",t="object"==typeof window,n=t?window:{};n.JS_SHA256_NO_WINDOW&&(t=!1),!t&&"object"==typeof self&&(n=self);var i=!n.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),r=[-2147483648,8388608,32768,128],o=[24,16,8,0],s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=["hex","array","digest","arrayBuffer"],c=[];!n.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!i||!n.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var d=function(e,t){return function(n){return new m(t,!0).update(n)[e]()}},u=function(e){var t=d("hex",e);t.create=function(){return new m(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<l.length;++n){var i=l[n];t[i]=d(i,e)}return t},h=function(e,t){return function(n,i){return new p(n,t,!0).update(i)[e]()}},f=function(e){var t=h("hex",e);t.create=function(t){return new p(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<l.length;++n){var i=l[n];t[i]=h(i,e)}return t};function m(e,t){t?(c[0]=c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0,this.blocks=c):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function p(t,n,a){var r,o=typeof t;if("string"===o){var s,l=[],c=t.length,d=0;for(r=0;r<c;++r)(s=t.charCodeAt(r))<128?l[d++]=s:s<2048?(l[d++]=192|s>>6,l[d++]=128|63&s):s<55296||s>=57344?(l[d++]=224|s>>12,l[d++]=128|s>>6&63,l[d++]=128|63&s):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++r)),l[d++]=240|s>>18,l[d++]=128|s>>12&63,l[d++]=128|s>>6&63,l[d++]=128|63&s);t=l}else{if("object"!==o)throw new Error(e);if(null===t)throw new Error(e);if(i&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||i&&ArrayBuffer.isView(t)))throw new Error(e)}t.length>64&&(t=new m(n,!0).update(t).array());var u=[],h=[];for(r=0;r<64;++r){var f=t[r]||0;u[r]=92^f,h[r]=54^f}m.call(this,n,a),this.update(h),this.oKeyPad=u,this.inner=!0,this.sharedMemory=a}m.prototype.update=function(t){if(!this.finalized){var n,a=typeof t;if("string"!==a){if("object"!==a)throw new Error(e);if(null===t)throw new Error(e);if(i&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||i&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}for(var r,s,l=0,c=t.length,d=this.blocks;l<c;){if(this.hashed&&(this.hashed=!1,d[0]=this.block,d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0),n)for(s=this.start;l<c&&s<64;++l)d[s>>2]|=t[l]<<o[3&s++];else for(s=this.start;l<c&&s<64;++l)(r=t.charCodeAt(l))<128?d[s>>2]|=r<<o[3&s++]:r<2048?(d[s>>2]|=(192|r>>6)<<o[3&s++],d[s>>2]|=(128|63&r)<<o[3&s++]):r<55296||r>=57344?(d[s>>2]|=(224|r>>12)<<o[3&s++],d[s>>2]|=(128|r>>6&63)<<o[3&s++],d[s>>2]|=(128|63&r)<<o[3&s++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++l)),d[s>>2]|=(240|r>>18)<<o[3&s++],d[s>>2]|=(128|r>>12&63)<<o[3&s++],d[s>>2]|=(128|r>>6&63)<<o[3&s++],d[s>>2]|=(128|63&r)<<o[3&s++]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=d[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=r[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},m.prototype.hash=function(){var e,t,n,i,a,r,o,l,c,d=this.h0,u=this.h1,h=this.h2,f=this.h3,m=this.h4,p=this.h5,g=this.h6,v=this.h7,y=this.blocks;for(e=16;e<64;++e)t=((a=y[e-15])>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,n=((a=y[e-2])>>>17|a<<15)^(a>>>19|a<<13)^a>>>10,y[e]=y[e-16]+t+y[e-7]+n<<0;for(c=u&h,e=0;e<64;e+=4)this.first?(this.is224?(r=300032,v=(a=y[0]-1413257819)-150054599<<0,f=a+24177077<<0):(r=704751109,v=(a=y[0]-210244248)-1521486534<<0,f=a+143694565<<0),this.first=!1):(t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),i=(r=d&u)^d&h^c,v=f+(a=v+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&p^~m&g)+s[e]+y[e])<<0,f=a+(t+i)<<0),t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),i=(o=f&d)^f&u^r,g=h+(a=g+(n=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&m^~v&p)+s[e+1]+y[e+1])<<0,t=((h=a+(t+i)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),i=(l=h&f)^h&d^o,p=u+(a=p+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&v^~g&m)+s[e+2]+y[e+2])<<0,t=((u=a+(t+i)<<0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),i=(c=u&h)^u&f^l,m=d+(a=m+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&g^~p&v)+s[e+3]+y[e+3])<<0,d=a+(t+i)<<0;this.h0=this.h0+d<<0,this.h1=this.h1+u<<0,this.h2=this.h2+h<<0,this.h3=this.h3+f<<0,this.h4=this.h4+m<<0,this.h5=this.h5+p<<0,this.h6=this.h6+g<<0,this.h7=this.h7+v<<0},m.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3,r=this.h4,o=this.h5,s=this.h6,l=this.h7,c=a[e>>28&15]+a[e>>24&15]+a[e>>20&15]+a[e>>16&15]+a[e>>12&15]+a[e>>8&15]+a[e>>4&15]+a[15&e]+a[t>>28&15]+a[t>>24&15]+a[t>>20&15]+a[t>>16&15]+a[t>>12&15]+a[t>>8&15]+a[t>>4&15]+a[15&t]+a[n>>28&15]+a[n>>24&15]+a[n>>20&15]+a[n>>16&15]+a[n>>12&15]+a[n>>8&15]+a[n>>4&15]+a[15&n]+a[i>>28&15]+a[i>>24&15]+a[i>>20&15]+a[i>>16&15]+a[i>>12&15]+a[i>>8&15]+a[i>>4&15]+a[15&i]+a[r>>28&15]+a[r>>24&15]+a[r>>20&15]+a[r>>16&15]+a[r>>12&15]+a[r>>8&15]+a[r>>4&15]+a[15&r]+a[o>>28&15]+a[o>>24&15]+a[o>>20&15]+a[o>>16&15]+a[o>>12&15]+a[o>>8&15]+a[o>>4&15]+a[15&o]+a[s>>28&15]+a[s>>24&15]+a[s>>20&15]+a[s>>16&15]+a[s>>12&15]+a[s>>8&15]+a[s>>4&15]+a[15&s];return this.is224||(c+=a[l>>28&15]+a[l>>24&15]+a[l>>20&15]+a[l>>16&15]+a[l>>12&15]+a[l>>8&15]+a[l>>4&15]+a[15&l]),c},m.prototype.toString=m.prototype.hex,m.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3,a=this.h4,r=this.h5,o=this.h6,s=this.h7,l=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,a>>24&255,a>>16&255,a>>8&255,255&a,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o];return this.is224||l.push(s>>24&255,s>>16&255,s>>8&255,255&s),l},m.prototype.array=m.prototype.digest,m.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},p.prototype=new m,p.prototype.finalize=function(){if(m.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();m.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),m.prototype.finalize.call(this)}};var g=u();g.sha256=g,g.sha224=u(!0),g.sha256.hmac=f(),g.sha224.hmac=f(!0),n.sha256=g.sha256,n.sha224=g.sha224}(),window.priceToString=function(e){"use strict";var t=(e=(e=(e=parseFloat(e,10)).toFixed(2)).split("."))[0],n=e[1];return n=0===parseInt(n,10)?"":"."+n,Math.abs(parseInt(t,10))>=1e3&&(t=t.replace(/\B(?=(\d{3})+(?!\d))/g," ")),t+n},function(){var e,t=0;function n(e){if(!e||!e.previousSibling)return e;for(var t=e.previousSibling;t&&1!=t.nodeType;)t=t.previousSibling;return t}function a(e){return e.replace(/(^[ \r\n\t]+|[ \r\n\t]+$)/g,"")}function r(e){var t;return!(!(t=e.value)||!/^[0-9]+(\.|,)?[0-9]*$/.test(t))}function o(e){var t;return!((t=e.value)&&(!/^\w+([-+.'']{1,2}\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/i.test(t)||t.length>=255))}function s(e,t,n){var i=e.value,a=t.value;return n&&(i=i.toLowerCase(),a=a.toLowerCase()),i==a}function l(e,t,n){return new RegExp(t,n).test(e.value)}function c(e){var t=e.value;function n(e,n,i){for(var a=0,r=0;r<i;++r){var o=t.charAt(r),s=e[r];o&&(o=parseInt(o)),a+=o*s}return 0!=a&&((a%=11)>9&&(a%=10),a==n)}return 10==t.length?n([2,4,10,3,5,9,4,6,8],parseInt(t.charAt(t.length-1)),9):12==t.length&&(!!n([7,2,4,10,3,5,9,4,6,8],parseInt(t.charAt(t.length-2)),10)&&!!n([3,7,2,4,10,3,5,9,4,6,8],parseInt(t.charAt(t.length-1)),11))}function d(e){return!e.value||/^((http|https):\/\/)?([a-z0-9\-]+\.)+[a-z]+(:\d+)?(\/[\w-_ .\/%]*)?(\/)?\??([\w=%&_ :+;\-\.\#/\(\)]+)?$/i.test(e.value)}function u(e){return!e.value||/\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/i.test(e.value)}function h(e){for(i=0,sz=e.length;i<sz;i++)if(e[i].checked)return!0;return!1}function f(e){return parseInt(e.value,10)==e.value}function m(e){if(!e.value)return!0;var t=!1;if(window.XMLHttpRequest?t=new XMLHttpRequest:window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP")),!t)return!0;var n=Math.floor(1e4*Math.random()+1);return t.open("get","/api/website/status?r="+n,!1),t.timeout&&(t.timeout=2e3),t.send(),4==t.readyState&&200==t.status&&t.responseText.indexOf("STATUS_OK")>=0}function p(e){var t=window.MQRTE?window.MQRTE.GetContent(e.name):window.MQTE.GetContent(e.name),n=document.createElement("div");n.innerHTML=t;var i=n.querySelector(".fquote");i&&i.parentNode.removeChild(i);var a=n.innerText;return(a=a.replace(/[ \n\r]/g,"")).length>0}function g(t,i){var a=n(t);if(e)return e.style.display="block",!0;if(a&&"field-validation-error"==a.className&&"SPAN"==a.nodeName)a.innerHTML=i;else{var r=document.createElement("span");r.innerHTML=i,r.className="field-validation-error",t.parentNode.insertBefore(r,t),t.parentNode.insertBefore(document.createTextNode("\n"),r)}}function v(e){var t=n(e);t&&"field-validation-error"==t.className&&t.parentNode.removeChild(t)}function y(e,t){v(e),MQTE.SetValidationClass(t.id,!1)}function w(e,t,n){if(MQTE.SetValidationClass(t.id,!0),e)if("string"==typeof n)g(e,n);else for(var i=0,a=n.length;i<a;++i)g(e,n[i])}window.preventDoubleSubmit=function(e){document.getElementById("Login")!==undefined&&(window.mediaToken||(window.mediaToken=new MediaToken),window.mediaToken.Set()),e&&(e.className+=" disabled",e.onsubmit=function(){return!1})},window.Validate=function(n){if(document.getElementById("validate_message")&&((e=document.getElementById("validate_message")).style.display="none"),!window.V){var i="Задействована форма с валидацией, но нет ни одного правила";return window.console?console.warn(i):alert(i),!1}var g,b,_,C=!0,x={};++t;for(var E=0,T=V.length;E<T;++E){var k=!0;if(!n||!n.elements){var A="Ошибка валидации, на вход передана не форма";return window.console?console.warn(A):alert(A),!1}if(g=V[E],(b=n.elements[g[0]])&&(b.id===g[0]||16===g[1])){if(b.style&&"none"==b.style.display&&(!window.MQRTE||!MQRTE.Editor(g[0]))&&!window.SmallRTE)continue;var S=document.getElementById("validate_"+g[0]);switch("text"!=b.type&&"TEXTAREA"!=b.nodeName||(b.value=a(b.value)),g[1]){case 1:_=b,k=!MQTE.IsEmpty(_.name);break;case 2:var I;if(null!==g[3])L=parseInt(g[3]),g[4]&&(I=g[4]),k=b.value.length>=L&&(!I||b.value.length<=I);break;case 3:k=r(b);break;case 4:k=o(b);break;case 5:if(!(k=s(b,n.elements[g[3]],g[4]))){if(x[g[3]])v(document.getElementById("validate_"+g[3])),x[g[3]]=!1;w(null,n.elements[g[3]],null)}break;case 6:k=l(b,g[3],g[4]);break;case 7:k=c(b);break;case 8:k=d(b);break;case 9:k=h(b);break;case 10:try{k=g[3](b)}catch(A){window.console&&console.error(A.message)}break;case 12:k=u(b);break;case 13:k=m(b);break;case 14:if(k=f(b)){var N=parseInt(b.value),M=parseInt(g[3]);k=N<=parseInt(g[4])&&N>=M}break;case 16:var L;if(null!==g[3]){L=parseInt(g[3]);var D=b.length&&0!==b.length?b:[b];if(window.FileReader)for(var B=0;B<D.length;B++){var H=D[B];if(H.files&&H.files.length)for(var P=0;P<H.files.length;P++)H.files[P].size>L&&(g[2]&&(g[2]=g[2].replace("{filename}",H.files[P].name).replace("{filesize}",bytesToSize(H.files[P].size))),k=!1)}}break;case 17:k=p(b)}k||b.iteration==t?!1!==x[g[0]]&&(x[g[0]]=!0):(w(S,b,g[2]),C=!1,x[g[0]]=!1,b.iteration=t)}}if(C)window.form_is_valid&&form_is_valid(n);else{for(var R in x)if(x[R]){y(S=document.getElementById("validate_"+R),n.elements[R])}window.form_is_not_valid&&form_is_not_valid(n)}return C},window.Validate.AppendMessage=g,window.Validate.ClearMessage=v,window.Validate.SetValid=function(e,t){var n,i,a,r,o;for(n=0,i=e.elements.length;n<i;++n)o=e.elements[n].id||e.elements[n].name,(r=document.getElementById("validate_"+o))&&((a=t[e.elements[n].name])?w(r,e.elements[n],a):y(r,e.elements[n]))}}(),window.exitIntent=function(){var e=undefined,t="popup";function n(i){var a=Mql5Cookie.localStorage(t);if(a&&1===parseInt(a,10))return document.removeEventListener("mouseout",n),!1;var r=(i=i||window.event).relatedTarget||i.toElement,o=Core.IsMSIE||Core.IsTrident?100:5;(!r||"HTML"===r.nodeName)&&i.clientY<=o&&e&&(e(),Mql5Cookie.localStorage(t,1))}return{init:function(i){e="callback"in i?i.callback:undefined,t="name"in i?i.name:"popup";var a=Mql5Cookie.localStorage(t);if(a&&1===parseInt(a,10))return!1;document.addEventListener("mouseout",n)}}}();var x,y,inDock=!1,interval,f_delta="";function submitAvatarFile(){var e=$("avatar_load");e.style.visibility="visible",e.style.display="block",document.avatar_upload.submit()}function moveEvent(e){if(inDock){e||(e=window.event);var t=document.getElementById("image"),n=e.clientX-x,i=e.clientY-y,a=t.style,r=t.offsetHeight,o=t.offsetWidth;i<240-r?i=240-r:i>40&&(i=40),n<240-o?n=240-o:n>40&&(n=40),a.left=n+"px",a.top=i+"px",e.preventDefault&&e.preventDefault()}}function startDock(e){e||(e=window.event);var t=document.getElementById("image");t&&(x=e.clientX-parseInt(t.style.left),y=e.clientY-parseInt(t.style.top),inDock=!0),e.preventDefault&&e.preventDefault()}function stopDock(){inDock=!1}function zoomIn(){var e=document.getElementById("image");if(e){var t=e.clientWidth,n=e.clientHeight,i=t/n;t+=60,n=Math.round(t/i),e.style.width=t+"px",e.style.height=n+"px",e.style.left=parseInt(e.style.left)-30+"px",e.style.top=parseInt(e.style.top)-30+"px"}}function zoomOut(){var e=document.getElementById("image");if(e){var t=e.clientWidth,n=e.clientHeight,i=t/n;t-=60,n=Math.round(t/i),t>=200&&n>=200&&(e.style.width=t+"px",e.style.height=n+"px",e.style.left=parseInt(e.style.left)+30+"px",e.style.top=parseInt(e.style.top)+30+"px")}}function moveImage(e,t){stopMoving(),e||(e=window.event),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,f_delta=t,interval=setInterval(moveInterval,50)}function moveInterval(){var e,t=document.getElementById("image");if(t)switch(f_delta){case"top":var n=t.offsetHeight;(e=parseInt(t.style.top)-10)<240-n&&(e=240-n),t.style.top=e+"px";break;case"bottom":(e=parseInt(t.style.top)+10)>40&&(e=40),t.style.top=e+"px";break;case"left":var i=t.offsetWidth;(e=parseInt(t.style.left)-10)<240-i&&(e=240-i),t.style.left=e+"px";break;case"right":(e=parseInt(t.style.left)+10)>40&&(e=40),t.style.left=e+"px"}t=null}function stopMoving(e){interval&&(clearInterval(interval),interval=null)}function saveImage(e,t){var n=document.getElementById("image"),i=parseInt(n.style.left)-40,a=parseInt(n.style.top)-40;document.forms.coords.left.value=i=Math.ceil(-i*e/n.clientWidth),document.forms.coords.top.value=a=Math.ceil(-a*t/n.clientHeight),document.forms.coords.right.value=i+Math.ceil(200*e/n.clientWidth),document.forms.coords.bottom.value=a+Math.ceil(200*t/n.clientHeight),document.forms.coords.submit()}function resizeAvatarIframe(e){var t=e.contentWindow.document.body.scrollHeight;0!==t?e.style.height=t+"px":setTimeout((function(){resizeAvatarIframe(e)}),300)}document.onmouseup=function(){stopDock()};var globContainersCounter=1,globInputSize=63,globInputName="attachedFile",globClassName="attachInput";function editComment(e){Attach.clearAttaches();var t=$("newmessage");t&&(t.style.display="block");var n=parseInt(e),i=($("id_message"),$("content"+n)),a=$("edit_id"),r=($("edit_parent_id"),$("edit_cnew_cmd")),o=$("edit_csave_cmd"),s=$("admin_date_create"),l=document.getElementById("admin_not_modify"),c=$("date_"+n),d=$("author_info_"+e),u=$("admin_author");a&&(a.value=n),i&&set_content(i.innerHTML+"<br>",!1,!0),r&&o&&(r.style.display="none",o.style.display="block"),s&&(s.value=null!=c?c.getAttribute("data-date-create"):""),l&&(l.checked=!0),u&&d&&(u.value=d.title),Attach.setReadOnlyAttaches(Attach.getAttachesFromComment(e)),$("extractorContainer")&&($("extractorContainer").innerHTML="",$("extractorContainer").className=$("extractor"+e)?"disabled":"")}function editCommentCancel(){$("id_message");var e=$("edit_id"),t=$("edit_cnew_cmd"),n=$("edit_csave_cmd"),i=$("admin_date_create"),a=document.getElementById("admin_not_modify"),r=$("admin_author");e&&(e.value=0),window.MQRTE&&set_content(Dalet.isGecko?"<br>":"",!1,!0),t&&n&&(t.style.display="block",n.style.display="none"),i&&(i.value=""),r&&(r.value=""),a&&(a.checked=!1),Attach.clearAttaches()}function Attach(){}function ShortComments(){var e=location.pathname.split("/")[1],t=500;function n(e){return!(13!==(e=e||window.event).keyCode||!e.ctrlKey)}function i(e,t){t&&(e.style.height=t+"px"),e.clientHeight<e.scrollHeight&&(e.style.minHeight=e.scrollHeight+"px")}function a(e,t,n,i,a,r,o){this.moduleId=e,this.parentType=t,this.parentId=n,this.avatar=i,this.container=a,this.insertAfterElement=r,this.token=o}function r(e,t,n){this.html=e,this.container=t,this.insertAfterElement=n}function o(e){return"shortCommentForm_"+e.moduleId+"_"+e.parentType+"_"+e.parentId}function s(e){return"shortCommentContent_"+e.moduleId+"_"+e.parentType+"_"+e.parentId}function l(t,r,l,u,m,p,g){!function(t){var a="/"+e+"/short_comments/"+t.moduleId+"/"+t.parentId;if($(o(t)))return;var r=createElement(null,"DIV",{className:"shortComment wallComment",id:o(t)+"_cnt"}),l=createElement(r,"SPAN",{className:"shortCommentAvatar"}),u=createElement(r,"DIV",{className:"editShortCommentContent"}),m=createElement(u,"FORM",{className:"editShortComment",id:o(t),action:a,method:"POST"});createElement(m,"input",{type:"hidden",value:t.token,name:"__signature"}),createElement(l,"IMG",{src:t.avatar,width:24,height:24,loading:"lazy"}),m.onsubmit=function(){return function(e){if(f)return!1;var t=$(o(e));if(!t)return!1;var n=t.content;return!!(n&&n.value&&n.value.length)&&(f=!0,Ajax.form(t,{onready:d,onerror:h,editData:e}),!1)}(t)};var p=createElement(m,"DIV",{className:"inputWrapper editShortComment__input"}),g=createElement(p,"textarea",{name:"content",className:"textarea",id:s(t)}),v=16;g.onblur=function(){0==this.value.length&&c(t)},g.onkeydown=function(e){n(e)&&m.onsubmit()},g.onkeyup=function(e){i(this,v)},g.style.height=v+"px",shortCommentsManager.toPostStatusLabel&&createElement(u,"span",{innerHTML:shortCommentsManager.toPostStatusLabel,className:"textareaHelp"});createElement(m,"input",{type:"hidden",name:"moduleId",value:t.moduleId}),createElement(m,"input",{type:"hidden",name:"parentType",value:t.parentType}),createElement(m,"input",{type:"hidden",name:"parentId",value:t.parentId}),createElement(m,"input",{type:"submit",className:"editShortComment__button",value:""});var y=null;t.insertAfterElement&&(y=t.insertAfterElement.nextSibling);apearBlockVertical(r,t.container,y,200),i(g,v),setTimeout((function(){$(s(t)).focus()}),220)}(new a(t,r,l,u,m,p,g))}function c(e){var t=$(o(e)+"_cnt");t&&t.parentNode&&t.parentNode.removeChild(t)}function d(e){e&&e.length&&m(new r(e,this.editData.container,this.insertAfterElement)),c(this.editData),f=!1}function u(e){var t=m(new r(e,this.container,this.insertAfterElement),!1);this.callback&&this.callback(t)}function h(e){f=!1,alert("Error")}this.CheckSubmitHotKey=function(e){return n(e)},this.AutoGrowTextarea=function(e,t){return i(e,t)};var f=!1;function m(e,n){var i=document.createElement("DIV");i.innerHTML=e.html;var a=null;e.insertAfterElement&&(a=e.insertAfterElement.nextSibling);var r=0;if(i.children)for(var o=0;o<i.children.length;o++){var s=i.children[o].cloneNode(!0);if(n){var l=Math.min(t,50*(o+1));apearBlockVertical(s,e.container,a,l,5)}else e.insertAfterElement?e.container.insertBefore(s,e.insertAfterElement):e.container.appendChild(s);r++}return r}function p(e){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}function g(e){var t=[];try{t=JSON.parse(e)}catch(a){console.warn(a)}if(t&&t.length){elementPrefix=this.elementPrefix||"sc_";for(var n=0;n<t.length;n++){var i=$(elementPrefix+t[n]);i&&i.parentNode.removeChild(i)}}}this.NewComment=function(e,t,n,i,a,r,o){l(e,t,n,i,a,r,o)},this.LoadComments=function(t,n,i,a,r,o,s,l){!function(t,n,i,a,r,o,s,l){Ajax.get("/"+e+"/get_short_comments/"+t+"/"+n+"/"+i+"/"+a+"/"+r,null,{onready:u,onerror:h,container:o,insertAfterElement:s,callback:l})}(t,n,i,a,r,o,s,l)},this.Delete=function(t,n,i,a){i||(i="sc_"),Ajax.post("/"+e+"/delete_short_comment/"+t+"/"+n,{__signature:a},!1,{onready:p,onerror:h,element:$(i+n)})},this.DeleteByAuthor=function(t,n,i,a){i||(i="sc_"),Ajax.post("/"+e+"/delete_short_comment_by_author/"+t+"/"+n,{__signature:a},!1,{onready:g,onerror:h,elementPrefix:i})},this.OnLoadCommentsClick=function(e,n,i,a,r){if($("hiddenComments_"+e))return function(e){$("commentsLoad_"+e).style.display="none";var t=$("hiddenComments_"+e);if(!t)return;var n=t.nextSibling,i=n.parentNode;for(;t.children.length>0;)i.insertBefore(t.children[0],n);t.parentNode.removeChild(t),$("commentsHide_"+e).style.display="inline"}(e);var o=$("commentsCountWrapper_"+e);shortCommentsManager.LoadComments(n,i,e,a,r,$("comments_"+e),o.nextSibling,(function(){!function(e,n){var i=$("commentsLoad_"+n),a=$("commentsCountWrapper_"+n);if(Class(a,"loading",!0),e<=0)i.style.visibility="visible";else{Math.min(t+200,60*e);$("commentsLoad_"+n).style.display="none",$("commentsHide_"+n).style.display="inline"}}(arguments[0],e)})),$("commentsLoad_"+e).style.display="none",Class(o,"loading")},this.HideComments=function(e,t){$("commentsHide_"+e).style.display="none";var n=$("hiddenComments_"+e);if(!n){var i=$("comments_"+e);n=createElement(null,"div",{id:"hiddenComments_"+e});var a=getElementsByClass("shortComment",$("comments_"+e));i.insertBefore(n,a[0]);for(var r=0;r<a.length-t;r++){var o=a[r];n.appendChild(o)}}n.style.display="none",$("commentsLoad_"+e).style.display="inline"}}Attach.getAttachesFromComment=function(e){var t=[],n=0,i=$("cb_"+e);if(!i)return t;for(var a=i.getElementsByTagName("DIV"),r=0;r<a.length;r++)if(a[r].className.indexOf("attachItem")>=0){var o=a[r].cloneNode(!0),s=o.getElementsByTagName("A");s.length>0&&(t[n]={obj:o,url:window.location.hostname==s[0].host?s[0].pathname:s[0].href},n++)}return t},Attach.setReadOnlyAttaches=function(e){if(e&&0!=e.length){var t=$("readOnlyAttaches");if(!t){(t=document.createElement("DIV")).setAttribute("id","readOnlyAttaches");var n=$("multiattaches");n.insertBefore(t,n.firstChild)}for(i in t.innerHTML="",e)e.hasOwnProperty(i)&&(Attach.addHiddenValues(e[i].obj,e[i].url),Attach.addDeleteOption(e[i].obj),t.appendChild(e[i].obj))}},Attach.addHiddenValues=function(e,t){var n=document.createElement("INPUT");n.type="hidden",n.name=globInputName,n.value=t,e.appendChild(n)},Attach.createNewContainer=function(e){e||(e=1);var t=$("newAttaches"),n=document.createElement("DIV");n.id="at_"+e;var i=document.createElement("INPUT");return i.type="file",i.name=globInputName,i.id="_"+e,i.onchange=function(e){var t=(e=e||window.event).target||e.srcElement;Attach.onChangeFile(n.id,t)},i.className=globClassName,i.size=globInputSize,Attach.globAcceptFilter&&(i.accept=Attach.globAcceptFilter),Attach.AllowedExtensions&&i.setAttribute("accept",Attach.AllowedExtensions),n.appendChild(i),t.appendChild(n),n},Attach.onChangeFile=function(e,t){var n=$(e),i=$("newAttaches_info");function a(e){Validate&&i&&Validate.AppendMessage(i,e),t.value="",t.type="",t.type="file"}if(Attach.AllowedExtensions&&t){var r=t.value;if(!r)return!1;var o=r.toLowerCase().split(".");if(o.length>1&&(o=o.pop()),Attach.AllowedExtensions.indexOf("."+o)<0)return a(Attach.alowedExtensionsLabel),!1;Validate&&i&&Validate.ClearMessage(i)}if(Attach.MaxSize&&t&&("string"==typeof Attach.MaxSize&&(Attach.MaxSize=1024*parseInt(Attach.MaxSize)*1024),Attach.MaxSize>0&&t.files)){if(!t.files[0])return!1;if(t.files[0].size>Attach.MaxSize)return a(Attach.maxSizeLabel),!1;Validate&&i&&Validate.ClearMessage(i)}n.containsYet||(Attach.addDeleteOption(n),globContainersCounter++,Attach.createNewContainer(globContainersCounter),n.containsYet=!0)},Attach.addDeleteOption=function(e){var t=document.createElement("A");t.appendChild(document.createTextNode(window.deleteLabel?window.deleteLabel:"delete")),t.href="#",t.className="deleteAttachLink",e.appendChild(t),t.onclick=function(){return Attach.deleteContainer(e)}},Attach.deleteContainer=function(e){var t=e.parentNode.getElementsByTagName("DIV").length,n=e.parentNode;return e.parentNode.removeChild(e),1==t&&n.parentNode.removeChild(n),!1},Attach.clearAttaches=function(){var e=$("readOnlyAttaches");e&&e.parentNode.removeChild(e);var t=$("newAttaches");t&&(t.innerHTML=""),globContainersCounter=1,Attach.createNewContainer(1)},Attach.setAcceptFilter=function(e){Attach.globAcceptFilter=e};var shortCommentsManager=new ShortComments;window.mqGlobal.AddOnReady((function(){window.checkImgForLightbox(document.getElementById("forumTopicComments"),"content","attachItem")})),function(){var e,t,n,i,a,r,o,s,l,c,d,u,h=window.Dialog={},f=!1,m=!1,p=0,g=0,v={},y={};function w(s){var l=document.body;e=createElement(l,"IFRAME",{className:"window-lock"}),t=createElement(l,"DIV",{className:"window-lock"}),e.style.height=t.style.height="100%",e.frameBorder=0,e.style.width=t.style.width="100%",n=createElement(document.body,"DIV",{className:"window"}),"fixed"===s&&(e.style.position="fixed",t.style.position="fixed",n.style.position="fixed");var c=createElement(n,"DIV",{className:"window-title"});c.appendChild(document.createElement("SPAN")),c.onmousedown=x,u&&((a=createElement(c,"SPAN",{className:"window-close"})).onclick=u,0==document.location.protocol.indexOf("https")&&Class(a,"httpsClose")),r=createElement(n,"DIV",{className:"window-movelocker"}),o=createElement(n,"DIV",{className:"window-content"}),m&&(i=createElement(n,"DIV",{className:"window__resizeble-layer"}),createElement(n,"DIV",{className:"window__resizeble-btn"}).onmousedown=b)}function b(e){e||(e=window.event),e.preventDefault&&e.preventDefault(),i.style.display="block",document.onmouseup=C,v.x=e.clientX,v.y=e.clientY,y.w=i.clientWidth,y.h=i.clientHeight,document.onmousemove=_}function _(e){e||(e=window.event),e.preventDefault&&e.preventDefault(),y.h+(e.clientY-v.y)>g&&(i.style.height=y.h+(e.clientY-v.y)+"px"),y.w+(e.clientX-v.x)>p&&(i.style.width=y.w+(e.clientX-v.x)+"px")}function C(e){e||(e=window.event),e.preventDefault&&e.preventDefault(),i.style.display="none",document.onmousemove=null,document.onmouseup=null,y.h+(e.clientY-v.y)>g?n.style.height=y.h+(e.clientY-v.y)+"px":n.style.height=g+"px",y.w+(e.clientX-v.x)>p?n.style.width=y.w+(e.clientX-v.x)+"px":n.style.width=p+"px"}function x(e){e||(e=window.event),f=!0,document.onmousemove=E,document.onmouseup=T,s=parseInt(n.style.left)-e.clientX,l=parseInt(n.style.top)-e.clientY,r.style.display="block"}function E(e){if(f){e||(e=window.event);var i,a=e.clientX+s,r=e.clientY+l;(i=n.offsetWidth+a-t.offsetWidth)>0&&(a-=i),(i=n.offsetHeight+r-t.offsetHeight)>0&&(r-=i),a<0&&(a=0),r<0&&(r=0),n.style.left=a+"px",n.style.top=r+"px";try{window.getSelection&&(e=window.getSelection())?e.removeAllRanges():document.selection&&document.selection.empty()}catch(o){}}}function T(){f&&(f=!1,r.style.display="")}function k(){var e=n.lastChild.firstChild;e&&(e.firstChild&&"publishContent"==e.firstChild.className?n.lastChild.removeChild(e):c?(c.insertBefore(e,d),c=null):n.lastChild.removeChild(e))}h.show=function(i,a,s,l,f,v,y,b,_,C){if(a){"fixed"===(C=C||"fixed")&&(document.body.style.overflow="hidden");var x=!0;p=s,g=l,u=f,_&&(m=!0),"fixed"===C&&(x=!1);var E=function(e){for(var t=e;t;){if(t.tagName&&"body"==t.tagName.toLowerCase())return!0;t=t.parentNode}return!1}(a);n||w(C),n.style.visibility="hidden",e&&(e.style.display=""),t&&(t.style.display=""),n&&(n.style.display="");var T=t.offsetWidth;if(s>=T&&(p=s=T-20,o.style.maxWidth=s+6+"px"),o.style.minWidth=s+"px",m&&(o.style.minHeight=l+"px",n.style.width=s+"px",n.style.height=l+"px"),r.style.height=l+20+"px",!y)if(v){var A,S=v.left,I=v.top;(A=n.offsetWidth+S-t.offsetWidth)>0&&(S-=A+10*(A>0?1:-1)),(A=n.offsetHeight+I-t.offsetHeight)>0&&(I-=A+10*(A>0?1:-1)),S+s+10>T&&(S=(T-s)/2),n.style.top=I+"px",n.style.left=S+"px"}else n.style.top=(document.body.scrollTop||document.documentElement.scrollTop)+Math.round(((window.innerHeight||document.documentElement.clientHeight)-l-24)/2)+"px",n.style.left=Math.round((document.body.scrollWidth-s-4)/2)+"px";var N=n.firstElementChild;return N&&N.firstElementChild&&(N=N.firstElementChild),N&&(N.innerHTML=i),k(),E&&(c=a.parentNode),d=a.nextSibling,o.appendChild(a),n.className=b?"window "+b:"window ui no-bottom-margin",x||(h.autoResize=Core.Bind((function(){var e=window.innerHeight||document.documentElement.clientHeight,t=window.innerWidth||document.documentElement.clientWidth;n&&(n.style.height="auto",o.style.maxHeight="none",o.style.maxWidth="none",l=n.offsetHeight,t-40<=(s=n.offsetWidth)&&(s=t-40),e-70<=l||e-70<=600?(l=e-100,o.style.maxHeight=l-44+"px",o.style.overflow="auto"):n.style.height=l+"px",o.style.maxWidth=s+"px",n.style.top=Math.round((e-l)/2)+"px",n.style.left=Math.round((t-s)/2)+"px",o.style.minWidth="0px")}),this),h.autoResize(),Core.AddHandler(window,"resize",h.autoResize)),n.style.visibility="visible",n.focus(),N}},h.hide=function(i){document.body.style.overflow="",h.autoResize&&Core.RemoveHandler(window,"resize",h.autoResize);try{k()}catch(r){}u=undefined,e&&e.parentNode&&(e.parentNode.removeChild(e),e=null),n&&n.parentNode&&(n.parentNode.removeChild(n),n=null),t&&t.parentNode&&(t.parentNode.removeChild(t),t=null),a&&a.parentNode&&a.parentNode.removeChild(a),a=null}}(),window.emersionTooltip=function(){function e(e,t){var n=e.getBoundingClientRect();t.style.top=n.bottom+10+"px",t.style.left=n.left+"px"}return{init:function(t,n){if(!(t=document.getElementById(t)))return!1;t.style.position="relative";var i=function(e){var t=document.createElement("div");t.className="emersion-tooltip";var n=document.createElement("div");return n.className="emersion-tooltip__content",t.appendChild(n),n.innerHTML=e,t}(n);function a(){e(t,i)}function r(e){for(var n=(e=e||window.event).target||window.srcElement;n&&n.parentNode&&n!==t;)n=n.parentNode;n!==t&&o()}function o(){i.parentNode&&(i.className="emersion-tooltip",setTimeout((function(){i.parentNode.removeChild(i)}),300),window.removeEventListener("scroll",a),document.body.removeEventListener("click",r))}return t.appendChild(i),e(t,i),document.body.addEventListener("click",r),window.addEventListener("scroll",a,{passive:!0}),setTimeout((function(){i.className+=" emersion-tooltip_showed"}),200),{hide:o}}}}(),window.mqGlobal.AddOnReady((function(){if(!window.addEventListener)return!1;function e(){var e=document.getElementById("bFixedMt");e&&(e.style.display="none")}Mql5Cookie.localStorage("mt5_download_button")&&e(),window.addEventListener("message",(function(t){var n,i=t.data;if(!i)return!1;if("string"!=typeof i||"undefined"===i)return!1;try{i=JSON.parse(i)}catch(a){console.warn(a),i={}}"object"==typeof i&&("setCookie"in i?i.setCookie.indexOf("mt5_download_button")>-1&&e():"height"in i&&(0===parseInt(i.height,10)?e():(n=document.getElementById("bFixedMt"))&&(n.style.display="block")))}),!1)})),window.popupWindow=function(){var e,t,n="popup-window",i=8,a=undefined,r=undefined,o=undefined,s=undefined,l=undefined,c=undefined,d=0;function u(){clearTimeout(e),e=setTimeout((function(){r.removeAttribute("style"),d&&(r.style.maxWidth=d);var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=r.offsetWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=r.offsetHeight;e-2*i<t?(r.style.left=i+"px",r.style.right=i+"px",r.style.marginLeft=0):(r.style.left="50%",r.style.right="auto",r.style.marginLeft=t/2*-1+"px"),a-2*i<o?(r.style.top=i+"px",r.style.bottom=i+"px",r.style.marginTop=0):(r.style.top="50%",r.style.bottom="auto",r.style.marginTop=o/2*-1+"px"),window.Class(r,n+"__container_hidden",!0)}),50)}function h(e,n){e&&e.stopPropagation(),s&&!n&&s(),r&&a&&(t&&t(),a.parentNode.removeChild(a),r.parentNode.removeChild(r),window.removeEventListener("resize",u)),r=undefined,a=undefined,t=undefined}return{show:function(e){h(),o="createCallback"in(e=e||{})?e.createCallback:undefined,l="appendCallback"in e?e.appendCallback:undefined,s="hideCallback"in e?e.hideCallback:undefined,c=!("showCloseBtn"in e)||e.showCloseBtn,function(){if((a=document.createElement("div")).className=n+"__shadow",a.addEventListener("click",h),document.body.appendChild(a),(r=document.createElement("div")).className=n+"__container "+n+"__container_hidden",c){var e=document.createElement("div");e.className=n+"__close qa-popup-close",e.innerHTML='<img src="https://c.mql5.com/i/close.png" alt="close" loading="lazy" width="24" height="24">',e.addEventListener("click",h),r.appendChild(e)}var t=document.createElement("div");t.className=n+"__content",r.appendChild(t),o&&o(t),document.body.appendChild(r),u(),l&&setTimeout((function(){l()}),60),window.addEventListener("resize",u)}()},hide:h,setPosition:u}}(),window.customSelect=function(){"use strict";return{init:function(e){if(e&&"object"==typeof e){var t=document.getElementById(e.selectId),n=document.getElementById(e.valueId);t&&n&&t.addEventListener("change",(function(){n.innerHTML=t[t.selectedIndex].innerText+'<i class="icons-ux icons-ux_arrow-down"></i>',e.callback&&e.callback(t.value)}))}}}}();var registerLoginPopup=function(){var e=null,t=null,n="",i=!1;function a(e){n?window.fpush({name:e,unit:"section",value:n}):window.fpush(e)}var r=function(){var e=!1,t="register";function n(e){if(!e||e===t)return!1;if(t){var n=document.getElementById("registerLoginPopupTab_"+t);n&&(n.className="register-login-popup__tab");var i=document.getElementById("registerLoginPopupTabContent_"+t);i&&(i.className="hidden")}var r=document.getElementById("registerLoginPopupTab_"+e);if(r&&(r.className="register-login-popup__tab register-login-popup__tab_active"),e){var o=document.getElementById("registerLoginPopupTabContent_"+e);if(!o)return!1;o.className="",t=e,a("register"===e?"MQL5+Popup+Login+Register":"MQL5+Popup+Register+Login")}}return{init:function(){if(e)return!1;e=!0;var t=document.getElementById("registerLoginPopupTabs");if(!t)return!1;t.addEventListener("click",(function(e){var t=(e=e||window.event).target||e.srcElement;if(!t)return!1;var i=t.getAttribute("data-id");if(!i)return!1;n(i)}))},select:n}}();function o(o,l){if(!t){if(!(t=document.getElementById("popupRegisterLogin")))return l&&l(),!1;e=t.parentNode}if(!n){var c=document.getElementById("popupSection");if(c){var d=null;try{d=JSON.parse(c.innerHTML)}catch(h){console.warn(h)}d&&(n=d.section)}}window.popupWindow.show({createCallback:function(e){e&&t&&(i=!0,a("MQL5+Popup+View"),r.init(),o&&r.select(o),e.appendChild(t),t.className="")},hideCallback:function(){if(!i)return!1;t&&e&&(t.className="hidden",e.appendChild(t)),a("MQL5+Popup+Cancel"),i=!1}});var u=document.getElementById("loginEmailHidden");(u=u?u.value:"")&&s(u)}function s(e){var t=document.getElementById("popupTranslate");if(t)try{var n=null;try{n=JSON.parse(t.innerHTML)}catch(h){console.warn(h)}if(!n)return;var i=document.getElementById("loginForm");if(i){var a=document.getElementById("authSocialBlock");a&&a.parentNode.removeChild(a);var r=document.getElementById("loginForgotBlock");r&&r.parentNode.removeChild(r);var o='<div class="check-email check-email_popup" id="loginCheckEmail">';if(o+='<img loading="lazy" src="https://c.mql5.com/i/auth/mail.png" srcset="https://c.mql5.com/i/auth/mail_2x.png 2x"  loading="lazy" width="52" height="50" class="check-email__icon" />',n.popup){n=n.popup;var s=document.getElementById("loginSubmit");n.SubmitButtonText&&s&&(s.value=n.SubmitButtonText,s.classList.remove("button_yellow"),s.classList.add("button_activate"),s.classList.add("button_green")),n.EmailTitle&&(o+='<div class="check-email__title">'+n.EmailTitle.replace("{0}",'<span class="check-email__email">'+e+"</span>")+"</div>"),n.EmailDescription&&(o+='<div class="check-email__desc">'+n.EmailDescription+"</div>");var l=document.getElementById("registrationTipBlock");n.RegistrationTip&&!l&&(l='<div class="tip" id="registrationTipBlock">'+n.RegistrationTip.replace("{0}",'"javascript:void(0)" rel="nofollow" onclick="window.registerLoginPopup.select(\'register\')"')+"</div>",l=window.decodeHtml(l),i.insertAdjacentHTML("beforeend",l))}o+="</div>";var c=document.getElementById("loginCheckEmail");c?c.outerHTML=o:i.insertAdjacentHTML("beforebegin",o);var d='<input id="loginEmailHidden" name="Email" type="hidden" value="'+e+'">',u=document.getElementById("loginEmailHidden");u?u.outerHTML=d:i.insertAdjacentHTML("beforeend",d)}}catch(h){}}return{show:o,hide:function(){i=!1,window.popupWindow.hide()},select:function(e){i?e&&r.select(e):o(e)},modifyLoginToActivate:s}}(),chatBot=function(){var e=undefined,t=!1;function n(){t=!0,Class(e,"chatbot-button_loading"),window.BE_API.isChatWindowOpened()||window.BE_API.openChatWindow()}function i(){t=!1,window.BE_API.isChatWindowHidden()||window.BE_API.hideChatWindow()}function a(e){(e=e||window.event).preventDefault&&e.preventDefault(),t?i():n()}return{init:function(r,o){window.BE_API=window.BE_API||{},window.__be=window.__be||{},(e=document.getElementById(r))&&(window.__be.id="61445dd7b4f0930007793481",function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://":"http://")+"cdn.chatbot.com/widget/plugin.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),window.BE_API.onLoad=function(){var t;e.addEventListener("click",a),i(),Class(e,"hidden",!0),(t={}).lang=window.chatBotUserLang||"en",window.chatBotUserEmail!==undefined&&""!==window.chatBotUserEmail&&(window.chatBotUserPhone!==undefined&&""!==window.chatBotUserPhone&&(t.phone=window.chatBotUserPhone),window.chatBotUserEmail!==undefined&&""!==window.chatBotUserEmail&&(t.email=window.chatBotUserEmail),window.chatBotUserName!==undefined&&""!==window.chatBotUserName&&(t.name=window.chatBotUserName),window.chatBotUserLogin!==undefined&&""!==window.chatBotUserLogin&&(t.login=window.chatBotUserLogin),window.chatBotUserLang!==undefined&&""!==window.chatBotUserLang&&(t.lang=window.chatBotUserLang),window.chatBotUserToken!==undefined&&""!==window.chatBotUserToken&&(t.token=window.chatBotUserToken),window.chatBotUserIsSeller!==undefined&&""!==window.chatBotUserIsSeller&&(t.isSeller=window.chatBotUserIsSeller),window.chatBotUserIsBanned!==undefined&&""!==window.chatBotUserIsBanned&&(t.isBanned=window.chatBotUserIsBanned),window.chatBotUserBanDaysTotal!==undefined&&window.chatBotUserBanDaysTotal>=0&&(t.banDaysTotal=window.chatBotUserBanDaysTotal),window.chatBotUserBanDaysFromStart!==undefined&&window.chatBotUserBanDaysFromStart>=0&&(t.banDaysFromStart=window.chatBotUserBanDaysFromStart),window.chatBotUserBanDaysToEnd!==undefined&&window.chatBotUserBanDaysToEnd>=0&&(t.banDaysToEnd=window.chatBotUserBanDaysToEnd),window.chatBotUserBanReason!==undefined&&""!==window.chatBotUserBanReason&&(t.banReason=window.chatBotUserBanReason),window.chatBotUserHasPurchases!==undefined&&""!==window.chatBotUserHasPurchases&&(t.hasPurchases=window.chatBotUserHasPurchases),window.chatBotUserHasProductsForSale!==undefined&&""!==window.chatBotUserHasProductsForSale&&(t.hasProductsForSale=window.chatBotUserHasProductsForSale),window.chatBotUserHasMoney!==undefined&&""!==window.chatBotUserHasMoney&&(t.hasMoney=window.chatBotUserHasMoney),window.chatBotUserFinancialOperationsLimited!==undefined&&""!==window.chatBotUserFinancialOperationsLimited&&(t.financialOperationsLimited=window.chatBotUserFinancialOperationsLimited),window.chatBotUserSellerRegistrationStatus!==undefined&&""!==window.chatBotUserSellerRegistrationStatus&&(t.sellerRegistrationStatus=window.chatBotUserSellerRegistrationStatus),window.chatBotUserSellerInVerification!==undefined&&""!==window.chatBotUserSellerInVerification&&(t.sellerInVerification=window.chatBotUserSellerInVerification),window.chatBotUserSellerHasSalesLastYear!==undefined&&""!==window.chatBotUserSellerHasSalesLastYear&&(t.sellerHasSalesLastYear=window.chatBotUserSellerHasSalesLastYear)),window.BE_API.setUserAttributes(t),"#new"==window.location.hash&&n()},window.BE_API.onChatWindowOpen=function(){t=!0,Class(e,"chatbot-button_loading",!0)},window.BE_API.onChatWindowClose=function(){i()},window.BE_API.onChatWindowHide=function(){t=!1})},show:n}}();function Datepicker(){var e=this;function t(){var t,i,a,r=this;function o(){return e.settings.double?0===r.itemNum?e.settings.date.start:e.settings.date.end:e.settings.interval?e.settings.date.start:e.settings.date}function s(){return r.date}r.itemNum=e.generateId("dpi"),this.hide=function(e){Class(i,"dp-content_hidden",!e)},this.drawDays=function(t){var n=t||s(),i=new Date,r=e.settings.noSelectPreviousDate||i,l=o();function c(t,n){var o=createElement(a,"div",{className:"dp-day"+(DateHelper.CompareOnDate(i,t)?" dp-day_current":""),innerText:t.getUTCDate()}),s=t.getUTCDay();return e.settings.interval?e.settings.date.start<=t&&t<=e.settings.date.end&&Class(o,"dp-day_active"):DateHelper.CompareOnDate(l,t)&&Class(o,"dp-day_active"),6!==s&&0!==s||Class(o,"dp-day_output"),e.settings.noSelectPrevious&&r>t&&!DateHelper.CompareOnDate(r,t)?Class(o,"dp-day_previous"):n||o.setAttribute("data-date",t.getUTCFullYear()+","+t.getUTCMonth()+","+t.getUTCDate()),n&&(Class(o,"dp-day_disabled"),o.setAttribute("data-disabled","true")),o}a.innerHTML="";var d=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),1)).getUTCDay()-1;-1===d&&(d=6);var u,h,f=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth()-1,1)).daysInMonth()-d+1;if(d<7)for(u=0,h=d;u<h;u++)c(new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth()-1,f+u)),!0);for(u=1,h=n.daysInMonth();u<=h;u++)c(new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),u)))},this.update=function(e){r.drawDays(e),e&&(r.date=e)},function(){var l=createElement(e.block,"div",{className:"dp-item"}),c=createElement(l,"div",{className:"dp-item__header"}),d=createElement(c,"div",{className:"dp-item__next"}),u=createElement(c,"div",{className:"dp-item__prev"});i=createElement(l,"div",{className:"dp-content"});var h=createElement(i,"div",{className:"dp-days-week"});a=createElement(i,"div",{className:"dp-list-days"}),r.date=o(),r.update(),t=new n(r,c),e.handlersSetDate.push((function(){r.date=o(),r.update(),t.update()}));for(var f=0;f<7;f++)createElement(h,"div",{className:"dp-days-week__item"+(f>4?" dp-days-week__item_output":""),innerText:DateHelper.Phrases.daysWeek[f]});Core.AddHandler(u,"click",(function(){var e=new Date(Date.parse(s())-2592e6);r.update(e),t.update(e)})),Core.AddHandler(d,"click",(function(){var e=new Date(Date.parse(s())+2592e6);r.update(e),t.update(e)}))}(),Core.AddHandler(a,"click",(function(t){var n=(t=t||window.event).target||t.srcElement;t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation();for(;n.parentNode&&n!==a&&n.className.lastIndexOf("dp-day")<0;)n=n.parentNode;var i=n.getAttribute("data-date");i&&(i=i.split(","),i=new Date(Date.UTC(i[0],i[1],i[2])),e.settings.interval?e.start?(e.start=!1,i>=e.settings.date.end?e.setDate(null,i):e.setDate(i)):(e.start=!0,e.setDate(i,i)):0===r.itemNum?i<=e.settings.date.end||!e.settings.double?e.setDate(i):e.setError(e.settings.phrases.errorInvalidRange):i>=e.settings.date.start||!e.settings.double?e.setDate(null,i):e.setError(e.settings.phrases.errorInvalidRange));e.createErrors()}))}function n(t,n){var a,r,o=this;this.create=function(){var e=createElement(n,"div",{className:"dp-date-control"});r=createElement(n,"div",{className:"dp-date-control__select"});var t=createElement(r,"div",{className:"dp-date-control__list"}),s=createElement(r,"div",{className:"dp-date-control__list"});a=createElement(e,"div",{className:"dp-date-control__value"}),createElement(e,"div",{className:"dp-date-control__arrow"}),Core.AddHandler(e,"click",o.toggle),o.update(),o.dtMonth=new i(o,t,0),o.dtYear=new i(o,s,1)},this.changeDate=function(){return e.settings.interval||e.settings.double?0===t.itemNum?e.settings.date.start:e.settings.date.end:e.settings.date},o.date=o.changeDate(),this.getDate=function(){return o.date},this.update=function(e){var n=e||o.getDate();e?(t.update(n),o.date=n):o.date=o.changeDate(),o.dtMonth&&(o.dtMonth.setActive(n.getUTCMonth()),o.dtYear.setActive(n.getUTCFullYear())),a.innerText=DateHelper.FormatDate(n,{short:!1,month:!0,year:!0,date:!1})},this.toggle=function(){var e=r.className.indexOf("active")>0;Class(r,"dp-date-control__select_active",e),t.hide(!e),o.dtMonth.hideScroll(),o.dtYear.hideScroll()},o.create(),e.handlersSetDate.push(o.update)}function i(t,n,i){var a,r,o,s,l,c=this,d=e.generateId("dcl");function u(t,n){var a=createElement(s,"div",{className:"dp-date-control__item",id:"dci"+e.ID+d+t,innerHTML:"<span>"+(1===i?t:DateHelper.Phrases.monthShort[t])+"</span>"});n&&s.insertBefore(a,s.firstChild),a.setAttribute("data-value",t)}function h(e,t,n){var i;if(Class(s,"dp-date-control__wrapper_disabled"),n){for(i=0;i<t;i++)u(e-i,n);s.scrollTop+=l.offsetHeight*t}else for(i=0;i<t;i++)u(e+i);Class(s,"dp-date-control__wrapper_disabled",!0)}this.create=function(){a=createElement(n,"div",{className:"dp-date-control__prev"}),r=createElement(n,"div",{className:"dp-date-control__next"}),o=createElement(n,"div",{className:"dp-date-control__content"}),s=createElement(o,"div",{className:"dp-date-control__wrapper"}),1===i?(h(t.getDate().getUTCFullYear()-5,11),c.setActive(t.getDate().getUTCFullYear())):(h(0,12),c.setActive(t.getDate().getUTCMonth())),c.hideScroll(),Core.AddHandler(a,"click",(function(){s.scrollTop-=3*l.offsetHeight})),Core.AddHandler(r,"click",(function(){s.scrollTop+=3*l.offsetHeight})),Core.AddHandler(s,"scroll",(function(){var e,t,n;t=s.scrollTop,n=s.scrollHeight-s.offsetHeight,Class(a,"dp-date-control__prev_disabled",0!==t),Class(r,"dp-date-control__next_disabled",t<n),1===i&&(t>=n?(e=parseInt(s.lastChild.getAttribute("data-value")))<2045&&h(e+1,10):0===t&&(e=parseInt(s.firstChild.getAttribute("data-value")))>1970&&h(e-1,10,!0))}),{passive:!0}),Core.AddHandler(s,"click",(function(e){for(var n=(e=e||window.event).target||e.srcElement;n.parentNode&&n!==s&&n.className.indexOf("item")<0;)n=n.parentNode;var a=n.getAttribute("data-value");if(null!==a){a=parseInt(a),c.setActive(a);var r=t.getDate();1===i?t.update(new Date(Date.UTC(a,r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),0))):t.update(new Date(Date.UTC(r.getUTCFullYear(),a,r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),0)))}}))},this.setActive=function(t){l&&Class(l,"dp-date-control__item_active",!0),(l=$("dci"+e.ID+d+t))&&(Class(l,"dp-date-control__item_active"),s.scrollTop=l.offsetTop-s.offsetHeight/2)},this.hideScroll=function(){s.style.marginRight=s.clientWidth-s.offsetWidth+"px",c.setActive(1===i?t.getDate().getUTCFullYear():t.getDate().getUTCMonth())},c.create()}e.handlersSetDate=[],e.errorsList=[],e.ID=generateId("dp"),this.generateId=function(t){return t=t||"global",e.counterId||(e.counterId={}),e.counterId[t]||(e.counterId[t]=0),e.counterId[t]++},this.settings={interval:!1,phrases:{errorInvalidRange:"Invalid range"},notRecord:!1},this.setValue=function(){var t;t=e.settings.interval||e.settings.double?DateHelper.SmartFormatDate(e.settings.date.start,e.settings.date.end,!0):DateHelper.SmartFormatDate(e.settings.date),e.node.value=t},this.createErrors=function(){e.errorList.innerText="";for(var t=0,n=e.errorsList.length;t<n;t++)createElement(e.errorList,"div",{className:"dp-errors-list__item",innerText:e.errorsList[t]});e.errorsList=[]},this.setError=function(t){e.errorsList.push(t)},this.setDate=function(t,n){if(e.settings.interval||e.settings.double){if(e.settings.date.start===t&&e.settings.date.end===n)return!1;t&&(e.settings.noSelectPrevious&&t<new Date?e.settings.date.start=new Date:e.settings.date.start=t),n&&(n>=e.settings.date.start?e.settings.date.end=n:e.settings.noSelectPrevious&&n<new Date?e.settings.date.end=new Date:e.settings.date.end=e.settings.date.start)}else{if(e.settings.date===t)return!1;e.settings.date=t}e.settings.handler&&e.settings.handler(e.settings.date);for(var i=0,a=e.handlersSetDate.length;i<a;i++)e.handlersSetDate[i]()},this.init=function(n,i){if(i)for(var a in i)i.hasOwnProperty(a)&&(e.settings[a]=i[a]);if(e.settings.date||(e.settings.interval||e.settings.double?e.settings.date={start:new Date,end:new Date}:e.settings.date=new Date),e.settings.noSelectPrevious&&(e.settings.interval||e.settings.double&&e.settings.date.start<new Date?e.settings.date={start:new Date,end:new Date}:e.settings.date<new Date&&(e.settings.date=new Date)),e.node=n,e.settings.notRecord||(e.setValue(),e.handlersSetDate.push(e.setValue)),e.settings.interval&!e.settings.date.start)return!1;function r(){var t=n.getBoundingClientRect(),i=getWindowSize(),a=e.settings.double?560:280;i.width-t.left>a?(e.block.style.left=t.left+"px",e.block.style.right="auto"):(e.block.style.left="auto",e.block.style.right=i.width-t.right+"px"),e.block.style.top=t.bottom+"px"}function o(t){for(var i=(t=t||window.event).target||t.srcElement;i.parentNode&&i!==e.block&&i!==n;)i=i.parentNode;i!==e.block&&i!==n&&(Class(e.block,"dp-block_active",!0),Core.RemoveHandler(document,"click",o),Core.RemoveHandler(window,"resize",r),Core.RemoveHandler(window,"scroll",r))}!function(){var i=createElement(null,"div",{className:"dp-wrapper"});if(n.parentElement.insertBefore(i,n),i.appendChild(n),e.block=createElement(i,"div",{className:"dp-block"}),i=null,e.settings.double){new t,new t;Class(e.block,"dp-block_double")}else new t;e.errorList=createElement(e.block,"div",{className:"dp-errors-list"})}(),Core.AddHandler(n,"focus",(function(){Class(e.block,"dp-block_active"),r(),Core.AddHandler(document,"click",o),Core.AddHandler(window,"resize",r),Core.AddHandler(window,"scroll",r,{passive:!0})}))}}function edit(e){var t=document.getElementById("newmessage");t&&(t.style.display="block"),window.type="_"==(""+e).substr(0,1)?0:1,0==window.type?real_id=parseInt(e.substr(1,e.length)):real_id=parseInt(e);document.getElementById("id_message");var n=document.getElementById("subject_message"),i=document.getElementById("content"+real_id),a=document.getElementById("simple_message"),r=document.getElementById("edit_id"),o=(document.getElementById("edit_parent_id"),document.getElementById("edit_subject")),s=document.getElementById("edit_simple"),l=document.getElementById("subject"),c=document.getElementById("edit_file"),d=(document.getElementById("subject"),document.getElementById("simple")),u=document.getElementById("edit_cnew_cmd"),h=document.getElementById("edit_csave_cmd"),f=document.getElementById("admin_date_create"),m=document.getElementById("admin_date_modify"),p=document.getElementById("admin_label_date_modify"),g=document.getElementById("admin_not_modify"),v=document.getElementById("admin_label_not_modify"),y=document.getElementById("date_"+real_id),w=document.getElementById("author_info_"+e),b=document.getElementById("admin_author");if(r&&(r.value=real_id),n&&o&&l&&(0==window.type?(l.value=n.value,o.style.display="block"):(l.value="",o.style.display="none")),i&&window.MQRTE&&set_content(i.innerHTML,!1,!0),c)try{c.value=""}catch(_){}a&&s&&d&&(0==window.type?(d.checked=0==a.value,s.style.display="block"):(d.checked=!1,s.style.display="none")),u&&h&&(u.style.display="none",h.style.display="block"),f&&(f.value=null!=y?y.getAttribute("data-date-create"):""),m&&(m.style.display=0==window.type?"block":"none",m.value=0==window.type&&null!=y?y.getAttribute("data-date-modify"):""),p&&(p.style.display=0==window.type?"block":"none"),g&&(g.style.display="none",g.checked=!1),v&&(v.style.display="none"),b&&w&&(b.value=w.title)}function edit_cancel(){document.getElementById("id_message");var e=document.getElementById("edit_id"),t=document.getElementById("edit_subject"),n=document.getElementById("edit_simple"),i=document.getElementById("subject"),a=document.getElementById("edit_file"),r=(document.getElementById("subject"),document.getElementById("simple")),o=document.getElementById("edit_cnew_cmd"),s=document.getElementById("edit_csave_cmd"),l=document.getElementById("admin_date_create"),c=document.getElementById("admin_date_modify"),d=document.getElementById("admin_label_date_modify"),u=document.getElementById("admin_not_modify"),h=document.getElementById("admin_label_not_modify"),f=document.getElementById("admin_author");if(e&&(e.value=0),t&&i&&(i.value="",t.style.display="none"),window.MQRTE&&set_content(Dalet.isGecko?"<br>":"",!1,!0),a)try{a.value=""}catch(m){}n&&r&&(r.checked=!1,n.style.display="none"),o&&s&&(o.style.display="block",s.style.display="none"),l&&(l.value=""),c&&(c.style.display="none",c.value=""),d&&(d.style.display="none"),u&&(u.style.display="inline",u.checked=!1),h&&(h.style.display="inline"),f&&(f.value="")}function quote_forum(e){var t=document.getElementById("newmessage");t&&(t.style.display="block");var n=document.getElementById("content"+e),i=document.querySelector("#author_info_"+e+" .author");if(n&&i){var a=i.cloneNode(!0),r=a.getElementsByTagName("a");for(k=r.length-1;k>=0;--k)"fast_msg"==r[k].className&&r[k].parentNode.removeChild(r[k]);var o="",s=document.querySelector("#blockComment"+e+" .permalink");if(s){var l=s.getAttribute("href");l&&(o=' <a href="'+l+'">#</a>')}set_content('<div class="fquote">'+('<strong><span class="fquote-author" style="color:#42639C;"'+(i.title?' title="'+i.title+'"':"")+">"+trim(a.innerText?a.innerText:a.textContent)+o+"</span>:</strong><br> "+window.getQuote(n))+"</div>",!0,!1),MQTE.Focus("body")}}function toggleNewMessage(e,t){var n=document.getElementById("newmessage");if(!n)return!1;function i(){set_content("",!0,!1),MQTE.Focus("body"),$("extractorContainer")&&($("extractorContainer").className="")}return t=1e3*t||0,e||"none"==n.style.display?(n.style.display="block",t?setTimeout((function(){i()}),t):i(),n.scrollIntoView({block:"center",behavior:"smooth"}),!0):(editCommentCancel(),n.style.display="none",$("extractorContainer")&&($("extractorContainer").innerHTML=""),!1)}function win_ban_show(e,t,n,i,a,r){var o=document.createElement("form");o.name="banForm",o.action="/",o.method="get";var s=document.getElementById(n);o.innerHTML=s.innerHTML.replace(/HIDDEN/g,"").replace(/{IP}/,i).replace(/{COOKIE}/,a).replace(/{USER_LOGIN}/,r),Dialog.show(e,o,500,162,(function(){Dialog.hide()}))}function win_multiban_show(e,t,n,i){var a=document.createElement("form");a.name="banForm",a.action="/",a.method="get";var r=document.getElementById(n);a.innerHTML=r.innerHTML.replace(/HIDDEN/g,"").replace(/{USER_LOGIN}/,i).replace(/{USER_LOGIN}/,i),Dialog.show(e,a,500,162,(function(){Dialog.hide()}))}function win_edit_image_show(e,t,n){var i=document.createElement("iframe");i.id="iframe_avatar",i.name="iframe_avatar",i.frameBorder=0,i.scrolling="no",i.onload=function(){resizeAvatarIframe(i)},i.src="/"+e+"/users/"+t+"/avatar",i.style.width="100%",i.style.height="430px",i.style.overflow="hidden",Dialog.show(n,i,320,430)}function ban_submit(e,t,n,i){var a={__signature:n};if(a.period=document.getElementById("period").value,i)a.multi=!0;else{var r=document.getElementById("cookie");r&&(a.cookie=encodeURIComponent(r.value));var o=document.getElementById("ip_address");if(o){var s=o.value;if(null==s.match("^((([0-9*]{1,3}.){3}([0-9*]{1,3}){1})?)|((([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])))$"))return void alert("IP mask is not valid");a.ip=s}}var l=document.getElementById("comment").value;""!=l?(a.comment=encodeURIComponent(l),a.login=document.getElementById("login").value,Ajax.post(e,a,!0,{onready:function(e){window.location.reload()}},!0)):alert(t)}function set_content(e,t,n){n?MQTE.SetContent("body",e):MQTE.InsertContent("body",e)}function trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function processAjaxSubscribe(url,sender,locData,addtoken,removetoken){var subscribeLink=sender;if("inFavorite star"!=subscribeLink.className&&"notInFavorite star"!=subscribeLink.className)return!1;var action="inFavorite star"==subscribeLink.className?"remove":"add",antiAction="inFavorite star"==subscribeLink.className?"add":"remove",postLink=url+("/"==url.charAt(url.length-1)?"":"/")+action;return subscribeLink.className="loading star",bindStarSrc(subscribeLink,locData),Ajax.post(postLink,{__signature:"add"==action?addtoken:removetoken},!1,{onready:function(e){"success"==eval(e)?(subscribeLink.className="add"==antiAction?"notInFavorite star":"inFavorite star",bindStarSrc(subscribeLink,locData)):(alert(eval(e)),subscribeLink.className="add"==action?"notInFavorite star":"inFavorite star",bindStarSrc(subscribeLink,locData))},onerror:function(e,t){alert(locData.error),subscribeLink.className="add"==action?"notInFavorite star":"inFavorite star",bindStarSrc(subscribeLink,locData)}}),!1}function processAjaxSubscribeMarket(url,sender,locData,addtoken,removetoken){var button=sender,subscribed="true"===dataset(button,"subscribed"),action=subscribed?"remove":"add",postLink=url+("/"==url.charAt(url.length-1)?"":"/")+action;return Class(sender,"loading"),Ajax.post(postLink,{__signature:"add"===action?addtoken:removetoken},!1,{onready:function(e){Class(sender,"loading",!0),"success"==eval(e)&&(dataset(button,"subscribed",subscribed?"false":"true"),button.innerHTML=subscribed?locData.add:locData.remove)},onerror:function(e,t){Class(sender,"loading",!0)}}),!1}function processAjaxSubscribeToModule(e,t,n,i){var a=n?{__signature:n}:{};return Ajax.post(e,a,!1,{onready:function(e){t.style.display="none",i&&i()},onerror:function(e,n){t.style.display="none"}}),!1}function bindStarSrc(e,t){"inFavorite star"==e.className&&(e.title=t.remove),"notInFavorite star"==e.className&&(e.title=t.add),"loading star"==e.className&&(e.title="")}function openAttachments(e,t){$(t).style.display="block",$(t+"_link").style.display="none",$(t+"_info").style.display="block";var n=$(e);return n.className=n.className.replace("floatedAttaches","noFloatedAttaches"),!1}function MenuUpdater(){}function MQAutoComplete(){this.id=null,this.placeholder=null,this.multiple=!1,this.items=[],this.defaultKey=null,this.domContainer=null,this.post=!1,this.signature=null,this.ajaxQueryUrl=null,this.buildAjaxQueryUrl=function(){return this.ajaxQueryUrl},this.onPopup=function(e,t){},this.onTyping=function(e){},this.onChange=function(e,t,n){},this.onStartSearching=function(){},this.onEndSearching=function(){},this.bindResult=function(e,t){e.innerHtml=t,e.item=t},this.loadItemValue=function(e){return e.item},this.loadResultValue=function(e){return e},this.init=function(){this.initTo(document.getElementById(this.id))},this.initTo=function(e,t){this.id&&e&&(this._dom_field=e,this._dom_field.addEventListener?(this._dom_field.addEventListener("keypress",this._bind(this._suppressSubmit,this),!1),this._dom_field.addEventListener("keydown",this._bind(this._trackArrow,this),!1),this._dom_field.addEventListener("keyup",this._bind(this._trackKeywordChange,this),!1)):(this._dom_field.attachEvent("onkeypress",this._bind(this._suppressSubmit,this)),this._dom_field.attachEvent("onkeydown",this._bind(this._trackArrow,this)),this._dom_field.attachEvent("onkeyup",this._bind(this._trackKeywordChange,this))),this._dom_dropdown=document.createElement("DIV"),this._dom_dropdown.className="select-edit-list",this._dom_dropdown.style.width=(t||this._dom_field.parentNode.clientWidth)+"px",this._dom_field.parentNode.insertAdjacentElement("afterend",this._dom_dropdown),this.domContainer=this._dom_field.parentNode.parentNode,this._dom_list=document.createElement("TABLE"),this._dom_dropdown.appendChild(this._dom_list),this.placeholder&&this.placeholder.length>0?(this._dom_placeholder=document.createElement("SPAN"),this._dom_placeholder.style.display="none",this._dom_placeholder.style.position="absolute",this._dom_placeholder.style.marginTop="-22px",this._dom_placeholder.style.padding="1px 2px",this._dom_placeholder.style.color="#999",this._dom_placeholder.style.cursor="text",this._dom_placeholder.style.cursor="text",this._dom_field.addEventListener?(this._dom_field.addEventListener("focus",this._bind(this._gotFocus,this),!1),this._dom_field.addEventListener("blur",this._bind(this._lostFocus,this),!1),this._dom_placeholder.addEventListener("click",this._bind(this._lostFocus,this),!1)):(this._dom_field.attachEvent("onfocus",this._bind(this._gotFocus,this),!1),this._dom_field.attachEvent("onblur",this._bind(this._lostFocus,this),!1),this._dom_placeholder.attachEvent("onclick",this._bind(this._lostFocus,this))),this._dom_field.parentNode.appendChild(this._dom_placeholder),0===this._dom_field.value.length&&(this._dom_placeholder.style.display="block")):this._dom_field.addEventListener?this._dom_field.addEventListener("blur",this._bind(this._lostFocus,this),!1):this._dom_field.attachEvent("onblur",this._bind(this._lostFocus,this)),this.items.length>0&&this._buildDropDown(this,this.items))},this.toggle=function(e){"block"===e._dom_dropdown.style.display?e._hideDropDown():e._showDropDown(),e._dom_field.focus()},this.getVisible=function(){var e=this._dom_field.parentNode.parentNode;return e&&"hidden"!==e.style.visibility},this.setVisible=function(e){this._setVisible(this,e)},this._setVisible=function(e,t){var n=e._dom_field.parentNode.parentNode;return!!n&&(n.style.visibility=t?"visible":"hidden",!0)},this.clone=function(e,t){var n=e||this._getID(this.id),i=new MQAutoComplete;i.id=n,i.items=this.items,i.onChange=this.onChange,i.loadItemValue=function(e){return $(n+"Key").value=e.key,window[n+"Autocomplete"].onChange&&window[n+"Autocomplete"].onChange(n,e.key,e.value),e.value},i.loadResultValue=function(e){return e.key||e.Key},i.bindResult=function(e,t){e.innerHTML=t.value||t.Value,e.key=t.key||t.Key,e.value=t.value||t.Value},i.onTyping=function(e,t){$(n+"Key").value=e.defaultKey,e.onChange&&e.onChange(n,e.defaultKey,t.value)};var a=this._dom_field.parentNode.parentNode.cloneNode(!1),r=this._dom_field.parentNode.cloneNode(!1);a.appendChild(r);var o=this._dom_field.cloneNode(!1);o.setAttribute("id",n),t&&o.setAttribute("name",t),o.value="",r.appendChild(o);var s=this._dom_field.parentNode.getElementsByTagName("input")[1].cloneNode(!1);s.setAttribute("id",n+"Key"),t&&s.setAttribute("name",t+"Key"),r.appendChild(s);var l=this._dom_field.parentNode.getElementsByTagName("a")[0].cloneNode(!0);return l.setAttribute("onclick",n+"Autocomplete.toggle("+n+"Autocomplete)"),r.appendChild(l),i.initTo(o,this._dom_field.parentNode.clientWidth),i._setVisible(i,this.getVisible()),window[n+"Autocomplete"]=i,i},this._dom_field=null,this._dom_placeholder=null,this._dom_dropdown=null,this._dom_list=null,this._preventLostFocus=!1,this._searching=!1,this._searchCall=!1,this._listItems=[],this._dropDownListIndex=-1,this._getID=function(e){for(var t=1,n=e+t;$(n);)n=e+ ++t;return n},this._getValue=function(){return this.multiple&&this._dom_field.value.indexOf("|")>=0?this._dom_field.value.substring(this._dom_field.value.lastIndexOf("|")+1):this.multiple&&this._dom_field.value.indexOf(",")>=0?this._dom_field.value.substring(this._dom_field.value.lastIndexOf(",")+1):this.multiple&&this._dom_field.value.indexOf(";")>=0?this._dom_field.value.substring(this._dom_field.value.lastIndexOf(";")+1):this._dom_field.value},this._setValue=function(e){this.multiple&&this._dom_field.value.indexOf("|")>=0?this._dom_field.value=this._dom_field.value.substring(0,this._dom_field.value.lastIndexOf("|")+1)+e:this.multiple&&this._dom_field.value.indexOf(",")>=0?this._dom_field.value=this._dom_field.value.substring(0,this._dom_field.value.lastIndexOf(",")+1)+e:this.multiple&&this._dom_field.value.indexOf(";")>=0?this._dom_field.value=this._dom_field.value.substring(0,this._dom_field.value.lastIndexOf(";")+1)+e:this._dom_field.value=e},this._bind=function(e,t){return function(){return arguments?e(this,t,arguments[0]):e(this,t)}},this._bindIE=function(e,t,n){return function(){return e(n,t)}},this._showDropDown=function(){this.onPopup(this._dom_field,this._dom_dropdown),this._dom_dropdown.style.width=this._dom_field.parentNode.clientWidth+"px",this._dom_dropdown.style.display="none",this._dom_dropdown.style.height="auto";var e=document.body,t=document.documentElement,n=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);this._dom_dropdown.style.display="block";var i=n-(this._dom_dropdown.getBoundingClientRect().top-document.body.getBoundingClientRect().top)-20;this._dom_dropdown.offsetHeight>i&&(this._dom_dropdown.style.overflowY="auto",this._dom_dropdown.style.height=i+"px")},this._hideDropDown=function(){this._dom_dropdown.style.display="none",0===this.items.length&&(this._listItems=[])},this._gotFocus=function(e,t,n){t._dom_placeholder&&(t._dom_placeholder.style.display="none",t._dom_field.focus())},this._lostFocus=function(e,t,n){0===t._dom_field.value.length&&t._dom_placeholder&&(t._dom_placeholder.style.display="block");var i=n.explicitOriginalTarget||n.toElement;t._preventLostFocus||!i||"A"==i.tagName||"EM"==i.tagName||i.parentNode&&("A"==i.parentNode.tagName||"EM"==i.parentNode.tagName)||t._hideDropDown(),t._preventLostFocus=!1},this._trackKeywordChange=function(e,t,n){var i=(n=n||window.event).keyCode;n.charCode&&0===i&&(i=n.charCode),40!==i&&38!==i&&13!==i&&32!==i&&0!==i&&(t._searching||t._searchCall||(setTimeout((function(){t._searchByKeyword(t)}),500),t._searchCall=!0))},this._searchByKeyword=function(e){if(e._dropDownListIndex=-1,!(e._searching||e.items.length>0)){var t=e._getValue();if(t.length<2)return e._searchCall=!1,void e._hideDropDown();var n=e.buildAjaxQueryUrl();if(n)if(e._searching=!0,e._searchCall=!1,Class(e._dom_field,"wait"),e._dom_field.style.backgroundPosition=e._dom_field.clientWidth-18+"px center",e.onStartSearching(),e.post){var i=e.buildAjaxPostParams()||{};i.keyword=t,Ajax.post(n,i,!1,{onready:function(t){e.onEndSearching(),e._processCallBack(e,t)}})}else Ajax.get(n,{keyword:t},{onready:function(t){e.onEndSearching(),e._processCallBack(e,t)}})}},this._processCallBack=function(context,json){for(;context._dom_list.hasChildNodes();)context._dom_list.removeChild(context._dom_list.firstChild);if(null!=json&&""!=json&&"[]"!=json){var result=eval("("+json+")");if(context._listItems=[],1==result.length&&context._value==context.loadResultValue(result[0]))return context._hideDropDown(),context._searching=!1,context._dom_field.className="",!1;context._buildDropDown(context,result),context._showDropDown()}else context._hideDropDown();return context._searching=!1,Class(context._dom_field,"wait",!0),!0},this._buildDropDown=function(e,t){for(var n=0;n<t.length;n++){var i=e._dom_list.rows.length,a=e._dom_list.insertRow(i).insertCell(0),r=document.createElement("A");r.href="javascript:void(false);",e.bindResult(r,t[n]),r.addEventListener?r.addEventListener("click",e._bind(e._itemClick,e),!1):r.attachEvent("onclick",e._bindIE(e._itemClickIE,e,n)),e._listItems.push(r),a.appendChild(r)}},this._itemClick=function(e,t){return e.className&&"more"===e.className||(t._setValue(t.loadItemValue(e,!0)),t._hideDropDown()),!1},this._itemClickIE=function(e,t){var n=t._listItems[e];return n&&n.className&&"more"===n.className||(t._setValue(t.loadItemValue(n,!0)),t._hideDropDown()),!1},this._suppressSubmit=function(e,t,n){n||(n=window.event);var i=n.keyCode;return n.charCode&&0==i&&(i=n.charCode),t.onTyping(e),13==i&&n.stopPropagation(),!0},this._trackArrow=function(e,t,n){var i=(n=n||window.event).keyCode;if(n.charCode&&0===i&&(i=n.charCode),t._listItems&&t._listItems.length>0)switch(i){case 40:n.preventDefault&&n.preventDefault(),-1!==t._dropDownListIndex&&t._listItems[t._dropDownListIndex]&&(t._listItems[t._dropDownListIndex].className=""),t._dropDownListIndex<t._listItems.length-1?++t._dropDownListIndex:t._dropDownListIndex=0,"more"==(a=t._listItems[t._dropDownListIndex]).className&&(t._dropDownListIndex=0,a=t._listItems[t._dropDownListIndex]),t._setValue(t.loadItemValue(a,!1)),a.className="selected",t._preventLostFocus=!0,t._trackScrolledVisibility(a,t);break;case 38:var a;if(n.preventDefault&&n.preventDefault(),-1!==t._dropDownListIndex&&t._listItems[t._dropDownListIndex]&&(t._listItems[t._dropDownListIndex].className=""),t._dropDownListIndex<=0?t._dropDownListIndex=t._listItems.length-1:--t._dropDownListIndex,-1!==t._dropDownListIndex&&t._listItems[t._dropDownListIndex])"more"==(a=t._listItems[t._dropDownListIndex]).className&&(t._dropDownListIndex=t._listItems.length-2,a=t._listItems[t._dropDownListIndex]),t._setValue(t.loadItemValue(a,!1)),a.className="selected",t._trackScrolledVisibility(a,t);break;case 13:case 32:case 0:return t._hideDropDown(),!1;case 27:return t._dom_field.focus(),t._hideDropDown(),!1;case 8:return t._dom_field.focus(),t._dom_field.value=t._dom_field.value.substring(0,t._dom_field.value.length),t._searching||t._searchCall||(setTimeout((function(){t._searchByKeyword(t)}),500),t._searchCall=!0),!1}return!0},this._trackScrolledVisibility=function(e,t){if(e){var n=e.parentNode.parentNode,i=n.parentNode.parentNode.parentNode;if(i&&n.offsetTop+n.offsetHeight>i.scrollTop+i.offsetHeight){var a=t._listItems[t._dropDownListIndex+1];a&&"more"==a.className?i.scrollTop=n.offsetTop+n.offsetHeight-i.offsetHeight+a.parentNode.parentNode.offsetHeight:i.scrollTop=n.offsetTop+n.offsetHeight-i.offsetHeight}i&&n.offsetTop<i.scrollTop&&(i.scrollTop=n.offsetTop)}}}function searchTips(e,t){var n,i,a,r,o=this;i=e.offsetHeight||35,this.hide=function(){Class(n,"active",!0),a=null},this.render=function(t){var i=null;try{i=JSON.parse(t)}catch(s){console.warn(s)}if(i){var a=i.length;if(n.innerHTML="",a>0){Class(n,"active");for(var r=0;r<a;r++)!function(t){var a=document.createElement("li"),r=i[t];a.className="search-tips__item",a.innerText=r,n.appendChild(a),Core.AddHandler(a,"click",(function(){e.value=r,o.hide()}))}(r)}else o.hide()}},this.search=function(i){i=i||window.event;var s=e.value,l=i.keyCode||i.which;if(s.length>2&&40!==l&&38!==l&&13!==l&&39!==l&&37!==l)clearTimeout(r),r=setTimeout((function(){Ajax.get(t,{keyword:s},{onready:o.render})}),1e3);else if(i.preventDefault(),40!==l||a)if(40===l){var c=a.nextSibling;c&&(Class(a,"active",!0),Class(c,"active"),a=c)}else if(38===l&&a){var d=a.previousSibling;d&&(Class(a,"active",!0),Class(d,"active"),a=d)}else 13===l&&a?(e.value=a.innerHTML,o.hide()):o.hide();else(a=n.firstChild)&&Class(a,"active")},(n=document.createElement("ul")).className="search-tips__result",Class(e,"search-tips__node"),n.style.top=i-1+"px",e.parentNode.style.position="relative",e.parentNode.appendChild(n),Core.AddHandler(e,"keyup",o.search),Core.AddHandler(e,"focus",o.search),Core.AddHandler(e,"blur",(function(){setTimeout(o.hide,200)}))}function Searchbox(){this.multiselect_separator=",";var searchBoxManager=this;this.AjaxEnabled=!0,this.OnRenderResults=function(e){return!0},this.OnRenderElement=undefined,this.OnSelectResult=function(e){return!0},this.ShowHide=function(){var e=$("searchBoxContainer");return!e||("search-box"==e.className?(e.className="search-box search-box_open",!1):(alert("need submit"),e.className="search-box",!0))},this.Render=function(e,t,n,i,a,r){this.requestURL=a,this.container=$(e);var o=document.createElement("div");o.className="search-control",this.input=$(t),this.input||(this.input=document.createElement("input"),this.input.type="text",this.input.id=t,this.input.name=t,this.input.className="input input_small"),this.input.value=n,this.input.title=r,this.input.setAttribute("placeholder",r),this.input.setAttribute("autocomplete","off"),this.input.onkeyup=this.OnKeyPress,this.input.onkeydown=this.OnKeyDown,o.appendChild(this.input),this.container.appendChild(o),this.Multiselect=i,this.input.onblur=function(){var e=this;e.focused=!1,window.setTimeout((function(){e.focused||searchBoxManager.ResultsPanel.Hide()}),10)},this.input.onfocus=function(){this.focused=!0}},this.PressTimeout=null,this.SendAjaxDelay=500,this.OnKeyPress=function(event){return searchBoxManager.PressTimeout&&clearTimeout(searchBoxManager.PressTimeout),event||(event=window.event),13==event.keyCode&&searchBoxManager.ResultsPanel.SelectedResult>=0?0==searchBoxManager.ResultsPanel.ResultsInDom()||(searchBoxManager.ResultsPanel.Hide(),searchBoxManager.OnSelectResult&&searchBoxManager.OnSelectResult(eval(searchBoxManager.JSON)[searchBoxManager.ResultsPanel.SelectedResult]),!1):40!=event.keyCode&&38!=event.keyCode&&(searchBoxManager.GetValue().length>1&&1==searchBoxManager.AjaxEnabled?searchBoxManager.PressTimeout=setTimeout((function(){var e=searchBoxManager.GetValue();Ajax.get(searchBoxManager.requestURL,{keyword:e},{onready:searchBoxManager.SearchCallBack})}),searchBoxManager.SendAjaxDelay):searchBoxManager.ResultsPanel.Hide(),!0)},searchBoxManager.OnKeyDown=function(event){return event||(event=window.event),13==event.keyCode?0==searchBoxManager.ResultsPanel.ResultsInDom()||(searchBoxManager.OnSelectResult&&searchBoxManager.OnSelectResult(eval(searchBoxManager.JSON)[searchBoxManager.ResultsPanel.SelectedResult]),searchBoxManager.ResultsPanel.Hide()):40==event.keyCode?(searchBoxManager.ResultsPanel.SelectedResult+=1,searchBoxManager.MoveCursor(!0),!1):!(38==event.keyCode&&searchBoxManager.ResultsPanel.SelectedResult>=0)||(searchBoxManager.ResultsPanel.SelectedResult-=1,searchBoxManager.MoveCursor(!0),!1)},this.ResultsPanel=function(){},this.ResultsPanel.ID="searchboxResultsPanel",this.ResultsPanel.ResultsInDom=function(){return null!=$(searchBoxManager.ResultsPanel.ID)},this.ResultsPanel.SelectedResult=-1,this.ResultsPanel.OnClick=function(event){event=event||window.event,event.target||(event.target=event.srcElement),event.target&&searchBoxManager.SetValue(event.target.login),searchBoxManager.ResultsPanel.Hide(),searchBoxManager.OnSelectResult&&searchBoxManager.OnSelectResult(eval(searchBoxManager.JSON)[searchBoxManager.ResultsPanel.SelectedResult])},this.ResultsPanel.RenderResults=function(){var elements=eval(searchBoxManager.JSON);if(searchBoxManager.ResultsPanel.SelectedResult=-1,elements&&0!=elements.length&&searchBoxManager.input.focused){if(0==searchBoxManager.ResultsPanel.ResultsInDom()){searchBoxManager.ResultsPanel.panel=document.createElement("div"),searchBoxManager.ResultsPanel.panel.style.backgroundColor="#FFFFFF",searchBoxManager.ResultsPanel.panel.id=searchBoxManager.ResultsPanel.ID,searchBoxManager.ResultsPanel.panel.style.position="absolute";var containerOffset=getOffsetRect(searchBoxManager.container);searchBoxManager.ResultsPanel.panel.style.top=containerOffset.top+(searchBoxManager.container.clientHeight||20)-3+"px",searchBoxManager.ResultsPanel.panel.style.left=containerOffset.left+"px",searchBoxManager.ResultsPanel.panel.style.minWidth=searchBoxManager.container.offsetWidth+"px",searchBoxManager.ResultsPanel.panel.style.zIndex=3001,searchBoxManager.ResultsPanel.panel.style.cursor="default",searchBoxManager.ResultsPanel.panelBox=document.createElement("div"),searchBoxManager.ResultsPanel.panelBox.style.border="solid 1px #000000",searchBoxManager.ResultsPanel.panelBox.style.color="#000000",searchBoxManager.ResultsPanel.panel.appendChild(searchBoxManager.ResultsPanel.panelBox),document.body.appendChild(searchBoxManager.ResultsPanel.panel)}if(searchBoxManager.ResultsPanel.panelBox.innerHTML="",1==elements.length&&elements[0].Login==searchBoxManager.GetValue())searchBoxManager.ResultsPanel.SelectedResult=-1,searchBoxManager.SetValue(elements[0].Login),searchBoxManager.ResultsPanel.Hide();else for(var i in elements)if(elements.hasOwnProperty(i)){var el;if(searchBoxManager.OnRenderElement?el=searchBoxManager.OnRenderElement(elements[i]):(el=document.createElement("div"),el.innerHTML=encodeHtml(elements[i].Login+(elements[i].Name&&""!=elements[i].Name?" ("+elements[i].Name+")":"")),el.style.padding="2px",el.login=elements[i].Login,el.number=i,el.style.cursor="default",el.style.zIndex=101,el.onmouseover=searchBoxManager.HoverResult,el.onclick=searchBoxManager.ResultsPanel.OnClick,el.onmousedown=function(){setTimeout((function(){searchBoxManager.input.focus()}),0)}),!el)continue;searchBoxManager.ResultsPanel.panelBox.appendChild(el)}}else searchBoxManager.ResultsPanel.Hide()},this.ResultsPanel.Hide=function(){return searchBoxManager.OnRenderResults("[]"),1==searchBoxManager.ResultsPanel.ResultsInDom()&&(searchBoxManager.OnSelectResult&&searchBoxManager.ResultsPanel.SelectedResult>=0&&searchBoxManager.OnSelectResult(eval(searchBoxManager.JSON)[searchBoxManager.ResultsPanel.SelectedResult]),searchBoxManager.ResultsPanel.panel.parentNode.removeChild(searchBoxManager.ResultsPanel.panel)),!1},this.HoverResult=function(e){e||(e=window.event);var t=e.toElement;t||(t=e.currentTarget),searchBoxManager.ResultsPanel.SelectedResult=t.number,searchBoxManager.MoveCursor(!1)},this.SearchCallBack=function(e){searchBoxManager.JSON=e,searchBoxManager.OnRenderResults(e)&&searchBoxManager.ResultsPanel.RenderResults()},this.MoveCursor=function(e){var t=searchBoxManager.ResultsPanel.panelBox.childNodes,n=t.length;for(var i in searchBoxManager.ResultsPanel.SelectedResult>=n&&(searchBoxManager.ResultsPanel.SelectedResult=0),searchBoxManager.ResultsPanel.SelectedResult<0&&n>0&&(searchBoxManager.ResultsPanel.SelectedResult=n-1),0==n&&(searchBoxManager.ResultsPanel.SelectedResult=-1),t)t[i].style&&(t[i].style.backgroundColor="#FFFFFF",t[i].style.color="#000",t[i].number==searchBoxManager.ResultsPanel.SelectedResult&&(t[i].style.backgroundColor="Highlight",t[i].style.color="#FFF",e&&searchBoxManager.SetValue(t[i].login)))},this.SetValue=function(e){if(searchBoxManager.Multiselect){var t=searchBoxManager.input.value.substring(0,searchBoxManager.input.value.lastIndexOf(searchBoxManager.multiselect_separator));searchBoxManager.input.value=t+(""==t?"":searchBoxManager.multiselect_separator)+e}else searchBoxManager.input.value=e},this.GetValue=function(){if(!searchBoxManager.Multiselect)return searchBoxManager.input.value;var e=searchBoxManager.input.value;return e.substring(e.lastIndexOf(searchBoxManager.multiselect_separator)+1)}}function UserLinkMenu(){var e=null,t=null,n=null,i=null,a=this;this.Init=function(){if((e=$("userLinkMenu"))&&(t=$("userLinkContainer")))if(n=$("userlink"),Core.IsTouchDevice()){null!=n&&(n.onclick=function(){return a.Show(),!1}),e.onmousedown=function(e){Core.StopProp(e),Core.PreventSelection()},e.onclick=function(e){Core.StopProp(e)},(i=document.createElement("input")).type="checkbox",i.className="blurHandler",i.onblur=function(){a.Hide()},e.appendChild(i);var r=e.getElementsByTagName("a");for(var o in r)r[o].onmousedown=function(e){e=e||window.event,Core.StopProp(e),e.preventDefault&&e.preventDefault()}}else null!=t&&(t.onmouseover=function(){a.Show()},t.onmouseout=function(){a.Hide()})},this.Show=function(){e.className="userLinkMenu hovered",null!=i&&window.setTimeout((function(){i.focus()}),10)},this.Hide=function(){e.className="userLinkMenu"},mqGlobal.AddOnReady((function(){a.Init()}))}function HotKeysClass(){var e=[];function t(e,t,n,i,a){var r=e,o=!!t,s=!!n,l=!!i,c=a;this.IsPressed=function(e){var t,n,i,a;return t=(e=e||window.event)?e.keyCode:e.which,n=!!e.shiftKey,i=!!e.ctrlKey,a=!!e.altKey,t==r&&o==n&&s==i&&l==a},this.ExecCallback=function(e){return!c||c(e)}}var n=window.document.onkeydown;window.document.onkeydown=function(t){for(var i=0;i<e.length;i++){if(e[i].IsPressed(t))if(0==e[i].ExecCallback(t))return!1}n&&n(arguments)},this.Add=function(n,i,a,r,o){e.push(new t(n,a,r,o,i))}}window.productBlock=function(){"use strict";var e={1:"expert",2:"indicator",3:"panel",5:"library",7:"utility"};function t(t){if(!t||"object"!=typeof t)return"";var n=Core.isMobile.any()?"_self":"_blank",i=t.track?' data-fz-event="'+t.track+'"':"",a='<div class="product-card">';(a+='<div class="product-card__main-logo">',a+='<img src="'+t.logo_url+'" width="200" height="200" alt="'+t.name+'" loading="lazy">',a+="</div>",a+='<div class="product-card__wrapper">',a+='<div class="product-card__header">',a+='<div class="product-card__logo">',a+='<img src="'+t.logo_url+'" width="200" height="200" alt="'+t.name+'" loading="lazy">',a+="</div>",a+='<a href="'+t.product_url+'"'+i+' target="'+n+'" class="product-card__title">',a+=' <span class="product-card__title-wrapper">'+t.name+"</span>",a+="</a>",a+='<div class="product-card__info">',a+='<div class="product-card__author">'+t.author_name+"</div>",a+='<div class="product-card__rating-block">',a+='<div class="product-card__rating">',a+='<div class="product-card__rating-value product-card__rating-value_'+t.rating_class+'"></div>',a+="</div>",t.rating_votes_sum&&t.rating_votes_count)&&(a+='<span class="product-card__rating-count">'+parseFloat((t.rating_votes_sum/t.rating_votes_count).toFixed(2))+" ("+t.rating_votes_count+")</span>");a+="</div>";var r=e[t.category];a+='<div class="product-card__category">',a+='<i class="icons-market icons-market_'+r+'"></i>',a+='<span class="product-card__category-name">'+window.locationKey(r)+"</span>",a+="</div>",a+="</div>",a+="</div>",a+='<div class="product-card__description">'+t.description+"</div>";var o=parseFloat(t.price,10),s="";return o<=0?(o="FREE",s=" product-card__price_free"):o=window.priceToString(o)+" USD",a+='<a href="'+t.product_url+'"'+i+' target="'+n+'" class="product-card__price'+s+'">'+o+"</a>",a+="</div>",a+="</div>"}return{render:t,append:function(e){if(e&&"object"==typeof e&&e.parentNode){var n=t(e.data),i=e.position||"beforeend";e.parentNode.insertAdjacentHTML(i,n)}}}}(),MenuUpdater.startUpdating=function(e,t,n,i){Ajax.post(t,{__signature:i},!1,{onready:function(){var t=document.createElement("span");t.innerHTML=n;var i=$(e);i.parentNode.appendChild(t),i.parentNode.removeChild(i)}})};var HotKeys=new HotKeysClass;function SearchBoxContainer(){var e,t,n,i,a=!1,r=!1,o=this;this.Init=function(){n=$("searchBoxContainer"),t=$("keyword"),i=$("searchSubmit"),e=$("main_search_form"),null!=n&&null!=t&&null!=i&&null!=e&&(n.className!=undefined&&n.className.indexOf("open")>=0&&(a=!0,r=!0),r||(t.onblur=function(){SearchBoxContainer.Hide(null,!0)},t.onkeydown=function(e){27==(e||window.event).keyCode&&(SearchBoxContainer.Hide(null,!0),this.blur())},n.onclick=function(){SearchBoxContainer.Show(null,!0)},i.onmousedown=function(e){a&&(Core.StopProp(e),e.preventDefault&&e.preventDefault())}),i.onclick=function(t){a&&(Core.StopProp(t),t.preventDefault&&t.preventDefault(),e.onsubmit?e.onsubmit():e.submit())},Core.IsTouchDevice()||r||(n.onmouseover=function(){SearchBoxContainer.Show(null,!1)},n.onmouseout=function(){SearchBoxContainer.Hide(null,!1)}))},this.ShowHide=function(){return a?this.Hide(n,!0):this.Show(n,!0),!1},this.Show=function(e,i){var r=e||n;return!!r&&(r.className="search-box search-box_open",$("privateAreaMessages")&&($("privateAreaMessages").style.display="none"),$("langMenuContainer")&&($("langMenuContainer").style.display="none"),$("loginRegisterButtons")&&($("loginRegisterButtons").style.display="none"),$("profile")&&($("profile").style.display="none"),(i||Core.IsTouchDevice())&&(a=!0,t.focus()),!1)},this.Hide=function(e,t){if(!t&&a)return!1;var i=e||n;return!!i&&(i.className="search-box",t&&(a=!1),$("privateAreaMessages")&&($("privateAreaMessages").style.display="inline-block"),$("langMenuContainer")&&($("langMenuContainer").style.display="inline-block"),$("loginRegisterButtons")&&($("loginRegisterButtons").style.display="inline-block"),$("profile")&&($("profile").style.display="inline-block"),!1)},mqGlobal.AddOnReady((function(){o.Init(),HotKeys.Add(112,(function(e){o.ShowHide()}))}))}function MoveComments(){var commentsInfo,currentCommentId,currentLang,countToMove,isShow=!1,moveCommentsObj=this;function getTopicName(){var e=$("content"+currentCommentId);if(!e)return null;var t=e.getElementsByTagName("P");for(var n in t)if(t[n].innerHTML!=undefined&&t[n].innerHTML.length>10&&t[n].innerHTML.length<64&&t[n].innerHTML.indexOf(".")<0&&t[n].innerHTML.indexOf("<")<0&&t[n].innerHTML.indexOf(">")<0&&t[n].innerHTML.indexOf("?")>10)return t[n].innerHTML;return null}function highLightComments(e,t){var n=$("content"+currentCommentId);if(n){var i=n.parentNode.parentNode,a=i.parentNode.childNodes;i.style.borderTop=e?"medium none":"2px dashed #6982AE",i.style.marginTop=e?"0px":"-2px";var r=!1,o=0;for(var s in a){if(t&&t>0&&o>=t)break;a[s]==i&&(r=!0),!r||a[s].className==undefined||a[s].className.indexOf("comment")<0||(a[s].style.backgroundColor=e?"":"#F6F8FD",o++)}if(e||t){var l=$("followingCommentsLabel");l&&i.parentNode.removeChild(l)}else{var c=document.createElement("div");c.id="followingCommentsLabel",window.move_comments_show_following_label?(c.innerHTML=window.move_comments_following_label_title,c.style.backgroundColor="#F6F8FD",c.style.position="relative",c.style.fontSize="16px",c.style.textAlign="center",c.style.padding="10px",c.style.borderBottom="1px dashed #6982AE",c.style.borderTop="1px dashed #6982AE",c.style.marginTop="-1px",c.style.color="#6982AE"):(c.style.backgroundColor="#FFF",c.style.position="relative",c.style.borderTop="2px dashed #6982AE",c.style.marginTop="-2px",c.style.height="0px"),i.parentNode.appendChild(c)}}}this.ShowForm=function(e,t,n){if(isShow)return!1;var i=$("moveComments_window"),a=$("moveComments_newTopicName"),r=$("existing_only_one"),o=$("new_only_one");return i&&(commentsInfo={firstCommentId:e,categoryId:0,newTopicTitle:null},o.checked=r.checked=!n||null,currentCommentId=e,currentLang=t,highLightComments(!1,countToMove=n?1:0),a.value=getTopicName(),isShow=!0,i.style.display="",Dialog.show(window.move_comments_title,i,500,142,moveCommentsObj.CloseForm),a.focus()),!1},this.CloseForm=function(){var e=$("moveComments_window");e&&(highLightComments(!0),isShow=!1,e.style.display="none",Dialog.hide())},this.SendForm=function(signature){var w=$("moveComments_window");return!!w&&(commentsInfo.newTopicTitle=$("moveComments_newTopicName").value,commentsInfo.categoryId=$("moveComments_categoryId").value,commentsInfo.count=countToMove,commentsInfo.__signature=signature,""==commentsInfo.newTopicTitle||0==commentsInfo.categoryId||Ajax.post("/"+currentLang+"/forum/movecomments",commentsInfo,!1,{onready:function(result){var json=eval("("+result+")");return null!=json&&json.Url!=undefined&&null!=json.Url?(moveCommentsObj.CloseForm(),window.location.href=json.Url,window.location.reload(),!1):(alert("error"),moveCommentsObj.CloseForm(),window.location.reload(),!1)},onerror:function(){alert("error"),moveCommentsObj.CloseForm(),window.location.reload()}}),!1)},this.SendFormExisting=function(signature,errorText){var w=$("moveComments_window"),existingTopicInput=document.getElementById("existing_topic");if(!w||!existingTopicInput)return!1;if(existingTopicInput.className="input",commentsInfo.topicId=$("existing_topic_id").value,commentsInfo.__signature=signature,commentsInfo.count=countToMove,!commentsInfo.topicId){var errorNode=document.getElementById("existing_topic_link");return existingTopicInput.className+=" field-validation-error",errorNode&&errorText&&(errorNode.innerHTML='<span class="field-validation-error">'+errorText+"</span>"),!1}return Ajax.post("/"+currentLang+"/forum/movecomments_existing",commentsInfo,!1,{onready:function(result){var json=eval("("+result+")");return null!=json&&json.Url!=undefined&&null!=json.Url?(moveCommentsObj.CloseForm(),window.location.href=json.Url,window.location.reload(),!1):(alert("error"),moveCommentsObj.CloseForm(),window.location.reload(),!1)},onerror:function(){alert("error"),moveCommentsObj.CloseForm(),window.location.reload()}}),!1},this.OnOnlyOneChanged=function(e){var t=$("existing_only_one");t&&(t.checked=e.checked);var n=$("new_only_one");n&&(n.checked=e.checked),countToMove=e.checked?0:1,highLightComments(!0),highLightComments(!1,countToMove)}}function MoveTopic(){var topicInfo,currentTopicId,currentLang,isShow=!1;this.ShowForm=function(e,t){if(isShow)return!1;var n=$("moveTopic_window");return n&&(topicInfo={topicId:e,categoryId:0},currentTopicId=e,currentLang=t,isShow=!0,n.style.display="",Dialog.show(window.move_topic_title,n,500,142,MoveTopic.CloseForm)),!1},this.CloseForm=function(){var e=$("moveTopic_window");e&&(isShow=!1,e.style.display="none",Dialog.hide())},this.SendForm=function(signature){var w=$("moveTopic_window");return!!w&&(topicInfo.categoryId=+$("moveTopic_categoryId").value,topicInfo.__signature=signature,topicInfo.categoryId<1||Ajax.post("/"+currentLang+"/forum/movetopic",topicInfo,!1,{onready:function(result){var json=eval("("+result+")");return null!=json&&json.Url!=undefined&&null!=json.Url?(MoveTopic.CloseForm(),window.location=json.Url,!1):(alert("error"),MoveTopic.CloseForm(),window.location.reload(),!1)},onerror:function(){alert("error"),MoveTopic.CloseForm(),window.location.reload()}}),!1)}}function showComplaintForm(e,t,n,i,a){var r=$("complaint_window");if(r){var o=$("complaint_reason");r.style.display="",r.complaintData={moduleID:t,typeID:n,parentModuleID:i,itemID:e,__signature:a},Dialog.show(o?o.title:null,r,500,160,CloseComplaintForm,null,null,null,!1,"fixed"),CalculateFieldLength($("complaint_reason"),"complaint_char_counter",3,150,500==$("complaint_reason_select").value)}}function CloseComplaintForm(){RefreshComplaintForm();var e=$("complaint_window"),t=$("complaint_reason");t&&(t.value=""),e&&(e.style.display="none"),Dialog.hide()}function ComplainCallback(e){"success"==e?CloseComplaintForm():$("complaint_error").style.display=""}function SendComplaint(){RefreshComplaintForm();var e=$("complaint_window");if(e){var t=e.complaintData,n=document.getElementById("complaint_reason_select").value;if(500==n&&!window.Validate($("complaintForm")))return!1;var i=$("complaint_reason");i&&(t.reason=i.value,t.reasonID=n,Ajax.post("/complaint/new",t,!1,{onready:ComplainCallback,onerror:ComplainCallback}))}}function RefreshComplaintForm(){var e=$("complaint_info").childNodes;for(var t in e)e[t]&&"field-validation-error"==e[t].className&&"complaint_error"!=e[t].id&&(e[t].innerHTML="");$("complaint_reason").className=null,$("complaint_error").style.display="none"}function CalculateFieldLength(e,t,n,i,a){var r=!0;a||(n=0,i=0);var o=encodeHtml(e.value).length;return $(t).innerHTML=o+"/"+i,o>i||o<n?(Class($(t).parentNode,"field-validation-error"),r=!1):Class($(t).parentNode,"field-validation-error",!0),r}window.SearchBoxContainer=new SearchBoxContainer,window.MoveTopic=new MoveTopic;var Tabs=function(){this.TabsList=new Array;var e=!1,t=!1,n=!1,i=this;this.Create=function(a,r,o,s,l){e=s,t=l,n=o,a.length>0&&(i._selectedTab=a[0].tag||a[0].tab_id);for(var c=0;c<a.length;c++){var d=$(a[c].content_id),u=$(a[c].tab_id),h=a[c].selected,f=a[c].tag||a[c].tab_id;if(d&&u){h?(Class(d,"selected"),Class(u,"selected"),i._selectedTab=f,r&&r(u)):(Class(d,"selected",!0),Class(u,"selected",!0));var m={tab:u,tab_content:d,tag:f};if(Core.AddHandler(u,"click",(function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;for(var t=this,n=0;n<i.TabsList.length;n++)if(i.TabsList[n].tab==t){i._selectedTab=i.TabsList[n].tag||i.TabsList[n].tab.id;break}return o?i.SelectVerticalTab(t):i.SelectTab(t),r&&setTimeout((function(){r(t)}),0),!1})),Class(u.parentNode,"vertical",!o),o){var p=createElement(null,"span",{className:"rowBullet"});m.bullet=p;var g=createElement(null,"li",{className:"tab_content"});d.id&&(g.id="tab_"+d.id),g.appendChild(d),insertAfter(u.parentNode,g,u),g.style.height="auto",prependElement(u,p)}i.TabsList.push(m)}}if(u=window.hashParams.Get("tab")){var v;for(c=0;c<i.TabsList.length;c++)if(i.TabsList[c].tag===u){v=i.TabsList[c].tab;break}if(v){if(u==i._selectedTab)return;o?i.SelectVerticalTab(v):i.SelectTab(v),r&&setTimeout((function(){r(v)}),0)}}var y=window.hashParams.Get("id");if(y&&(y=$(y))){var w=window.scrollY+y.getBoundingClientRect().top;setTimeout((function(){window.scrollTo(0,w)}),1e3)}window.onhashchange=function(){var e=window.hashParams.Get("tab");if(!/^\#edit_\w+$/.test(document.location.hash)&&i&&i.TabsList&&i.TabsList.length&&(e||(e=i.TabsList[0].tag),e!=i._selectedTab))for(var t=0;t<i.TabsList.length;t++)if(i.TabsList[t].tag==e){i.SelectTab(i.TabsList[t].tab),i._selectedTab=e;break}}},this.SelectVerticalTab=function(n){for(var a=null,r=0;r<i.TabsList.length;r++)if(!e||i.TabsList[r].tab.id==n.id){var o=i.TabsList[r].tab_content.parentNode,s=i.TabsList[r].tab.className.indexOf("selected")>=0;Class(i.TabsList[r].tab_content,"selected",!1),i.TabsList[r].tab.id!=n.id||s?s?(animate(o,"height","px",o.clientHeight||o.offsetHeight,0,0,500,50,1.7,null),Class(i.TabsList[r].tab,"selected",!0)):o.style.height="0px":(Class(i.TabsList[r].tab,"selected",!1),animate(o,"height","px",0,o.scrollHeight,0,500,50,1.7,.5),a=o)}t&&a&&setTimeout((function(){a&&a.style.height==a.scrollHeight+"px"&&(a.style.height="auto")}),600)},this.SelectTab=function(e){if(n)return this.SelectVerticalTab(e);if(-1==e.className.indexOf("add_lang"))for(var t=0;t<i.TabsList.length;t++){var a=i.TabsList[t].tab.className.indexOf("add_lang")>-1;i.TabsList[t].tab.id==e.id?(Class(i.TabsList[t].tab_content,"selected",!1),window.hashParams.Set("tab",i.TabsList[t].tag||i.TabsList[t].tab.id)):Class(i.TabsList[t].tab_content,"selected",!0),Class(i.TabsList[t].tab,"selected",i.TabsList[t].tab.id!=e.id),1==a&&Class(i.TabsList[t].tab,"add_lang")}},this.FitVerticalTabsHeight=function(){for(var e=0;e<i.TabsList.length;e++)if(!(i.TabsList[e].tab.className.indexOf("selected")<0)){var t=i.TabsList[e].tab_content.parentNode;t&&t.style.height!=t.scrollHeight+"px"&&(t.style.height="auto")}}};function LinkatorSelectAll(){for(var e=0,t=document.getElementsByTagName("INPUT"),n=t.length-1;n>=0;n--)null!=t[n]&&t[n]!=undefined&&"checkbox"==t[n].type&&"checkbox"==t[n].className&&(0==e&&(e=t[n].checked?2:1),t[n].checked=2==e?"":"checked");t=null,e=null}var SliderBar=function(e,t,n){if("undefined"!=typeof filters){var i,a,r,o,s,l,c,d,u,h,f,m,p,g,v,y=t||194,w=n||15,b=0,_=!1,C=!1;return function(){for(var t in A(window.document,"mousemove",(function(e){T(e)})),A(window.document,"mouseup",(function(){k()})),m=document.getElementById(e),filters){var n=filters[t][0],i=filters[t][1],a=$(t),r=$(t+"Label"),o=document.createElement("INPUT");o.id=t+"From",o.name=t+"From";try{o.type="number"}catch(f){o.type="text"}o.value=n,o.className="input",function(e){o.onkeypress=function(){window.setTimeout((function(){M(e,!1)}),0)},o.onchange=function(){M(e,!0)}}(t),r.appendChild(o);var s=document.createElement("SPAN");s.className="delimiter",s.innerHTML="&#8212;",r.appendChild(s);var l=document.createElement("INPUT");l.id=t+"To",l.name=t+"To";try{l.type="number"}catch(f){l.type="text"}l.value=i,l.className="input",function(e){l.onkeypress=function(){window.setTimeout((function(){M(e,!1)}),0)},l.onchange=function(){M(e,!0)}}(t),r.appendChild(l);var c=document.createElement("DIV");c.className="bar",c.id=t+"Bar",function(e){c.onmousedown=function(t){N(t,e)}}(t),a.appendChild(c);var d=document.createElement("DIV");d.className="selection",d.id=t+"BarRange",c.appendChild(d);var u=document.createElement("DIV");u.className="handle left",u.id=t+"HandleLeft",c.appendChild(u);var h=document.createElement("DIV");h.className="handle right",h.id=t+"HandleRight",c.appendChild(h),M(t,!1),Core.isMobile.any()&&function(e){h.addEventListener("touchstart",(function(t){E(t),N(t,e)}),!0),h.addEventListener("touchend",k,!0),h.addEventListener("touchmove",(function(e){x(e)}),!0),u.addEventListener("touchstart",(function(t){E(t),N(t,e)}),!0),u.addEventListener("touchend",k,!0),u.addEventListener("touchmove",(function(e){x(e)}),!0)}(t)}}(),this.SerializeFilter=function(){var e=0,t={};for(var n in filters){var i=filters[n],a=$(n+"From"),r=$(n+"To"),o=!1;if(a&&r){var s=parseInt(a.value);s>i[2]&&(o=!0,t[n+"From"]=s),(s=parseInt(r.value))<i[3]&&(o=!0,t[n+"To"]=s),o&&e++}}return{fields:e,json:0==e?null:JSON.stringify(t)}},this.ResetFilter=function(){for(var e in filters){var t=filters[e],n=$(e+"HandleLeft");n&&(n.style.left="-15px");var i=$(e+"HandleRight");i&&(i.style.left="194px");var a=$(e+"BarRange");a&&(a.style.left="-7.5px",a.style.width="209px");var r=$(e+"From");r&&(r.value=t[2]);var o=$(e+"To");o&&(o.value=t[3])}},this}function x(e){if(C){e.preventDefault(),e.stopPropagation(),S();var t=e.changedTouches[0].pageX-p,n=e.target,i=g+t;if(n.className.indexOf("right")>0){if(i>=y)return void(c.value=u);if(i-w<=parseInt(r.style.left))return;i>-w/2&&(a.style.width=i-parseInt(a.style.left)+w/2+"px",n.style.left=i+"px");var s=Math.round(i*f/y)+d;h>1&&(s=I(s,h)),s>u&&(s=u),s<l.value&&(s=l.value),c.value=s}else{if(i<=-w/2)return void(l.value=d);if(i+w/2>=parseInt(o.style.left))return;i>-w/2&&(a.style.left=i+"px",a.style.width=v-t+w/2+"px",r.style.left=i-w/2+"px");var m=Math.round(i*f/y)+d;h>1&&(m=I(m,h)),m<d&&(m=d),m>c.value&&(m=c.value),l.value=m}}}function E(e){var t=e.target;e.preventDefault(),e.stopPropagation(),C=!0,p=e.changedTouches[0].pageX,g=parseInt(t.style.left)}function T(e){if(_){S();var t=(window.event?window.event:e).clientX-i.offsetLeft-b;t<-w/2?t=-w/2:t>y+w/2&&(t=y+w/2);var n=parseInt(a.style.left,0),m=n+parseInt(a.style.width,0),p=n+(m-n)/2;if(n>m&&(n=m),s<0&&(s=t<p?1:0),1==s){m-t>w&&(a.style.left=t+"px",a.style.width=m-t+"px",r.style.left=t-w/2+"px");var g=Math.round((t+7.5)*f/y)+d;h>1&&(g=I(g,h)),g<d&&(g=d),g>c.value&&(g=c.value),l.value=g}else{t-n>w&&(a.style.width=t-n+"px",o.style.left=t-w/2+"px");var v=Math.round((t-w/2)*f/y)+d;h>1&&(v=I(v,h)),v>u&&(v=u),v<l.value&&(v=l.value),c.value=v}}}function k(e){_=!1,C=!1}function A(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)}function S(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.clear&&document.selection.clear()}function I(e,t){return Math.round(e/t)*t}function N(e,t){if(i=document.getElementById(t+"Bar"),a=document.getElementById(t+"BarRange"),r=document.getElementById(t+"HandleLeft"),o=document.getElementById(t+"HandleRight"),document.getElementById(t+"Label"),document.getElementById(t+"Input"),s=-1,l=document.getElementById(t+"From"),c=document.getElementById(t+"To"),d=filters[t][2],u=filters[t][3],h=filters[t][4],v=a.offsetWidth,f=u-d,m){var n=function(e){var t=e,n=0,i=0;do{n+=t.offsetLeft,i+=t.offsetTop,t.scrollTop&&e!=t&&(i-=t.scrollTop)}while(t=t.offsetParent);return[n,i]}(m);n&&(n[0]>0&&(b=n[0]),n[1]>0&&n[1])}_=!0,Core.isMobile.any()||T(e)}function M(e,t){var n=filters[e][2],i=filters[e][3],a=(filters[e][4],filters[e].length>5?filters[e][5]:null),r=$(e+"BarRange"),o=$(e+"HandleLeft"),s=$(e+"HandleRight"),l=$(e+"From"),c=$(e+"To"),d=+l.value,u=+c.value;d<n&&(d=n),d>i&&(d=i),u<n&&(u=n),u>i&&(u=i),d>u&&(u=d),t&&(l.value=d,c.value=u);var h=i-n,f=Math.round(y*(d-n)/h),m=Math.round(y*(u-n)/h);f==m&&(m+=1);var p=Math.round(y*(u-d)/h)+w;r.style.left=f-w/2+"px",r.style.width=p+"px",o.style.left=f-w+"px",s.style.left=m+"px",a&&(l.setAttribute("onclick","window.fpush('"+a+"');"),c.setAttribute("onclick","window.fpush('"+a+"');"))}};function Gallery(e,t,n,i,a){t||(t="_switcher");var r=[0];this.Slider=document.getElementById(e);var o=this.Slider;if(o){var s=o.parentNode;if(s){if(a&&(document.body.clientWidth||document.body.offsetWidth)<700){var l=s.parentNode,c=l.parentNode,d=(c.clientWidth||c.offsetWidth)-40|0,u=2*d/3|0;s.style.height=u+"px",s.style.width=d+"px",l.style.width=d+20+"px";var h=o.getElementsByTagName("img");if(h)for(var f=0;f<h.length;f++)h[f].width=d,h[f].height=u}this.Current=0;var m=0,p=null,g=null;if(!this.Slider)return null;g=this.Slider.children||this.Slider.childNodes;for(var v=0,y=function(e){for(var t=0,n=0;n<=e;n++)t+=r[n];return t},w=0;w<g.length;w++)if(0!=g[w].nodeName.indexOf("#")){m++;var b=r.length-1;r[r.length]=g[w].offsetWidth;var _=document.getElementById(g[w].id+t);if(_){_.shiftIndex=b,0==b&&(p=_);n||(n="onclick"),_[n]=function(){p=A(p.shiftIndex,this.shiftIndex)}}}else g.splice(w,1),w--;if(i){var C=createElement(s,"div",{className:"carousel-arrow"}),x=createElement(s,"div",{className:"carousel-arrow"});Class(C,"left"),Class(x,"right");var E=function(e){1!=e.isHiddenArrow&&(fade(e,"in",200,20),e.style.cursor="default",e.isHiddenArrow=!0)},T=0,k=function(e){0!=e.isHiddenArrow&&(fade(e,"out",200,20),e.style.cursor="pointer",e.isHiddenArrow=!1)};E(C),E(x),C.onclick=function(){(p=A(p.shiftIndex,p.shiftIndex-1)).shiftIndex<=0&&E(C),p.shiftIndex<m-1&&k(x)},x.onclick=function(){(p=A(p.shiftIndex,p.shiftIndex+1)).shiftIndex>=m-1&&E(x),p.shiftIndex>0&&k(C)},s.onmouseover=function(){p&&(clearTimeout(T),T=setTimeout((function(){p.shiftIndex>0&&k(C),p.shiftIndex<m-1&&k(x)}),100))},s.onmouseout=function(){p&&(clearTimeout(T),T=setTimeout((function(){p.shiftIndex>0&&E(C),p.shiftIndex<m-1&&E(x)}),100))}}var A=function(e,n){var i=n,a=e,r=document.getElementById(g[e].id+t);if(i==a)return r;if(e<0||n<0||e>m-1||n>m-1)return r;var s=document.getElementById(g[n].id+t);o.style.left&&""!=o.style.left||(o.style.left="0px");var l=-y(a),c=-y(i);return animate(o,"left","px",l,c,v,300,60,.7,0),v+=500,setTimeout((function(){v-=500}),500),r.className="",s.className="current",a=i,r=s}}}}var Mql5Cookie=function(){};function ImageAttach(){}function Affiliation(e,t,n,i,a,r,o){var s=e,l=t,c=n,d=i,u=a,h=r,f=o;this.getLink=function(){Ajax.get(s+"/"+l+"/generatelink/"+c+"/"+d+"/"+u,null,{onready:this.onSuccess,onerror:this.onError})},this.onSuccess=function(e){h.href=e,h.innerHTML=e,f.style.display="none",$("affiliationLinkBlock")!=undefined&&$("affiliationTextBlock")!=undefined&&($("affiliationLinkBlock").style.display="inline",$("affiliationTextBlock").style.display="none")},this.onError=function(){}}function customSelectOld(e){var t=document.getElementById(e);if(t){var n=document.createElement("span");n.style.width=t.style.width,n.className="selectWrapper";var i=document.createElement("button");i.innerHTML="&#9660;",t.parentNode.insertBefore(n,t),Class(t,"customSelect"),n.appendChild(t),n.appendChild(i),i.onclick=function(){return function(e){var t=document.getElementById(e),n=t.cloneNode(!0);n.id=e+"_clone",n.selectedIndex=t.selectedIndex,t.parentNode.insertBefore(n,t),t.size=Math.min(t.options.length,20),Class(t,"opened");var i=getOffsetSum(t);t.style.top=i.top+"px",t.style.left=i.left+"px",document.body.appendChild(t),t.focus(),t.onblur=a,t.onclick=a}(e),!1},t.onmousedown=function(){return!1}}function a(){var e=document.getElementById(this.id+"_clone");if(e){var t=this.id;return e.selectedIndex=this.selectedIndex,this.parentNode.removeChild(this),e.id=t,!1}}}function Likes(){var e=this;function t(e,t,r,o){if(!e||0==e.length)return n();var s;try{s=window.JSON.parse(e)}catch(d){return n()}if(s){var l=$(t);Class(l,"loading",!0);var c=$("likes_"+s.moduleId+"_"+s.parentType+"_"+s.parentId);return l.innerHTML=s.linkText+"&nbsp;",l.onclick=function(){s.liked?a(s.lang,s.moduleId,s.parentType,s.parentId,r,o):i(s.lang,s.moduleId,s.parentType,s.parentId,r,o)},c.innerHTML=s.count>0?s.count:"",s.count>0?Class(c,"likesCount",!1):c.className="",!0}}function n(){var t=$(this.linkId);if(Class(t,"loading",!0),e.ErrorMessageTitle&&e.ErrorMessageText){var n=createElement(null,"DIV",{innerHTML:e.ErrorMessageText,className:"likeErrorText"});Dialog.show(e.ErrorMessageTitle,n,300,120,(function(){Dialog.hide()}))}}function i(e,i,a,r,o,s){var l="like_"+i+"_"+a+"_"+r,c=$(l);c.onclick=function(){},Class(c,"loading"),Ajax.post("/"+e+"/like/"+i+"/"+a+"/"+r,{__signature:o},!1,{onready:function(e){t(e,l,o,s)},onerror:n,linkId:l})}function a(e,i,a,r,o,s){var l="like_"+i+"_"+a+"_"+r,c=$(l);c.onclick=function(){},Class(c,"loading"),Ajax.post("/"+e+"/unlike/"+i+"/"+a+"/"+r,{__signature:s},!1,{onready:function(e){t(e,l,o,s)},onerror:n,linkId:l})}function r(e){var t=$(this.cid);t&&(e&&0!=e.length?t.innerHTML=e:t.parentNode.removeChild(t))}function o(e){this.cnt&&this.cnt.parentNode&&(e&&0!=e.length?this.cnt.innerHTML=e:this.cnt.parentNode.removeChild(this.cnt))}this.SuccessMessageText=undefined,this.SuccessMessageTitle=undefined,this.ErrorMessageText=undefined,this.ErrorMessageTitle=undefined,this.IsMobile=!1,this.Like=function(e,t,n,a,r,o){return i(e,t,n,a,r,o)},this.Unlike=function(e,t,n,i,r,o){a(e,t,n,i,r,o)},this.Tooltip=function(e,t,i,a,o){var s=tooltip(e,'<div class="likesTooltipLoader"></div>');Ajax.get("/"+o+"/like_users/tooltip/"+t+"/"+i+"/"+a,null,{onready:r,onerror:n,cid:s})},this.UsersLikes=function(e,t,i,a,r){var s=createElement(null,"DIV",{className:"likeUsersContainer"});createElement(s,"DIV",{className:"likesListLoader"});Dialog.show(r,s,250,300,this.CloseUsers),Ajax.get("/"+a+"/like_users/full/"+e+"/"+t+"/"+i,null,{onready:o,onerror:n,cnt:s})},this.CloseUsers=function(){var e=getElementsByClass("likeUsersContainer",document);if(e)for(var t=0;t<e.length;t++)e[t]&&e[t].parentNode&&e[t].parentNode.removeChild(e[t]);Dialog.hide()}}function PocketManager(){this.lastElement=null,this.Add=function(e,t,n,i,a){return window.GStorage||(window.GStorage=window.globalStorage()),GStorage.supported&&(Class(e,"added"),null!==this.lastElement&&this.lastElement!==e&&(this.lastElement.className="pocket"),this.lastElement=e,Ajax.get(["/",t,"/pocket/get/",n,"/",i,"/",a].join(""),null,{onready:function(e){e?window.GStorage.setItem("pocketContent",e):window.GStorage.removeItem("pocketContent")},onerror:function(){}})),!1}}function Translate(callback){var currentContentId,currentSourceLang,currentTargetLang,currentModuleId,currentTypeId,currentEntityId,calculateMenuPosition=null,lastContentId=null,lastContent=null,translateManagerObj=this,translates={},langsCodes={ar:["AR","Arabic"],zh:["CN","Chinese"],en:["EN","English"],fr:["FR","French"],de:["DE","German"],id:["ID","Indonesian"],it:["IT","Italian"],ja:["JP","Japanese"],ko:["KO","Korean"],fa:["FA","Persian"],pt:["PT","Portuguese"],ru:["RU","Russian"],es:["ES","Spanish"],tr:["TR","Turkish"],vi:["VI","Vietnamese"]};function getLink(e,t){var n=document.createElement("A");return n.innerHTML="<i>"+langsCodes[e][0]+"</i> "+langsCodes[e][1],n.href="#"+e,t&&Class(n,"selected"),n.onclick=function(){translateManagerObj.Translate(currentContentId,currentSourceLang,e,currentModuleId,currentTypeId,currentEntityId),translates[currentContentId].currentTargetLang=e;var t=this.parentNode.parentNode.parentNode.firstChild;Class(t,"pressed"),t.innerHTML=langsCodes[e][0];var n=this.parentNode.parentNode.parentNode;return translateManagerObj.HideMenu(n,currentContentId),!1},n}function untranslate(){var e=document.getElementById(currentContentId);return e&&(e.style.direction="ltr",e.innerHTML=translates[currentContentId].originalTranslation,$("forumTitle")&&($("forumTitle").innerHTML=translates[currentContentId].originalTitle),translates[currentContentId].isTranslated=!1),!1}function setContent(e,t,n,i){var a=document.getElementById(e);if(!a)return!1;a.style.direction="ar"==t||"fa"==t?"rtl":"ltr";var r=null;if("pollAnswers"==e){r=i[0];for(var o=a.getElementsByTagName("label"),s=0;s<o.length;s++)o[s].innerHTML=i[s+1]}else if(e.indexOf("contenttopic")>=0)r=i[0],a.innerHTML=i[1];else if("content_updates"===e){var l=a.querySelectorAll(".product-updates__content"),c=i.length;if(l){s=0;for(var d=c;s<d;s++)l[s].innerHTML=i[s]}else a.innerHTML=i[0]}else a.innerHTML=i[0];return null!=r&&$("forumTitle")&&($("forumTitle").innerHTML=r),!1}function showMenu(e){if(null!=lastContentId&&lastContentId!=currentContentId&&translates[lastContentId].showMenu){var t=lastContent.parentNode.childNodes[2];lastContent.parentNode.removeChild(t),translates[lastContentId].showMenu=!1,Class(lastContent.parentNode,"pressed",!0),lastContentId=null,lastContent=null}if(translates[currentContentId].showMenu)return translateManagerObj.HideMenu(e.parentNode,currentContentId),!1;var n=document.createElement("DIV");Class(e,"pressed"),n.className="translateMenu",n.onmousedown=function(e){e||(e=window.event),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0};var i=document.createElement("DIV"),a=0,r=translates[currentContentId].isTranslated;for(var o in langsCodes)i.appendChild(getLink(o,r&&o==currentTargetLang)),3==++a&&(a=0,n.appendChild(i),i=document.createElement("DIV"));if(a>0&&n.appendChild(i),e.parentNode.appendChild(n),translates[currentContentId].showMenu=!0,lastContentId=currentContentId,lastContent=e,calculateMenuPosition)calculateMenuPosition(e,n);else{var s=e.getBoundingClientRect(),l=document.body.getBoundingClientRect();if(s.left<460&&l.right-s.right)l.right-s.right<460?(n.style.width=l.width-20+"px",n.style.left="-"+(s.left-25)+"px"):(n.style.left="-1px",n.style.right="auto")}return!1}function checkShowMenu(e){for(var t=(e=e||window.event).target||e.srcElement;t.parentNode&&t.className.indexOf("translateMenu")<0;)t=t.parentNode;(!t.className||t.className.indexOf("translateMenu")<0)&&translateManagerObj.HideMenu(null,lastContentId)}this.Translate=function(targetId,sourceLang,targetLang,moduleId,typeId,entityId){return Mql5Cookie.localStorage("translateTargetLang",targetLang),currentTargetLang=targetLang,translates[currentContentId].translations[targetLang]?(setContent(targetId,targetLang,currentContentId,translates[currentContentId].translations[targetLang]),callback&&callback()):Ajax.get("/"+sourceLang+"/translate/"+targetLang+"/"+moduleId+"/"+typeId+"/"+entityId,null,{onready:function(translatedContent){if(translatedContent&&translatedContent.length){var translatedContentArray=eval("("+translatedContent+")");translates[currentContentId].translations[targetLang]=translatedContentArray,setContent(targetId,targetLang,currentContentId,translatedContentArray),callback&&callback()}},onerror:function(){}}),translates[currentContentId].isTranslated=!0,!1},this.SetMenu=function(e,t,n,i,a,r,o,s,l,c){function d(){var t=currentContentId,n=$(currentContentId);n&&(n.parentNode.onmousedown=function(){translateManagerObj.HideMenu(e,t)})}currentContentId=t,currentSourceLang=n,currentTargetLang=i,currentModuleId=a,currentTypeId=r,currentEntityId=o,calculateMenuPosition=c,e.id="translateLink"+t,s||Class(e,"pressed");var u=!1;if(document.querySelectorAll&&(u=(u=e.querySelectorAll(".translateMenuButton")).length),translates[t]&&u)currentTargetLang=translates[t].currentTargetLang;else{translates[t]={currentTargetLang:currentTargetLang,showMenu:!1,isTranslated:!1,originalTranslation:$(t)?$(t).innerHTML:l||null,originalTitle:$("forumTitle")?$("forumTitle").innerHTML:null,translations:{}},e.onmouseout=function(){translates[currentContentId].showMenu||Class(e,"pressed",!0)},e.firstChild.onclick=function(){return translates[currentContentId].isTranslated?(Class(e.firstChild,"pressed",!0),untranslate()):(Class(e.firstChild,"pressed"),translateManagerObj.Translate(currentContentId,currentSourceLang,currentTargetLang,currentModuleId,currentTypeId,currentEntityId))},e.firstChild.onmousedown=function(e){e||(e=window.event),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},$(currentContentId)?d():setTimeout(d,300);var h=document.createElement("SPAN");h.className="translateMenuButton",h.onmousedown=function(e){e||(e=window.event),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,showMenu(this),Core.AddHandler(document.body,"click",checkShowMenu)};var f=document.createElement("SPAN");h.appendChild(f),e.appendChild(h)}},this.HideMenu=function(e,t){if(null!=lastContentId&&lastContentId!=t)return!1;e||(e=$("translateLink"+t)),Class(e,"pressed",!0);var n=null;document.querySelector&&(n=e.querySelector(".translateMenuButton"))&&Class(n,"pressed",!0);var i=e.childNodes[2];return i&&e.removeChild(i),translates[t].showMenu=!1,Core.RemoveHandler(document.body,"click",checkShowMenu),!1}}function MakeTextboxAutogrow(e,t,n){if(e){var i=e[n=n||("oninput"in e?"oninput":"onkeyup")];e[n]=a,a()}function a(){t&&(e.style.height=t+"px"),e.clientHeight<e.scrollHeight&&(e.style.minHeight=e.scrollHeight+"px"),i&&i()}}function AddElementHotkeyEvent(e,t,n){if(e&&"function"==typeof t){var i=e.onkeyup;e.onkeyup=function(e){var a=!0;if(i&&(a=i(e)),0==a)return a;t(e)&&n()}}}function SiteUpdates(e,t,n,i,a,r){var o,s=a,l=(i=i,{}),c={},d=r||0;function u(e,t){if(e&&e.title&&e.url){var n=$("privateAreaMessages");if(n){var i=createElement(null,"a",{className:"link-notify link-notify_"+e.name,href:e.url,id:"notify_"+e.name,title:e.title});(function(e,t){var n=e.indexOf("#");n>=0&&(e=e.substr(0,n));t.indexOf("#")>=0&&(t=t.substr(0,n));return e.toUpperCase()===t.toUpperCase()})(e.url,location.href)&&(i.onclick=function(){location.reload()});var a=createElement(i,"i",{className:"notify-icon notify-icon_"+e.name});if(e.count){Class(a,"notify-icon_active");var r=createElement(a,"i",{className:"notify-icon_count",innerHTML:Math.min(parseInt(e.count),99)});dataset(r,"count",e.count)}if(t&&t.parentNode){var o=t.parentNode;if(o.insertBefore(i,t),t.onclick&&(i.onclick=t.onclick),t.className&&t.className.length){for(var s=t.className.split(" "),l=" "+i.className+" ",c=[],d=0;d<s.length;d++)l.indexOf(" "+s[d]+" ")<0&&(c[c.length]=s[d]);c.length&&(i.className+=(i.className?" ":"")+c.join(" "))}o.removeChild(t)}else{var u=createElement(null,"li",{className:"notify-item"}),h=null;if(13!=e.module_id){var f=$("notifyMessages");f&&f.parentNode&&(h=f.parentNode)}if(h?h.parentNode.insertBefore(u,h):n.appendChild(u),u.appendChild(i),notifyDropDownMobile&&document.querySelector){var m=notifyDropDownMobile.querySelector(".notify-icon_count");m&&(m.innerText=u.parentNode.getElementsByTagName("li").length)}MainMenu.createSubMenu()}}}else t&&13!=e.module_id&&t.parentNode.parentNode.removeChild(t.parentElement)}this.SetLastUpdate=function(e){(!d||d<r)&&(d=e)},this.RegisterRenderCallback=function(e,t,n,i){var a,r;if((a=c["m_"+e])||(a=c["m_"+e]={types:{},id:e}),(r=a.types["t_"+t])||(r=a.types["t_"+t]={id:t,callback:undefined,additionalStatic:{},additionalDynamic:undefined}),r.callback=n,"function"==typeof i)r.additionalStatic={},r.additionalDynamic=i;else for(var o in r.additionalDynamic=undefined,i)i.hasOwnProperty(o)&&(i[o]!=undefined?r.additionalStatic[o]=i[o]:delete r.additionalStatic[o])},this.RegisterOnBegin=function(e,t){l["begc_"+e]=t},this.RegisterOnEnd=function(e,t){l["endc_"+e]=t},this.GetUpdates=function(){o&&clearTimeout(o),g()};var h=0;function f(){if(!arguments||!arguments.length||403!==arguments[0])for(var e in++h<5?o=setTimeout((function(){g()}),p()):window.console&&window.console.log&&window.console.log("get updates stopped due to errors."),l)e.startsWith("endc_")&&l[e]("error")}function m(e){for(var t in l)t.startsWith("endc_")&&l[t]("success");if(e&&0!=e.length){var n=undefined;try{n=window.JSON.parse(e)}catch(i){return console.warn(i),f()}n&&n!=undefined&&n.l&&n.ts&&n.updates&&(n.ld&&(!d||d<n.ld)&&(d=n.ld),function(e){if(e.updates&&0!==e.updates.length){for(var t=e.updates.length-1;t>=0;t--){var n,i=e.updates[t];if(i.module_id&&(n=c["m_"+i.module_id]))for(var a in n.types)n.types.hasOwnProperty(a)&&n.types[a].callback&&"function"==typeof n.types[a].callback&&n.types[a].callback(i,e.ts);u(i,$("notify_"+i.name))}var r=document.getElementById("notify_total"),o=document.getElementById("notifyTotalList");if(r&&o){for(var s=0,l='<i class="notify-icon notify-icon_notify-total"></i>',d=o.querySelectorAll(".notify-item"),h=0,f=d.length;h<f;h++){var m=d[h];m&&m.firstChild&&m.firstChild.className&&(m.firstChild.className.indexOf("wallet")>0||m.firstChild.className.indexOf("message")>0)||s++}s>0&&(l='<i class="notify-icon notify-icon_notify-total"><i class="notify-icon_count">'+s+"</i></i>"),r.innerHTML=l}}}(n),s=n.ts,o=setTimeout((function(){g()}),p()),h=0)}}function p(e){if(e)return 5e3;var t=(new Date).getTime()/1e3,n=window.isWindowActive?[3e3,5e3,1e4,6e4]:[1e4,15e3,3e4,2e5];return t-d<15?n[0]:t-d<45?n[1]:t-d<165?n[2]:n[3]}function g(){if(1!=window.isWindowActive&&!window.isLastActiveWindow())return extraLog(new Date+" get updates: SKIP"),void(o=setTimeout((function(){g()}),p()));extraLog(new Date+" get updates: SEND");for(var t=e,n=[],a=0;a<i.length;a++)n.push(["m",i[a]]);for(var r in c)if(c.hasOwnProperty(r)){var d=c[r].id;for(var u in c[r].types)if(c[r].types.hasOwnProperty(u)){c[r].types[u].id;var h=c[r].types[u].additionalDynamic?c[r].types[u].additionalDynamic():c[r].types[u].additionalStatic;if(h)for(var v in h)h.hasOwnProperty(v)&&n.push([d+"_"+v,h[v]])}}for(var y in window.GetCurrentWindowId&&n.push(["wid",window.GetCurrentWindowId()]),n.push(["dt",s]),Ajax.post(t,n,!1,{onready:m,onerror:f},!1),l)y.startsWith("begc_")&&l[y]()}o=setTimeout((function(){g()}),p()),mqGlobal.AddOnActiveWindowChange((function(e){e&&(o&&clearTimeout(o),o=setTimeout((function(){g()}),p(!0)))}))}function DateToText(e,t){if(!window.dateToTextLocalization)return GetDate(e);var n,i,a=new Date(1e3*t),r=new Date(1e3*e),o=parseInt(a.getTime()/6e4)-parseInt(r.getTime()/6e4);if(o<1)n="m",i=1;else if(o<60)n="m",i=Math.floor(o);else{if(!(o<720))return GetDate(e);n="h",i=Math.floor(o/60)}return window.dateToTextLocalization[n+GetCounterSuffix(i)].indexOf("{0}")>=0?window.dateToTextLocalization[n+GetCounterSuffix(i)].replace("{0}",i):i+" "+window.dateToTextLocalization[n+GetCounterSuffix(i)]}function DateToStringForToday(e){var t=new Date,n=new Date(1e3*e);return t.getFullYear()==n.getFullYear()&&t.getMonth()==n.getUTCMonth()&&t.getDate()==n.getUTCDate()?(n.getUTCHours()>9?n.getUTCHours():"0"+n.getUTCHours())+":"+(n.getUTCMinutes()>9?n.getUTCMinutes():"0"+n.getUTCMinutes()):GetDate(e)}function DateToStringForTodayLocal(e){var t=new Date(1e3*e);return(t.getHours()>9?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes())}function GetCounterSuffix(e){var t=e%100;if(t>10&&t<20)return 3;var n=e%10;return 1==n?1:n>1&&n<5?2:3}function ProductButtonClick(e,t,n){var i=$(n);if(i){fpush("MQL5+Market+Product+Download+Launch+Platform");i.hasMt5DialogHide=function(){HasMt5DialogHide(i)},function(){Dialog.show(i.title,i,500,500,i.hasMt5DialogHide),i.style.display="block";var e=i.clientHeight,t=i.clientWidth;Dialog.show(i.title,i,t,e,i.hasMt5DialogHide)}()}}function HasMt5DialogHide(e){Dialog.hide(),e.style.display="none"}function ToggleAddProduct(e){var t=$("addProductPopup");if(t)if(t.style.display){"none"==t.style.display&&(t.skipNextBlur=!1),t.style.display="";var n=$("addProductInputTrigger")||createElement(t,"input",{type:"text",id:"addProductInputTrigger"});n.focus(),n.onblur=function(){if(t.skipNextBlur)return t.skipNextBlur=!1,void n.focus();t.style.display="none"},t.onmousedown||(t.onmousedown=function(){t.skipNextBlur=!0}),e.onmousedown||(e.onmousedown=function(){t.skipNextBlur=!0})}else t.style.display="none"}function traceClickAsync(e,t,n,i,a){}function traceClick(e){}function trackOutboundLink(e){}function fpush(e){if((window.location.hostname.indexOf(".src")>0||window.location.hostname.indexOf(".dev")>0)&&window.console)return"object"==typeof e&&(e=e.name+(e.value?", value: '"+e.value+"'":"")+(e.unit?", unit: '"+e.unit+"'":"")),void window.console.log("%cfpush: "+e,"color:#44B344;");window.fz&&("object"==typeof e?window.fz("event",e):window.fz("track",e))}function fpushTradays(e){if((window.location.hostname.indexOf(".src")>0||window.location.hostname.indexOf(".dev")>0)&&window.console)return"object"==typeof e&&(e=e.name+(e.value?" "+e.value:"")+(e.unit?" "+e.unit:"")),void window.console.log("fpushTradays: "+e);window.fz&&window.setTimeout((function(){if("object"==typeof e){var t={name:e.name,referer:"https://www.tradays.com",websiteId:"dyjfykgvgksleijgdzwssxkjesvjspkazy"};e.value&&(t.value=e.value),e.unit&&(t.unit=e.unit),window.fz("track",t)}else window.fz("track",{name:e,referer:"https://www.tradays.com",websiteId:"dyjfykgvgksleijgdzwssxkjesvjspkazy"})}),10)}function RenderCharts(e,t,n,i,a,r,o){var s,l="rgb(237,240,244)",c="rgba(204,204,204,0.3)",d="rgb(155,155,155)",u="rgb(81,139,198)",h="rgb(206,10,10)",f="rgba(124,204,255,0.25)",m="rgba(185,32,36,0.25)";if(i&&(l=i.COLOR_BG||l,c=i.COLOR_GRID||c,d=i.COLOR_AXIS||d,u=i.COLOR_LINE||u,h=i.COLOR_LINE_MINUS||h,f=i.COLOR_LIGHT_LINE||f,m=i.COLOR_BG||m),(s=a?a.querySelectorAll("."+e):window.getElementsByClass(e))!=undefined)for(var p in s){var g=s[p];if(g!=undefined&&null!=g&&g.className!=undefined){var v=g.getElementsByTagName("CANVAS");if(v!=undefined&&null!=v&&0!==v.length&&(v=v[0]).getContext){var y=g.getElementsByTagName("INPUT");if(y!=undefined&&0!==y.length&&y[0]!=undefined){var w=v.getContext("2d");w.scale(1,1);var b=o?1:n/58,_=y[0].value.split(", "),C=parseInt(_[0])*b;if(_.shift(),!r){var x=w.createLinearGradient(0,0,0,n);x.addColorStop(0,l),x.addColorStop(1,"#fff"),w.fillStyle=x,w.fillRect(0,0,t,n),w.beginPath();for(var E=(n+2)/4,T=E-.5;T<t;T+=E)w.moveTo(T,0),w.lineTo(T,n);for(var k=E-.5;k<n;k+=E)w.moveTo(0,k),w.lineTo(t,k);w.strokeStyle=c,w.lineWidth=1,w.stroke(),w.closePath()}w.beginPath();var A=n-C,S=A-parseInt(_[0])*b,I=.5;w.moveTo(I,A),w.lineTo(I,S-1.5);var N=S>A?-1:1,M=S,L=[],D=0;for(p=1;p<_.length&&(S=parseInt(_[p]),!isNaN(S));p++)L.push((S-1)*b),0===S&&0===D&&(D=L.length-1),0!==S&&(D=0);for(var B=0===D?L.length:D,H=1*t/B,P=0;P<B;P++){I+=H;var R=(S=A-L[P])-.5;if(($=S>A?-1:1)!=N&&P>1){var F=-(j=M-.5-A)*(I-(U=I-H))/(R-A-j)+U,O=A;w.lineTo(F,O),w.fillStyle=N<0?m:f,w.fill(),w.closePath(),w.beginPath(),w.moveTo(F,O)}w.lineTo(I,R),M=S,N=$}w.lineTo(I,A),w.fillStyle=N<0?m:f,w.fill(),w.stroke(),w.closePath(),C>0&&C<n&&(w.beginPath(),w.moveTo(0,A-.5),w.lineTo(t,A-.5),w.strokeStyle=d,w.stroke(),w.closePath()),w.beginPath(),r&&(w.lineWidth=2),S=(A=n-C)-parseInt(_[0])*b,I=.5,w.moveTo(I,S-.5),N=S>A?-1:1,M=S;for(P=0;P<B;P++){I+=H;var $;R=(S=A-L[P])-.5;if(($=S>A?-1:1)!=N&&P>1){var U,j;F=-(j=M-.5-A)*(I-(U=I-H))/(R-A-j)+U,O=A;w.lineTo(F,O),w.strokeStyle=N<0?h:u,w.stroke(),w.closePath(),w.beginPath(),w.moveTo(F,O)}w.lineTo(I,R),r&&(w.strokeStyle=N<0?m:f,w.stroke()),M=S,N=$}w.strokeStyle=N<0?h:u,w.stroke()}}}}}function SetDateInputValue(e,t){function n(e,t){for(var n=e,i=(e+"").length;i<t;i++)n="0"+n;return n}var i=$(e+"Year"),a=$(e+"Month"),r=$(e+"Day"),o=$(e+"Hour"),s=$(e+"Minute"),l=$(e);l&&(i&&(i.value=t.getFullYear()),a&&(a.value=n(parseInt(t.getMonth())+1,2)),r&&(r.value=t.getDate()),o&&(o.value=n(t.getHours(),2)),s&&(s.value=n(t.getMinutes(),2)),l.value=t.getFullYear()+"."+n(parseInt(t.getMonth())+1,2)+"."+t.getDate()+" "+n(t.getHours(),2)+":"+n(t.getMinutes(),2))}function Share(){var e;this.OpenShareEditor=function(t,n,i,a){var r=createElement(null,"DIV",{className:"shareEditorLoading"}),o=a?300:600;Dialog.show(n,r,o,150,(function(){r.parentNode&&r.parentNode.removeChild(r),e=null,Dialog.hide()}),null,null,null,!1,"fixed"),Ajax.get(i,null,{onready:function(t){var i=createElement(null,"DIV",{className:"publishContent"});i.innerHTML=t;for(var a=i.getElementsByTagName("img"),s=0;s<a.length;s++)a[s].onload=a[s].onerror=function(t){if(!this.passedEvent){t||(t=window.event),this.passedEvent=!0;var i=r.clientHeight||r.offsetHeight;Dialog.show(n,r,o,i,(function(){r.parentNode&&r.parentNode.removeChild(r),e=null,Dialog.hide()}),null,null,null,!1,"fixed")}};Class(r,"shareEditorLoading",!0),r.appendChild(i);var l=r.clientHeight||r.offsetHeight;Dialog.show(n,r,o,l,(function(){r.parentNode&&r.parentNode.removeChild(r),e=null,Dialog.hide()}),null,null,null,!1,"fixed"),document.querySelectorAll&&document.querySelectorAll(".signalAvatar")[0]&&Signals.RenderAvatars()},onerror:function(){},ismobile:a})},this.OnShareSuccess=function(e){var t,n=this.ismobile?300:600,i=stripHtml(e),a=null;try{a=window.JSON.parse(i)}catch(o){console.warn(o)}if(a&&(!a.Type||"REDIRECT"!==a.Type)){if(a.Type&&"SUCCESS"===a.Type){(t=createElement(null,"DIV",{className:"shareEditorSuccess"})).innerHTML=a.Message;var r=a.Title||a.Message||"";Dialog.show(r,t,n,100,(function(){Dialog.hide()}),null,null,null,!1,"fixed"),t.onclick=function(){Dialog.hide()}}a.Type&&"ERROR"===a.Type&&((t=createElement(null,"DIV",{className:"shareEditorSuccess"})).innerHTML=a.Message,Dialog.show(a.Message,t,n,100,(function(){Dialog.hide()}),null,null,null,!1,"fixed"),t.onclick=function(){Dialog.hide()})}},this.ExternalShare=function(t,n,i,a){var r=$("share_counter_"+n+"_"+i+"_"+a);if(r){var o=+r.innerHTML;r.innerHTML=++o,r}e=null,Dialog.hide()},this.ProcessShare=function(t){var n=$("shareType").value,i="";switch(n){case"mql5com":i="Mql5.community";break;case"fb":i="Facebook";break;case"vk":i="Vkontakte";break;case"tw":i="Twitter";break;case"rd":i="Reddit";break;case"li":i="LinkedIn"}return window.fpush("MQL5+Share+"+i),"mql5com"==n?($("formShare").onsubmit(),!1):($("formShare").onsubmit(),null==e&&($("socIconVk")&&"selected"==$("socIconVk").className?e=$("socIconVk"):"selected"==$("socIconFb").className&&(e=$("socIconFb"))),t.href=e.href,e=null,Dialog.hide(),!0)},this.SetShareType=function(t,n){return null==e&&($("socIconVk")&&"selected"==$("socIconVk").className?e=$("socIconVk"):"selected"==$("socIconFb").className&&(e=$("socIconFb"))),t==e||(t.className="selected",$("socButtonIco").className=n,$("socButtonText").innerHTML=t.title,$("shareType").value=n,"mql5com"==n?($("shareContentWrapper").style.display="block",$("socCommentContent").focus()):$("shareContentWrapper").style.display="none",e&&e.className&&(e.className=e.className=""),e=t),!1}}function Friends(e,t,n,i,a,r,o){var s=t,l=a,c=r,d=e,u=o,h=c+"/users/"+d.toLowerCase()+"/friends";d.toLowerCase();this.ShowPostSettings=function(e,t,n,i){var a=$(t);if(t){var r=a.parentNode;tooltip(a,function(e,t,n){var i=createElement(null,"ul",{className:"friendsSettingsMenu"});if(n){var a=createElement(i,"li",{className:t?"":"active"});t||createElement(a,"span",{className:"hidePostsIndicator"}),a.appendChild(function(e,t){return createElement(null,"a",{className:"friendsSettingsLink",innerHTML:s+"&nbsp;&nbsp;",href:h,onclick:function(n){return doPost(n,this.href,u,{user:e,act:t?"show_posts":"hide_posts"}),!1}})}(e,t))}else{var r=createElement(i,"li",{className:t?"":"active"});createElement(r,"span",{className:"addFriendIco"}),r.appendChild(function(e){return createElement(null,"a",{className:"friendsSettingsLink",innerHTML:l,href:h,onclick:function(t){return doPost(t,this.href,u,{user:e,act:"add"}),!1}})}(e))}return i}(e,n,i),(function(){Class(r,"hovered")}),(function(){Class(r,"hovered",!0)}))}}}function Extractor(){var containerId="extractorContainer",skipLinks=[],skipLinksCssClasses=["linkator"],currentUrl=null,lastHtmlContent=null,contentPadding=10,matchLinkRegex=/http[s]*\:\/\/[a-z0-9\-\.]{1,120}\.[a-z]{2,5}[^\s\"\'<>\(\),]{0,500}/gi,isLinkFound=!1,isProcessing=!1;function removeQuotes(e){var t=document.createElement("DIV");t.innerHTML=e;for(var n=t.getElementsByTagName("DIV"),i=n.length-1;i>=0;--i)"fquote"!=n[i].className&&"code"!=n[i].className&&"pocket"!=n[i].className||n[i].parentNode.removeChild(n[i]);for(i=(n=t.getElementsByTagName("EMBED")).length-1;i>=0;--i)n[i].parentNode.removeChild(n[i]);for(i=(n=t.getElementsByTagName("PRE")).length-1;i>=0;--i)n[i].parentNode.removeChild(n[i]);return t.innerHTML}function isBadLink(e,t){for(var n=0;n<skipLinks.length;n++)if(skipLinks[n]===e)return!0;return!1}function addLinksToSkip(){for(var e=0;e<skipLinksCssClasses.length;e++)for(var t=document.querySelectorAll("a."+skipLinksCssClasses[e]),n=0;n<t.length;n++)t[n].getAttribute("href")&&skipLinks.push(t[n].getAttribute("href"))}function createContentBox(text){var container=document.getElementById(containerId);if(!container||"disabled"!=container.className){var result=eval("("+text+")"),mainBox=document.createElement("DIV");if(mainBox.setAttribute("id","extractorContent"),mainBox.className="extractorContent",null!=result.ImageUrl&&""!=result.ImageUrl){var imgBox=document.createElement("DIV");imgBox.className="image";var img=document.createElement("IMG");img.src=result.ImageUrl,img.setAttribute("loading","lazy"),imgBox.appendChild(img)}var contentBox=document.createElement("DIV");contentBox.className="content",contentBox.style.marginLeft=result.ImageWidth<1?0:result.ImageWidth+contentPadding+"px";var clearBox=document.createElement("DIV");clearBox.style.clear="both";var titleLink=document.createElement("A");titleLink.id="extractorTitleLink",titleLink.href=result.PageUrl,titleLink.target="_blank",titleLink.innerHTML=result.Title,result.DisabledEdit||(titleLink.className="editable",titleLink.title=result.Translate.clickToEdit,titleLink.onclick=function(){return this.style.display="none",titleInput.style.display="inline",titleInput.focus(),titleInput.select(),!1});var titleInput=document.createElement("INPUT");if(titleInput.id=titleInput.name="extractorTitle",titleInput.value=result.Title,titleInput.maxLength=250,titleInput.setAttribute("autocomplete","off"),titleInput.onblur=function(){titleLink.innerHTML=this.value,titleLink.style.display="inline",this.style.display="none"},titleInput.onkeydown=function(e){(e=e||window.event)!=undefined&&e.keyCode!=undefined&&13==e.keyCode&&this.blur()},titleInput.onkeypress=function(e){return 13!=(e||window.event).keyCode},result.Rating>0){var ratingBox=document.createElement("DIV");ratingBox.className="rating small";var ratingBoxResult=document.createElement("DIV");ratingBoxResult.className="v"+10*result.Rating,ratingBox.appendChild(ratingBoxResult)}var infoTextArray=[];result.Rating>0&&(null!=result.RatingVotesString&&infoTextArray.push(result.RatingVotesString),null!=result.RatingReviewsString&&infoTextArray.push(result.RatingReviewsString)),null!=result.PriceString&&infoTextArray.push(result.PriceString),null!=result.CategoryString&&""!=result.CategoryString&&infoTextArray.push(result.CategoryString),null!=result.DatePublished&&""!=result.DatePublished&&infoTextArray.push(result.DatePublished),null!=result.Author&&""!=result.Author&&infoTextArray.push(result.Author),result.HostName&&infoTextArray.push(result.HostName);var infoBox=document.createElement("DIV");infoBox.className="info",ratingBox&&infoBox.appendChild(ratingBox),infoBox.innerHTML+=infoTextArray.join(" | ");var descriptionBox=document.createElement("P");null!=result.Description&&(descriptionBox.innerHTML=result.Description),result.DisabledEdit||(descriptionBox.className="editable",descriptionBox.title=result.Translate.clickToEdit,descriptionBox.onclick=function(){return this.style.display="none",descriptionTextArea.style.display="block",descriptionTextArea.focus(),descriptionTextArea.select(),!1});var descriptionTextArea=document.createElement("TEXTAREA");descriptionTextArea.id=descriptionTextArea.name="extractorDescription",descriptionTextArea.value=result.Description,descriptionTextArea.maxLength=450,descriptionTextArea.onblur=function(){descriptionBox.innerHTML=this.value,descriptionBox.style.display="block",this.style.display="none"};var keyInput=document.createElement("INPUT");keyInput.name="extractorKey",keyInput.type="hidden",keyInput.value=result.Key;var urlInput=document.createElement("INPUT");urlInput.name="extractorUrl",urlInput.type="hidden",urlInput.value=result.PageUrl;var buttonDelete=document.createElement("DIV");buttonDelete.className="delete",buttonDelete.title=result.Translate["delete"],buttonDelete.onclick=function(){Extractor.HideContentBox()},contentBox.appendChild(titleLink),contentBox.appendChild(titleInput),contentBox.appendChild(infoBox),contentBox.appendChild(descriptionBox),contentBox.appendChild(descriptionTextArea),contentBox.appendChild(keyInput),contentBox.appendChild(urlInput),imgBox&&mainBox.appendChild(imgBox),mainBox.appendChild(contentBox),mainBox.appendChild(clearBox),container.className="extractor",container.innerHTML="",container.appendChild(mainBox),container.appendChild(buttonDelete)}}function stopProp(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}addLinksToSkip(),this.CanFindLink=function(){return!isLinkFound&&!isProcessing},this.FindLink=function(e){if(!isLinkFound&&!isProcessing){var t=document.getElementById(containerId);if(!t||"disabled"!==t.className){var n=document.getElementById("edit_id");if(!(n&&n.value>0&&document.getElementById("extractor"+n.value))){var i=Dalet.Engine.GetHtml(e,!0);if(null!==i&&i!==lastHtmlContent){lastHtmlContent=i;for(var a=(i=removeQuotes(i)).match(matchLinkRegex)||[],r=null,o=0,s=a.length;o<s;o++)if(!isBadLink(a[o])){r=unescape(a[o]);break}null!==r&&""!==r&&(currentUrl=r,isProcessing=!0,window.Ajax.post("/extractor",{url:currentUrl},!1,{onready:function(e){if(null===e||""===e)return skipLinks.push(currentUrl),void(isProcessing=!1);createContentBox(e),isLinkFound=!0,isProcessing=!1},onerror:function(){skipLinks.push(currentUrl),isProcessing=!1}}))}}}}},this.HideContentBox=function(){skipLinks.push(currentUrl),isLinkFound=isProcessing=!1;var e=$(containerId);e&&(e.className="",e.innerHTML="")},this.Remove=function(e,t,n,i){window.Ajax.post("/extractor/remove",{moduleId:e,typeId:t,entityId:n,__signature:i},!1,{onready:function(e){if(null!=e&&""!=e){var t=null;try{t=JSON.parse(e)}catch(a){console.warn(a)}if(!0===t){var i=$("extractor"+n);i!=undefined&&i.parentNode.removeChild(i)}}},onerror:function(){}})},this.ReadMore=function(e,t){window.Ajax.post("/extractor/readmore",{id:e},!1,{onready:function(e){if(null!=e&&""!=e){var n=null;try{n=JSON.parse(e)}catch(s){console.warn(s)}if(n)if($("extractorDescription"+t).style.display="none",$("extractorReadMore"+t))$("extractorReadMore"+t).style.display="block";else{var i=document.createElement("DIV");i.id="extractorReadMore"+t;var a=document.createElement("DIV");a.className="readMore";var r=document.createElement("A");r.href="#",r.innerHTML=n.translate.hideMore,r.onclick=function(){return $("extractorReadMore"+t).style.display="none",$("extractorDescription"+t).style.display="block",!1},a.appendChild(r),i.innerHTML=n.content,i.appendChild(a);var o=$("extractorDescription"+t);o.nextSibling?o.parentNode.insertBefore(i,o.nextSibling):o.parentNode.appendChild(i)}}},onerror:function(){}})}}function QuickLogin(e,t){function n(e){t?window.fpush({name:e,unit:"section",value:t}):window.fpush(e)}e=e||(prefixId||"Signin");var i=document.getElementById("loginForgotLink");i&&i.addEventListener("click",(function(){n("MQL5+"+e+"+Password+Recovery ")})),this.onChange=function(t){"Login"===t.name?n("MQL5+"+e+"+Input+Login"):"Password"===t.name&&n("MQL5+"+e+"+Input+Password")},this.onSubmit=function(){if(n("MQL5+"+e+"+Submit"),this.onBeforeLogin)return this.onBeforeLogin(window.event)},this.showPass=function(t,i,a){var r=document.getElementById("Password");r&&t&&("password"===r.getAttribute("type")?(r.setAttribute("type","text"),t.className+=" input-with-show__icon_showed",t.setAttribute("title",a),n("MQL5+"+e+"+Password+Show")):(r.setAttribute("type","password"),t.className="input-with-show__icon",t.setAttribute("title",i),n("MQL5+"+e+"+Password+Hide")))},this.checkEmail=function(e,t){t=t||"Email cannot be used. Enter your login please";var n=document.getElementById("validate_"+e.name);n||(n=e.nextSibling),e.value.indexOf("@")>-1&&n?(window.Validate.AppendMessage(n,t),Class(e,"field-validation-error")):n&&(window.Validate.ClearMessage(n),Class(e,"field-validation-error",!0))}}function QuickRegistration(prefixId,trackPrefix,trackingSection){var isFirstFocus=!0,actionDst=null,currentLang,checkLoginTimeoutId,self=this;prefixId=prefixId||"",trackPrefix=trackPrefix||(prefixId||"Register");var formNode=$(prefixId+"quickRegisterForm")||$("regOpenIdForm"),buttonSubmit=$(prefixId+"quickRegisterButton")||$("regOpenIdButtonSubmit");function sendTrack(e){trackingSection?window.fpush({name:e,unit:"section",value:trackingSection}):window.fpush(e)}function checkUserName(e){checkLoginTimeoutId&&(clearTimeout(checkLoginTimeoutId),checkLoginTimeoutId=undefined),""!==e.value?checkLoginTimeoutId=setTimeout((function(){var t=e.parentElement;Class(t,"waiting");var n=$(prefixId+"IsValidate"),i=$(prefixId+"quickRegisterForm");i&&(n||(n=createElement(i,"input",{name:"IsValidate",id:prefixId+"IsValidate",type:"hidden"})),n.value=1,Ajax.form(i,{onready:self.OnSuccessCheckLogin}),n.value=0)}),300):(Validate.ClearMessage($(prefixId+"validate_username")),MQTE.SetValidationClass(prefixId+"username",!1))}function isEmpty(e){for(var t in e)if("empty"!=t.toString()&&e.hasOwnProperty(t))return!1;return!0}this.OnSubmit=function(e,t){null!=actionDst&&(currentLang=""==t?"en":t,checkLoginTimeoutId&&(clearTimeout(checkLoginTimeoutId),checkLoginTimeoutId=undefined),window.mediaToken||(window.mediaToken=new MediaToken),window.mediaToken.SetR(e))},Core.AddHandler(formNode,"change",(function(){var e=$(prefixId+"AcknowledgeReadPrivacyAndDataPolicy"),t=$(prefixId+"AgreeTermsConditions");if(!e||!t)return!1;buttonSubmit.disabled=!(e.checked&&t.checked)})),this.OnError=function(){$(prefixId+"quickRegisterErrorMessage").style.display="block"},this.OnSuccess=function(data){self.Track("submit",{dst:"submit_"+actionDst}),sendTrack("MQL5+"+trackPrefix+"+Submit");var result="string"==typeof data?eval("("+data+")"):data;if($(prefixId+"quickRegisterErrorMessage").style.display="none",result){if(isEmpty(result)){self.Track("action",{dst:"action_"+actionDst,email:$(prefixId+"email").value}),sendTrack("MQL5+"+trackPrefix+"+Success"),Validate.SetValid(formNode,result);var quickRegistrationFormLogin=$(prefixId+"quickRegistrationFormLogin");quickRegistrationFormLogin&&(quickRegistrationFormLogin.style.display="block",Dialog.show("",$(prefixId+"quickRegistrationFormLogin"),400,175,(function(){Dialog.hide(),$(prefixId+"quickRegistrationFormLogin").style.display="none"})),$(prefixId+"Login").value=$(prefixId+"username").value,$(prefixId+"username").value="",$(prefixId+"email").value="",$(prefixId+"Password").focus())}result.datacenter!=undefined&&result.datacenter.length?($(prefixId+"quickRegisterErrorMessage").style.display="block",$(prefixId+"quickRegisterErrorMessage").innerText=result.datacenter[0],sendTrack("MQL5+"+trackPrefix+"+KYC+Fail")):result.common!=undefined&&($(prefixId+"quickRegisterErrorMessage").style.display="block"),Validate.SetValid(formNode,result)}else $(prefixId+"quickRegisterErrorMessage").style.display="block"},this.OnSuccessGeneral=function(e){self.Track("submit",{dst:"submit_"+actionDst}),sendTrack("MQL5+"+trackPrefix+"+Submit");var t=null;try{t=window.JSON.parse(e)}catch(n){console.warn(n)}if($(prefixId+"quickRegisterErrorMessage").style.display="none",t){if(isEmpty(t)&&(self.Track("action",{dst:"action_"+actionDst,email:$(prefixId+"email").value}),sendTrack("MQL5+"+trackPrefix+"+Success"),Validate.SetValid($(prefixId+"quickRegisterForm"),t),window.setTimeout((function(){var e=$(prefixId+"username")!=undefined?$(prefixId+"username").value:"";window.location="register_cloud"===actionDst?"/"+currentLang+"/auth_login?reg=1&return=cloud&login="+e:"/"+currentLang+"/auth_login?reg=1&login="+e}),100)),t.datacenter!=undefined&&t.datacenter.length?($(prefixId+"quickRegisterErrorMessage").style.display="block",$(prefixId+"quickRegisterErrorMessage").innerText=t.datacenter[0],sendTrack("MQL5+"+trackPrefix+"+KYC+Fail")):t.common!=undefined&&($(prefixId+"quickRegisterErrorMessage").style.display="block"),t.email!=undefined)switch(t.errorType){case 16:sendTrack("MQL5+"+trackPrefix+"+Exist+Email");break;case 0:sendTrack("MQL5+"+trackPrefix+"+Invalid+Email")}if(t.username!=undefined&&8===t.errorType)sendTrack("MQL5+"+trackPrefix+"+Exist+Login");Validate.SetValid($(prefixId+"quickRegisterForm"),t)}else $(prefixId+"quickRegisterErrorMessage").style.display="block"},this.OnSuccessPopup=function(e){self.Track("submit",{dst:"submit_"+actionDst}),sendTrack("MQL5+"+trackPrefix+"+Submit");var t=null;try{t=window.JSON.parse(e)}catch(n){console.warn(n)}if($(prefixId+"quickRegisterErrorMessage").style.display="none",t){if(isEmpty(t)&&(self.Track("action",{dst:"action_"+actionDst,email:$(prefixId+"email").value}),sendTrack("MQL5+"+trackPrefix+"+Success"),Validate.SetValid($(prefixId+"quickRegisterForm"),t),window.setTimeout((function(){var e=document.getElementById(prefixId+"username");e=e?e.value:"";var t=document.getElementById("Login");t&&(t.value=e);var n=document.getElementById("loginForm");if(n){window.Validate.SetValid(n,{});for(var i=n.querySelectorAll(".field-validation-error"),a=i.length,r=0;r<a;r++)i[r].parentNode.removeChild(i[r])}n&&window.Validate.SetValid(n,{});var o=document.getElementById(prefixId+"email");o=o?o.value:"",window.registerLoginPopup.modifyLoginToActivate(o),window.registerLoginPopup.select("login")}),100)),t.datacenter!=undefined&&t.datacenter.length?($(prefixId+"quickRegisterErrorMessage").style.display="block",$(prefixId+"quickRegisterErrorMessage").innerText=t.datacenter[0],sendTrack("MQL5+"+trackPrefix+"+KYC+Fail")):t.common!=undefined&&($(prefixId+"quickRegisterErrorMessage").style.display="block"),t.email!=undefined)switch(t.errorType){case 16:sendTrack("MQL5+"+trackPrefix+"+Exist+Email");break;case 0:sendTrack("MQL5+"+trackPrefix+"+Invalid+Email")}if(t.username!=undefined&&8===t.errorType)sendTrack("MQL5+"+trackPrefix+"+Exist+Login");Validate.SetValid($(prefixId+"quickRegisterForm"),t)}else $(prefixId+"quickRegisterErrorMessage").style.display="block"},this.OnSuccessGeneralWidthSuccess=function(e){self.Track("submit",{dst:"submit_"+actionDst}),sendTrack("MQL5+"+trackPrefix+"+Submit");var t=null;try{t=window.JSON.parse(e)}catch(n){console.warn(n)}if($(prefixId+"quickRegisterErrorMessage").style.display="none",t){if(isEmpty(t)&&(self.Track("action",{dst:"action_"+actionDst,email:$(prefixId+"email").value}),sendTrack("MQL5+"+trackPrefix+"+Success"),Validate.SetValid($(prefixId+"quickRegisterForm"),t),window.setTimeout((function(){var e=$(prefixId+"username")!=undefined?$(prefixId+"username").value:"";window.location="register_cloud"===actionDst?"/"+currentLang+"/auth_login?reg=1&return=cloud&login="+e:"/"+currentLang+"/auth_login?reg=1&login="+e}),100)),t.datacenter!=undefined&&t.datacenter.length?($(prefixId+"quickRegisterErrorMessage").style.display="block",$(prefixId+"quickRegisterErrorMessage").innerText=t.datacenter[0],sendTrack("MQL5+"+trackPrefix+"+KYC+Fail")):t.common!=undefined&&($(prefixId+"quickRegisterErrorMessage").style.display="block"),t.email!=undefined)switch(t.errorType){case 16:sendTrack("MQL5+"+trackPrefix+"+Exist+Email");break;case 0:sendTrack("MQL5+"+trackPrefix+"+Invalid+Email")}if(t.username!=undefined&&8===t.errorType)sendTrack("MQL5+"+trackPrefix+"+Exist+Login");Validate.SetValid($(prefixId+"quickRegisterForm"),t)}else $(prefixId+"quickRegisterErrorMessage").style.display="block"},this.ValidateUserName=function(e,t){t=t||"Enter a valid login",checkLoginTimeoutId&&(clearTimeout(checkLoginTimeoutId),checkLoginTimeoutId=undefined);var n=document.getElementById("validate_"+prefixId+e.name);n||(n=e.nextSibling),n&&(window.Validate.ClearMessage(n),Class(e,"field-validation-error",!0),checkLoginTimeoutId=setTimeout((function(){var i=e.value;/[\u4e00-\u9eff]/i.test(i)?/^([\-_\u4e00-\u9eff0-9]){1}([\-._\u4e00-\u9eff0-9]){1,30}$/i.test(i)?checkUserName(e):(window.Validate.AppendMessage(n,t),Class(e,"field-validation-error")):/^([\-_a-z0-9]){1}([\-._a-z0-9]){1,30}([\-_a-z0-9]){1}$/i.test(i)?checkUserName(e):(window.Validate.AppendMessage(n,t),Class(e,"field-validation-error"))}),300))},this.CheckUserName=function(){var e=$(prefixId+"username");self.OnChange(e),checkUserName(e),self.OnBlur(e)},this.OnSuccessCheckLogin=function(data){var e=$(prefixId+"username").parentElement;Class(e,"waiting",!0);var result=eval("("+data+")");result.errorType&&0!=(8&result.errorType)&&sendTrack("MQL5+"+trackPrefix+"+Exist+Login"),$(prefixId+"quickRegisterErrorMessage").style.display=result.common!=undefined?"block":"none",Validate.SetValid($(prefixId+"quickRegisterForm"),result)},this.OnBlur=function(e){""===e.value&&e.nextSibling&&e.nextSibling.style&&(e.nextSibling.style.display="block")},this.OnChange=function(e){"username"===e.name?sendTrack("MQL5+"+trackPrefix+"+Input+Login"):"email"===e.name&&sendTrack("MQL5+"+trackPrefix+"+Input+Email")},this.OnFocus=function(e,t){isFirstFocus&&(isFirstFocus=!1,actionDst=t,self.Track("focus",{dst:"focus_"+actionDst})),e.nextSibling&&e.nextSibling.style&&(e.nextSibling.style.display="none")},this.DisableInputs=function(){$(prefixId+"username").disabled="disabled",$(prefixId+"email").disabled="disabled",$(prefixId+"quickRegisterSubmit")&&($(prefixId+"quickRegisterSubmit").className="submit loading"),$(prefixId+"quickRegisterButton")&&($(prefixId+"quickRegisterButton").disabled="disabled");var e=document.getElementById(prefixId+"socialList");e&&Class(e,"disabled")},this.EnableInputs=function(){$(prefixId+"username").disabled=!1,$(prefixId+"email").disabled=!1,$(prefixId+"quickRegisterSubmit")&&($(prefixId+"quickRegisterSubmit").className="submit"),$(prefixId+"quickRegisterButton")&&($(prefixId+"quickRegisterButton").disabled=!1);var e=document.getElementById(prefixId+"socialList");e&&Class(e,"disabled",!0)},this.Track=function(e,t){traceClickAsync(null,e,t.dst,"","")}}function addEventCustom(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function delEventCustom(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function stopProp(e,t){e&&e.stopPropagation?e.stopPropagation():e&&e.cancelBubble&&(e.cancelBubble=!0),t&&e.preventDefault&&e.preventDefault()}function MobileMenu(){var e=!1,t=$("left-panel-selector"),n="left-panel-selector",i=$("left-panel");if(!i||!t)return!1;function a(n){if(e){for(var a=n.target;a&&a!==i&&a!==t;)a=a.parentNode;a||r(n,!1)}}function r(r,o){i&&t&&(e||o)&&(stopProp(r,!0),!e&&o?(e=!0,i.style.left=0,i.style.height="auto",Class(t,n+"_selected"),addEventCustom(document,"touchstart",a),addEventCustom(document,"click",a)):e&&(e=!1,i.style.left="-10000px",i.style.height=0,Class(t,n+"_selected",!0),delEventCustom(document,"touchstart",a),delEventCustom(document,"click",a)))}return $("bodyContent").style.position="relative",this.Hide=function(){i&&t&&e&&e&&(e=!1,i.style.left="-10000px",i.style.height=0,t.className="",delEventCustom(document,"touchstart",a),delEventCustom(document,"click",a))},addEventCustom(t,"mousedown",(function(e){var t=(e=e||window.event).target||e.srcElement;(!t||"A"!==t.tagName&&"A"!==t.parentNode.tagName)&&(r(e,!0),stopProp(e,!0))})),addEventCustom(i,"mousedown",(function(e){return"INPUT"===e.target.tagName.toUpperCase()||(stopProp(e,!0),!1)})),this}function MobileSubMenu(){var e=!1,t=$("btnProfileSubCommands"),n=$("ulProfileSubCommands");if(n&&t)return $("bodyContent").style.position="relative",this.Hide=function(){n&&t&&e&&e&&(e=!1,n.style.left="-10000px",t.className="",delEventCustom(document,"touchstart",i),delEventCustom(document,"click",i))},addEventCustom(t,"mousedown",(function(e){a(e,!0),stopProp(e,!0)})),addEventCustom(n,"mousedown",(function(e){return"INPUT"===e.target.tagName.toUpperCase()||(stopProp(e,!0),!1)})),this;function i(i){if(e){for(var r=i.target;r&&r!==n&&r!==t;)r=r.parentNode;r||a(i,!1)}}function a(a,r){n&&t&&(e||r)&&(stopProp(a,!0),!e&&r?(e=!0,n.style.left=0,t.className="active",addEventCustom(document,"touchstart",i),addEventCustom(document,"click",i)):e&&(e=!1,n.style.left="-10000px",t.className="",delEventCustom(document,"touchstart",i),delEventCustom(document,"click",i)))}}function LangMenu(){var e,t,n,i,a=!1,r=this;function o(t){Core.PreventSelection(),t=t||window.event,"lang-menu__list lang-menu__list_dropped"===e.className?r.Hide():r.Show(t)}this.Init=function(){if(null==e&&(e=$("langmenu"),n=$("langMenuContainer"),null!==e&&null!==n)){if(a=Core.IsTouchDevice(),t=e.querySelector(".lang-menu__list-item_selected")){t.onmousedown=o,t.onselectstart=function(){return!1};var s=t.querySelector("a");s&&(s.onclick=function(e){e=e||window.event,Core.StopProp(e),e.preventDefault&&e.preventDefault(),o(e)},s.onmousedown=function(){})}var l=e.getElementsByTagName("a");for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(l[c].onmousedown=function(e){e=e||window.event,Core.StopProp(e),e.preventDefault&&e.preventDefault()},l[c].onselectstart=function(){return!1});e.onmousedown=function(e){return e=e||window.event,Core.StopProp(e),e.preventDefault&&e.preventDefault(),!1},e.onselectstart=function(){return!1},Core.IsTouchDevice()?(i=document.getElementById("langmenuBlurHandler")).onblur=function(){r.Hide()}:(n.onmouseover=function(e){r.Show(e)},n.onmouseout=function(){r.Hide()})}},this.Show=function(t){(t=t||window.event).preventDefault&&t.preventDefault(),"lang-menu__list"===e.className&&(e.className="lang-menu__list lang-menu__list_dropped",a&&i.focus())},this.Hide=function(){e.className="lang-menu__list"},mqGlobal.AddOnReady((function(){r.Init()}))}function MainMenu(){var e,t,n,i,a,r=this;this.Init=function(){if(null==e&&(e=$("mainmenu"))){t=$("mainMenuSelected");var o=$("headerToolbar"),s=$("mainmenuItems");if(t&&o&&s){var l=s.getElementsByTagName("li");if(l){var c,d,u;function h(){u.innerHTML="";for(var t=l.length-1;t>=0;t--){var n=l[t];if(!(n.offsetTop>10)){if(n.className.indexOf("mainMenuProfileLink")>=0||n.className.indexOf("main-menu__about-link")>=0)continue;break}if(0===parseInt(e.style.paddingRight)){e.style.paddingRight="25px",h();break}u.insertBefore(n.cloneNode(!0),u.firstChild),"selected"==n.className&&(d=!1)}}i=document.getElementById("subNavContainer"),c=document.getElementById("subNavToggle"),d=!0,u=document.getElementById("subNavList"),(a=document.getElementById("blurHandlerSubNav")).onblur=function(){setTimeout((function(){MainMenu.HideSub()}),300)},c.onmousedown=function(e){e=e||window.event,"sub-nav__container show"==i.className?MainMenu.HideSub():MainMenu.ShowSub(e)},this.createSubMenu=function(){d=!0;var t=o.offsetWidth,n=t+30,a=t+30;o&&(e.style.marginRight=n+"px"),i.style.right=a+"px",h(),d?"sub-nav__toggle"!=c.className&&(c.className="sub-nav__toggle"):"sub-nav__toggle active"!=c.className&&(c.className="sub-nav__toggle active"),""==u.innerHTML?"none"!=i.style.display&&(i.style.display="none"):""!=i.style.display&&(i.style.display="")},function p(){e.offsetWidth>0?r.createSubMenu():setTimeout(p,100)}(),Core.AddHandler(window,"resize",(function(){e.style.paddingRight="0",r.createSubMenu()}))}t.onmousedown=function(t){t=t||window.event,"menu dropdown dropped"==e.className?MainMenu.Hide():MainMenu.Show(t)};var f=e.getElementsByTagName("a");for(var m in f)f[m]!=t&&(f[m].onmousedown=function(e){e=e||window.event,Core.StopProp(e),e.preventDefault&&e.preventDefault()});(n=document.getElementById("mainMenuBlurHandler")).onblur=function(){MainMenu.Hide()}}}},this.Show=function(t){(t=t||window.event).preventDefault&&t.preventDefault(),"menu dropdown"==e.className&&(e.className="menu dropdown dropped",n.focus())},this.ShowSub=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),"sub-nav__container"==i.className&&(i.className="sub-nav__container show",a.focus())},this.Hide=function(){e.className="menu dropdown"},this.HideSub=function(){i.className="sub-nav__container"},mqGlobal.AddOnReady((function(){r.Init()}))}function HeadSideBarMenu(){var e,t,n,i,a=this;this.Show=function(){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=document.body.scrollHeight,r=Math.max(t,a);n.className="cover cover_sidebar-open",e.style.height=r+"px",i.style.height=r+"px"},this.Hide=function(){n.className="cover"},this.Init=function(){e=$("groupMenu"),t=$("sidebarToggleButton"),n=$("cover"),null!=e&&null!=t&&null!=n&&(i=document.getElementById("layer"),t.onclick=function(){a.Show()},i.onclick=function(){a.Hide()})},mqGlobal.AddOnReady((function(){a.Init()}))}function Focuser(){var e,t;this.Init=function(n,i){var a=$(n);if(a){var r=$(i);a.setAttribute("tabindex",-1),a.onclick=function(){e||(r.style.display="block",e=!0,a.focus())},a.onblur=function(){if(e){if(t)return t=!1,void a.focus();r.style.display="none",e=!1}},r.onmousedown=function(){t=!!e}}}}function ClickPopup(){this.Init=function(e,t,n,i,a,r){var o=$(e);if(o){var s=$(t),l=$(n),c=function(){o.className+=" on",s.style.display="block"},d=function(){o.className=o.className.replace(" on",""),s.style.display="none"};l.onfocus=function(){setTimeout(c,0)},l.onblur=function(){setTimeout(d,100)},o.onclick=function(){"block"==s.style.display?l.blur():(s.style.display="block",l.focus(),l.select(),r&&window.fpush(r))},i&&!a&&(s.style.left="-"+(i-o.offsetWidth)/2+"px")}}}function Layer(e,t,n,i){this.elementId=i;var a=$(i),r=t,o=n;a.style.top=n+"px",a.style.left=t+"px",this.calcCoordsDelta=function(t,n,i,a){if(!e)return{};var r=e(t,n,i,a);return s=r,r};var s=null;this.move=function(){if(s){for(var e in s)a.style[e]=s[e];s=null}},this.getElement=function(){return a},this.getInitPosition=function(){return{left:r,top:o}},this.getDeltaProps=function(){return s||{}}}function Parallax(){var e=document.body,t=[],n=supportsCssProp("transition");this.addLayer=function(e,n,i,a){t[t.length]=new Layer(e,n,i,a)},this.getLayer=function(e){for(var n=0;n<t.length;n++)if(t[n].elementId==e)return t[n];return null};var i=new Date;var a=-1,r=-1;function o(e,o){for(var s=0;s<t.length;s++)t[s].calcCoordsDelta(e-a,o-r,e,o);if(!n||new Date-i>50){for(s=0;s<t.length;s++)setTimeout(t[s].move,100);i=new Date}}e.onmousemove=function(e){var t=-1,n=-1;if(document.all?(t=event.x+document.body.scrollLeft,n=event.y+document.body.scrollTop):(t=e.pageX,n=e.pageY),a<0||r<0)return a=t,void(r=n);o(t,n),a=t,r=n},e.onmouseout=function(){a=-1,r=-1};var s=getWindowSize();this.getWindowSize=function(){return s};var l=window.onresize;window.onresize=function(){s=getWindowSize(),o(a,r),l&&l()}}function addCustomScroll(e,t,n,i,a,r,o){e.style.width;var s=window.getComputedStyle&&window.getComputedStyle(e,null).getPropertyValue("padding-right")||0,l=parseInt(s),c=createElement(null,"div",{className:"customScrollWrapper"});if(e.parentNode){e.parentNode.insertBefore(c,e),e.style.width="100%",c.appendChild(e);var d=createElement(c,"div",{className:"customScrollBar"});d.style.backgroundColor=t||"#F0F0F0",d.style.width=(i||1)+2*(a||0)+"px",c.style.zIndex=e.style.zIndex;var u=createElement(d,"div",{className:"customScrollBarSpace"}),h=createElement(d,"div",{className:"customScrollBarTrack"});h.style.backgroundColor=n||"#F0F0F0",h.style.width=(i||1)+"px",h.style.border="solid "+(a||0)+"px "+(t||"#F0F0F0"),u.style.width=h.style.width,u.style.border="solid "+(a||0)+"px transparent",function(){if(r)for(var e in r)r.hasOwnProperty(e)&&(c.style[e]=r[e])}(),e.style.paddingRight=l+(17-i-2*a)+"px",g(e),o||(d.onmousedown=function(t){t.currentTarget===t.target&&(e.scrollTop=Math.min(e.scrollTop+e.clientHeight,e.scrollHeight-e.clientHeight))},u.onmousedown=function(t){t.currentTarget===t.target&&(e.scrollTop=Math.max(e.scrollTop-e.clientHeight,0))});var f=e.onscroll,m=e;m.onscroll=function(){return g(m),f&&f(arguments),!0};var p=e.onresize;if(m.onresize=function(){return g(m),p&&p(arguments),!0},!o)new function(t){var n=parseInt(t.getAttribute("data-top"),10)||parseInt(t.style.top,10);isNaN(n)&&(n=0);var i=0,r=t;function o(t){if(t=v(t),r){var o,s,l,c,d=(o=t.pageY,s=0,l=r.parentNode.clientHeight-r.clientHeight-a-a,c=n+(o-i),Math.min(Math.max(c,s),l)),u=parseInt(r.getAttribute("data-top"),10);u!==d&&(r.style.transform="translateY("+d+"px)",r.setAttribute("data-top",d)),i=t.pageY,u=parseInt(r.getAttribute("data-top"),10);var h=parseInt(r.style.top,10);n=u||h,isNaN(n)&&(n=0),e.scrollTop=function(){var t=parseInt(r.getAttribute("data-top"),10),n=parseInt(r.style.top,10),i=t||n;isNaN(i)&&(i=0);r.clientHeight;var a=r.parentNode.clientHeight,o=e.scrollHeight/a*i;return o}()}}var s=null,l=r.onmousedown;r.onmousedown=function(e){e=v(e),i=e.pageY;var t=parseInt(r.getAttribute("data-top"),10),a=parseInt(r.style.top,10);return n=t||a,isNaN(n)&&(n=0),s=window.onmousemove,Class(r,"dragged"),window.onmousemove=function(e){o(e)},window.onmouseup=function(){Class(r,"dragged",!0),window.onmousemove=s,s=null},l&&l(e),!1}}(h)}function g(e){var t=function(e){var t=!1;e.scrollHeight<=e.clientHeight&&(t=!0);var n=50,i=Math.max(n,e.clientHeight/e.scrollHeight*d.clientHeight|0)-a-a,r=d.clientHeight-i-a-a,o=e.scrollTop/(e.scrollHeight-e.clientHeight)*r|0;return{height:i,top:o,noscroll:t}}(e);t.noscroll?h.style.display="none":h.style.display="";var n=h.getAttribute("data-scroll-height");n=parseInt(n,10),isNaN(n)&&(n=0),n!==t.height&&(h.style.height=t.height+"px",h.setAttribute("data-scroll-height",t.height));var i=h.getAttribute("data-top");i=parseInt(i,10),isNaN(i)&&(i=0),i!==t.top&&(h.style.transform="translateY("+t.top+"px)",h.setAttribute("data-top",t.top));var r=u.getAttribute("data-scroll-height");r=parseInt(r,10),isNaN(r)&&(r=0),r!==t.top&&(u.style.height=t.top+"px",u.setAttribute("data-scroll-height",t.top))}function v(e){if(null==(e=e||window.event).pageX&&null!=e.clientX){var t=document.documentElement,n=document.body;e.pageX=e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t.clientLeft||0),e.pageY=e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t.clientTop||0)}return!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e}}function FeedbackForm(){var e=null,t=$("feedbackForm"),n=$("feedbackButton");t&&n&&Core.AddHandler(t,"change",(function(){var e=$("AcknowledgeReadPrivacyAndDataPolicy");if(!n||!e)return!1;n.disabled=!e.checked})),this.ProcessSubjectSelect=function(t){var n=$("subjectType");if(n!=undefined)if(null!=t&&""!=t){null==e&&function(t){e=[];var n=t.getElementsByTagName("option");for(var i in n)e.push(n[i])}(n);for(var i="subjectType_"+t+"_";n.hasChildNodes();)n.removeChild(n.lastChild);for(var a in e)e[a].id!=undefined&&0==e[a].id.indexOf(i)&&n.appendChild(e[a]);n.style.display="inline",null==n.childNodes||n.childNodes[0].selected==undefined||n.childNodes[0].disabled||(n.childNodes[0].selected=!0);var r=$("customSubjectBox");r!=undefined&&(r.style.display="none")}else n.style.display="none"},this.ProcessSubjectTypeSelect=function(e){var t=$("subjectType");if(t!=undefined){var n=$("customSubjectBox");if(n!=undefined){var i=$("customSubject");if(i!=undefined){var a=t.getElementsByTagName("option"),r=!1;for(var o in a)if(!(a[o].value!=e||a[o].id==undefined||a[o].id.indexOf("_other")<0)){r=!0;break}r?(n.style.display="block",i.focus()):n.style.display="none"}}}}}Mql5Cookie.defaultValue="",Mql5Cookie.domain="",Mql5Cookie.onSyncCallback=undefined,Mql5Cookie.init=function(e,t,n){Mql5Cookie.defaultValue=t,Mql5Cookie.domain=e,Mql5Cookie.onSyncCallback=n,window.location.hostname.lastIndexOf(".")<0||Mql5Cookie.checkStorages()},Mql5Cookie.checkStorages=function(){var e="_fz_uniq",t=undefined,n=Mql5Cookie.localStorage(e);t||"undefined"==n||(t=n);var i=Mql5Cookie.sessionStorage(e);t||"undefined"==i||(t=i);var a=Mql5Cookie.httpStorage(e);"undefined"!=a&&(t||"undefined"==a||(t=a),t&&22===t.length&&a&&a.length>12&&a.length<22&&(t=a)),t||(t=Mql5Cookie.defaultValue),Mql5Cookie.cleanOldCookies(),Mql5Cookie.localStorage(e,t),Mql5Cookie.sessionStorage(e,t),Mql5Cookie.httpStorage(e,t,{expires:new Date(2050,1,1),Domain:"."+Mql5Cookie.domain,Path:"/",SameSite:"None",Secure:!0}),Mql5Cookie.onSyncCallback&&Mql5Cookie.onSyncCallback()},Mql5Cookie.cleanOldCookies=function(){var e="_fz_uniq";if((document.cookie.match(new RegExp(e+"=","g"))||[]).length>1){var t=new Date((new Date).getFullYear()-1,1,1);Mql5Cookie.httpStorage(e,"",{expires:t,Path:"/",SameSite:"None",Secure:!0}),0!==window.location.hostname.indexOf("www.")&&0!==window.location.hostname.indexOf("cloud.")||Mql5Cookie.httpStorage(e,"",{expires:t,Path:"/",Domain:window.location.hostname,SameSite:"None",Secure:!0})}},Mql5Cookie.httpStorage=function(e,t,n){if(void 0===t){var i=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return i?decodeURIComponent(i[1]):undefined}var a=(n=n||{}).expires;if("number"==typeof a&&a){var r=new Date;r.setTime(r.getTime()+1e3*a),a=n.expires=r}a&&a.toUTCString&&(n.expires=a.toUTCString());var o=e+"="+(t=encodeURIComponent(t));for(var s in n){o+="; "+s;var l=n[s];!0!==l&&(o+="="+l)}document.cookie=o},Mql5Cookie.localStorage=function(e,t){try{if(window.localStorage){if(void 0===t)return localStorage.getItem(e);localStorage.setItem(e,t)}}catch(n){}},Mql5Cookie.sessionStorage=function(e,t){try{if(window.sessionStorage){if(void 0===t)return sessionStorage.getItem(e);sessionStorage.setItem(e,t)}}catch(n){}},ImageAttach.Init=function(e,t,n,i,a){t||(t=80),e||(e=60),ImageAttach.previewHeight=t,ImageAttach.previewWidth=e,ImageAttach.deleteLabel=n,ImageAttach.defaultError=i,ImageAttach.maxCount=a,Class($("customFileInputContainer"),"customFileInputContainer",!1),$("customFileInputLink").style.display="",/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?$("customFileInputLink").onclick=function(){return Class($("customFileInputContainer"),"customFileInputContainer",!0),$("customFileInputLink").style.display="none",!1}:$("customFileInputLink").onclick=function(){return $("attachedFile_imagesLoader").click(),!1},ImageAttach.CheckImagesCount()?$("imageUploaderContainer").style.display="block":$("imageUploaderContainer").style.display="none"},ImageAttach.previewCounter=0,ImageAttach.CheckImagesCount=function(){return ImageAttach.previewCounter<ImageAttach.maxCount},ImageAttach.SelectFile=function(){$("attachedFile_imagesLoader").click()},ImageAttach.createPreview=function(e){ImageAttach.previewCounter||(ImageAttach.previewCounter=0);var t=$("newImageAttaches"),n=document.createElement("SPAN");n.id="iat_"+ImageAttach.previewCounter,Class(n,"attachItem"),Class(n,"imagePreview");var i=createElement(n,"A",{title:ImageAttach.getClearFilename(e),target:"_blank",href:e,className:"imageHolder_wall"}),a=createElement(i,"IMG",{src:e,loading:"lazy"});a.style.maxHeight=ImageAttach.previewHeight+"px",a.style.maxWidth=ImageAttach.previewWidth+"px",createElement(n,"BR");var r=createElement(n,"DIV",{className:"previewLabel"});return createElement(r,"INPUT",{type:"hidden",name:"attachedImage_"+ImageAttach.previewCounter,value:e}),createElement(r,"A",{href:"#",onclick:function(){return ImageAttach.deletePreview(n)},className:"deleteAttachLink",innerHTML:ImageAttach.deleteLabel}),prependElement(t,n),ImageAttach.previewCounter++,t.style.display="",n},ImageAttach.deletePreview=function(e){return e.parentNode.removeChild(e),ImageAttach.onDeletePreview(),!1},ImageAttach.onDeletePreview=function(){ImageAttach.previewCounter--,ImageAttach.CheckImagesCount()?$("imageUploaderContainer").style.display="block":$("imageUploaderContainer").style.display="none",ImageAttach.previewCounter<=0&&($("newImageAttaches").style.display="none")},ImageAttach.OnChangeFile=function(text,xml){var e=text||(xml&&xml.body?xml.body.innerHTML:null);ImageAttach.ClearError();var raw=stripHtml(e);if(raw){var result=null;try{result=JSON.parse(raw)}catch(e){console.warn(e),console.warn("Data:"),console.warn(raw);try{result=eval("("+raw+")")}catch(e){}}result?(result.Url.length>0?ImageAttach.createPreview(result.Url):result.ErrorMessage.length>0?ImageAttach.ShowError(result.ErrorMessage):ImageAttach.ShowError(),ImageAttach.CheckImagesCount()?$("imageUploaderContainer").style.display="block":$("imageUploaderContainer").style.display="none"):ImageAttach.ShowError()}},ImageAttach.OnChangeFileError=function(e){ImageAttach.ShowError()},ImageAttach.ShowError=function(e){$("imageValidationError").innerHTML=e||ImageAttach.defaultError},ImageAttach.ClearError=function(){$("imageValidationError").innerHTML=""},ImageAttach.getClearFilename=function(e){var t=e.split("/"),n=t[t.length-1],i=n.indexOf("_");return n.substring(i+1)},ImageAttach.Clear=function(){for(;ImageAttach.previewCounter>0;)ImageAttach.deletePreview($("iat_"+(ImageAttach.previewCounter-1)))},function(){var e=function(){var e="INPUT"==this.tagName?this.previousSibling:this,t="INPUT"==this.tagName?this:this.nextSibling;e.style.display="none",t.focus(),window.console&&window.console.log&&window.console.log("focus on "+this)},t=function(){var e="INPUT"==this.tagName?this.previousSibling:this;0==("INPUT"==this.tagName?this:this.nextSibling).value.length&&(e.style.display=""),window.console&&window.console.log&&window.console.log("blur on "+this)},n=getElementsByClass("placeholder");if(n&&0!=n.length)for(var i=0;i<n.length;i++)if(n[i].parentNode&&!(n[i].parentNode.className.indexOf("inputWrapper")<0)){var a=n[i].nextSibling;n[i].onclick=e,a.onfocus=e,a.onblur=t}}(),window.MainMenu=new MainMenu;var paletteRegular=["#3366CC","#DC3912","#FF9900","#109618","#990099","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707"],paletteHover=["#45AFE2","#FF3300","#FFD324","#14C21D","#DF51FD","#15CBFF","#FF97D2","#97FB00","#DB6651","#518BC6","#BD6CBD","#35D7C2","#E9E91F","#9877DD","#FF8F20","#D20B0B"];function BuildMonitoringChart(e,t,n,i,a,r){var o=r?""+r:"0",s=[];s.push(["{",'   "title":"",','   "description":"",','   "fractionalValue":"'+o+'",','   "type":"graph",','   "subType":"simple",','   "showFractionalValue":true,','   "axisXTitle" : "Date",','   "axisYTitle" : "'+t+(""==n?"":", "+n)+'",','   "margin" : {"left" : 50, "right" : 30},','   "series" : [',"       {",'           "type" : "title",','           "value" : ['+i+"]","       }"].join("\n"));var l=0;for(var c in a)s.push(["       ,","       {",'           "type" : "graph",','           "title" : "",','           "tooltip" : "%VARIABLE% - '+c+" - %VALUE% "+n+'",','           "value" : ['+a[c]+"],",'           "selectColor":"'+paletteHover[l%paletteHover.length]+'",','           "lineColor":"'+paletteRegular[l%paletteHover.length]+'",','           "showBounds":false',"       }"].join("\n")),l++;s.push(["   ]"," }"].join("\n")),$(e)&&MQL5ChartAPI.addChart(e,s.join("\n"),MQL5ChartType.GRAPH)}var MqDownloadLinksProcessor=new function(){return};function TradingAccounts(){var e=this;this.childHost="",this.presetAccountLine=null,this.presetMtVersion=null,this.InitCore=function(t){e.childHost=t,window.addEventListener("message",e.OnWindowMessage)},this.InitSync=function(t,n,i,a,r,o,s,l,c){e.presetAccountLine=n,e.presetMtVersion=a;var d=$(t);if(d){var u=e.childHost+"?switch_platform=1&border=0&startup_version=5&demo_all_servers=1";l&&(u+="&user_token="+l),i&&(u+="&startup_mode="+i),r>0?u+="&version="+a+"&login="+r+"&trade_server="+escape(o):s&&(u+="&version="+a),c&&(u+="&m=1"),d.setAttribute("src",u)}},this.OnWindowMessage=function(t){if(t.origin===e.childHost&&"records"===JSON.parse(t.data).command)if(e.presetAccountLine)return e.AddAccountLine(host,e.presetMtVersion,e.presetAccountLine),void(e.presetAccountLine=null)},this.AddAccountLine=function(e,t,n){var i={command:"add_encrypted_line",data:{line:n,type:t}};window.frames.webTerminalHost.postMessage(JSON.stringify(i),e)}}function CarouselGallery(){var e,t,n;function i(e,t){var n=$(t+"_navLinks");if(n)for(var i=n.getElementsByTagName("A"),a=0;a<i.length;a++)i[a].className=Number(a)===Number(e)?"selected":""}this.Show=function(a,r){if(null==e){var o=$(r);t=o.offsetWidth;for(var s=o.getElementsByTagName("DIV"),l=0;l<s.length;l++)if(s[l].className&&!(s[l].className.indexOf("carouselGalleryContainer")<0)){e=s[l];break}}var c=(n=a)*t*-1;null!=e.style.transform?e.style.transform="translateX("+c+"px)":e.style.left=c+"px",i(n,r)},this.Move=function(a,r,o){if(null==e){var s=$(a);t=s.offsetWidth;for(var l=s.getElementsByTagName("DIV"),c=0;c<l.length;c++)if(l[c].className&&!(l[c].className.indexOf("carouselGalleryContainer")<0)){e=l[c];break}n=0,r=Number(r)}(n=Number(n)+(o?1:-1))>=r?n=0:n<0&&(n=r-1);var d=n*t*-1;null!=e.style.transform?e.style.transform="translateX("+d+"px)":e.style.left=d+"px",i(n,a)}}function MediaToken(){var e="_fz_uniq",t="_media_uuid",n="window.location.href";function i(e,t){document.cookie=e+"="+escape(t)+"; path=/"}function a(e){var t=new RegExp("(?:^|; )"+e+"=([^;]*)"),n=document.cookie.match(t);return n?decodeURIComponent(n[1]):null}this.Set=function(){var r=$("Login")!=undefined?$("Login").value:"",o=$("Password")!=undefined?$("Password").value:"";""===o&&(o=$("signature")!=undefined?$("signature").value:"");var s=a(e);""!==r&&""!==o&&""!==s&&i(t,Core.Crc32(r+o+s+n))},this.SetR=function(r){var o=r.username.value,s=a(e);""!==o&&""!==s&&i(t,Core.Crc32(o+s+n))}}function FooterLinks(){this.Show=function(e){$(e).className=""==$(e).className?"open":""}}function ImageAttacherManager(e,t,n,i,a,r,o,s,l,c,d,u,h,f,m){var p=e,g={},v=t||0,y=n,w=i||0,b=a||0,_=r||0,C=o||0,x=s||0,E=l||0,T=c||0,k=d||0,A=u||0,S=p.querySelector(".image-new"),I=h,N=f,M=m,L=window.File&&window.FileReader&&window.FileList&&window.Blob,D=!1;function B(e,t){if(e.classList)return e.classList.contains(t);for(var n=e.className.split(" "),i=0;i<n.length;i++)if(n[i]===t)return!0;return!1}function H(e){if(!e||!p.contains(e)||B(e,"images-container"))return null;for(;e;){if(B(e,"attached-image"))return e;e=e.parentElement}return e}function P(e){if(!e)return null;g.avatar&&(g.avatar.style.visibility="hidden",g.indicator.style.visibility="hidden");var t=document.elementFromPoint(e.clientX,e.clientY);return g.avatar&&(g.avatar.style.visibility="visible",g.indicator.style.visibility="visible"),null==t?null:H(t)}function R(){var e=g.elem.querySelector("img").cloneNode(!0);e.style.opacity=.75,e.style.filter="alpha(opacity=75)",e.style.border="1px #999 solid",e.style.padding="1px",e.style.margin="1px",g.avatar=e;var t=document.createElement("div");t.className="drop-indicator";var n=document.createElement("div");n.className="line",t.appendChild(n),(n=document.createElement("div")).className="up-corner",t.appendChild(n),(n=document.createElement("div")).className="down-corner",t.appendChild(n),g.indicator=t}function F(){var e=g.avatar;p.appendChild(e),e.style.zIndex=9999,e.style.position="absolute";var t=g.indicator;p.appendChild(t),t.style.zIndex=9998,t.style.position="absolute",t.style.top=g.elem.clientTop+"px",t.style.left=g.elem.clientLeft+"px",t.style.width=g.elem.offsetWidth+"px",t.style.height=g.elem.offsetHeight+"px"}function O(e){if(!e.which&&e.button&&1&e.button&&(e.which=1),1!==e.which)return!1;var t=H(e.target||e.srcElement);return!!t&&(g.elem=t,g.downX=e.pageX||e.clientX+document.body.scrollLeft,g.downY=e.pageY||e.clientY+document.body.scrollTop,e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),!1)}function $(e){if(!g.elem)return!1;if(!g.avatar){var t=(e.pageX||e.clientX+document.body.scrollLeft)-g.downX,n=(e.pageY||e.clientY+document.body.scrollTop)-g.downY;if(Math.abs(t)<3&&Math.abs(n)<3)return!1;if(R(),!g.avatar)return g={},!1;g.shiftX=g.downX-g.elem.offsetLeft,g.shiftY=g.downY-g.elem.offsetTop,F()}var i=P(e);return i?(g.indicator.style.left=i.offsetLeft+"px",g.indicator.style.top=i.offsetTop+"px",g.indicator.style.visibility="visible"):g.indicator.style.visibility="hidden",g.avatar.style.left=(e.pageX||e.clientX+document.body.scrollLeft)-g.shiftX+"px",g.avatar.style.top=(e.pageY||e.clientY+document.body.scrollTop)-g.shiftY+"px",e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),!0}function U(e){var t=!1;return g.avatar&&(!function(e){var t=P(e);t?onDragEnd(g,t):onDragCancel(g)}(e),t=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation()),g={},t}function j(e){var t=e.querySelector(".index");return parseInt(t.textContent||t.innerText)}function q(e){return e&&e.preventDefault(),!1}function W(){for(var e=p.querySelectorAll("div.attached-image"),t=0;t<e.length;t++){e[t].querySelector(".index").innerText=t+1}}function z(e){var t=p.parentElement.querySelector(".image-attacher-message");t&&(t.innerText=e)}function V(e){try{if("string"==typeof e){e=JSON.parse(e);try{e=JSON.parse(e)}catch(u){e=null,console.warn(u)}if(!e)return}for(var t=[],n=0;n<e.length;n++){var i=e[n];if(i.url){var a=p.querySelectorAll(".attached-image").length+1,r=createElement(null,"div",{className:"attached-image"}),o=createElement(r,"a",{title:i.file,href:i.url,ondragstart:q}),s=createElement(o,"img",{draggable:!1,src:i.url,ondragstart:q,loading:"lazy"});k>0&&(o.style.maxHeight=k+"px",o.style.maxWidth=A+"px",s.style.maxHeight=k+"px",s.style.maxWidth=A+"px"),createElement(r,"input",{type:"hidden",name:"images",value:"~"+i.url}),createElement(r,"div",{className:"index"}).innerText=a;var l=createElement(r,"div",{className:"panel"});createElement(l,"div",{className:"delete",onclick:function(){Delete(this)}}),p.insertBefore(r,S)}else i.error&&t.push(i.error+": "+i.file)}t.length>0&&z(t.join("\n"))}catch(h){}D=!1;var c=S.querySelector("input[type=file]");c&&(c.style.display="block");var d=S.querySelector(".plus-icon");d&&(d.style.backgroundImage="url('https://c.mql5.com/i/ico_common.png')")}function Y(e){if(g.avatar){var t=e?P({clientX:e.clientX,clientY:e.clientY}):null;t?onDragEnd(g,t):onDragCancel(g)}g={}}function G(e){D||(e.preventDefault(),e.stopPropagation(),S.style.borderColor="blue")}document.addEventListener?(p.addEventListener("mousedown",O,!1),document.addEventListener("mousemove",$,!1),document.addEventListener("mouseup",U,!1),p.addEventListener("touchstart",(function(e){if(1===e.touches.length&&"delete"!==e.touches[0].target.className){if(g.touchId===undefined){var t=(e.originalEvent||e).touches[0],n=H(t.target);n&&(g.touchId=t.identifier,g.downX=t.pageX,g.downY=t.pageY,g.elem=n,e.preventDefault(),e.stopPropagation())}}else g.touchId&&Y()}),!1),document.addEventListener("touchmove",(function(e){if(g.touchId!==undefined&&1===e.touches.length){var t=(e.originalEvent||e).changedTouches[0];if(g.touchId===t.identifier){if(!g.avatar){var n=t.pageX-g.downX,i=t.pageY-g.downY;if(Math.abs(n)<3&&Math.abs(i)<3)return;if(R(),!g.avatar)return void(g={});g.shiftX=g.downX-g.elem.offsetLeft,g.shiftY=g.downY-g.elem.offsetTop,F()}var a=P({clientX:t.clientX,clientY:t.clientY});a?(g.indicator.style.left=a.offsetLeft+"px",g.indicator.style.top=a.offsetTop+"px",g.indicator.style.visibility="visible"):g.indicator.style.visibility="hidden",g.avatar.style.left=t.pageX-g.shiftX+"px",g.avatar.style.top=t.pageY-g.shiftY+"px",e.preventDefault(),e.stopPropagation()}}}),!1),document.addEventListener("touchend",(function(e){g.touchId!==undefined&&1===e.changedTouches.length&&(Y((e.originalEvent||e).changedTouches[0]),e.preventDefault(),e.stopPropagation())}),!1),S&&L&&(S.addEventListener("dragenter",G,!1),S.addEventListener("dragover",G,!1),S.addEventListener("dragleave",(function(e){D||(e.preventDefault(),e.stopPropagation(),S.style.borderColor="#e2e3e5")}),!1),S.addEventListener("drop",(function(e){D||(e.preventDefault(),e.stopPropagation(),S.style.borderColor="#e2e3e5",Z(e.dataTransfer))}),!1))):document.attachEvent&&(e.attachEvent("onmousedown",O,!1),document.attachEvent("onmousemove",$,!1),document.attachEvent("onmouseup",U,!1));for(var X=p.querySelectorAll("a, img"),Q=0;Q<X.length;Q++)X[Q].ondragstart=q;function K(e){var t=p.querySelectorAll(".attached-image").length;return e.files?t+=e.files.length:t+=1,v>0&&t>v?(z(y),!1):(z(""),!0)}function J(){D=!0;var e=S.querySelector("input[type=file]");e&&(e.style.display="none");var t=S.querySelector(".plus-icon");t&&(t.style.backgroundImage="url('https://c.mql5.com/i/loading.gif')")}function Z(e){if(!K(e))return!1;J();var t=[];t.addError=function(e,n){for(var i=0;i<this.length;i++){var a=this[i];if(a.error&&a.error==e)return void(this[i].file=a.file+", "+n)}t.push({error:e,file:n})};var n={};if(n.add=function(e,t){var n=this[e]||[];n.push(t),this[e]=n},function a(e,i){if(i<e.length){var r=e[i];try{if(r.size>16777216)n.add("filesize",r.name);else{if(0!==r.size&&r.type.match("image.*")&&!(["jpg","jpeg","png","gif"].indexOf(r.name.split(".").pop().toLowerCase())<0)){var o=document.createElement("img");return o.file=r,o.onload=function(){var r=this.file,o=r.name;try{if(0!==w&&w!==this.height||0!==b&&b!==this.width)n.add("imagesize",o);else if(0!=_&&_<Math.min(this.height,this.width)||0!=C&&C<Math.max(this.height,this.width))n.add("imagesize",o);else if(0!=x&&x>Math.min(this.height,this.width)||0!=E&&E>Math.max(this.height,this.width))n.add("imagesize",o);else{if(!(0!=T&&T<this.file.size)){var s=new FormData;s.append("fixedHeight",w),s.append("fixedWidth",b),s.append("maxHeight",_),s.append("maxWidth",C),s.append("minHeight",x),s.append("minWidth",E),s.append("files",r,r.name);var l=new XMLHttpRequest;return l.open("POST","/images-upload"),l.onreadystatechange=function(){if(4===l.readyState){if(200===l.status)try{var n=JSON.parse(l.responseText);if((n.length||0)>0){var r=n[0];r.error?t.addError(r.error,r.file):t.push(r)}}catch(o){console.warn(o)}a(e,i+1)}},void l.send(s)}n.add("imagesize",o)}}catch(c){n.add("format",o)}a(e,i+1)},void(o.src=(window.URL||window.webkitURL).createObjectURL(r))}n.add("format",r.name)}}catch(s){n.add("format",r.name)}a(e,i+1)}else n.filesize&&t.addError(I,n.filesize.join(", ")),n.format&&t.addError(N,n.format.join(", ")),n.imagesize&&t.addError(M,n.imagesize.join(", ")),V(t)}(e.files,0),e.tagName&&"input"===e.tagName){var i=e.cloneNode(!0);e.parentElement.appendChild(i),e.parentElement.removeChild(e)}return!0}return this.onDragEnd=function(e,t){p.removeChild(e.avatar),p.removeChild(e.indicator),j(e.elem)>j(t)?p.insertBefore(e.elem,t):p.insertBefore(e.elem,t.nextSibling),W(),z("")},this.onDragCancel=function(e){p.removeChild(e.avatar),p.removeChild(e.indicator)},this.Delete=function(e){var t=e.parentElement.parentElement;t.parentElement.removeChild(t),W(),z("")},this.SetEnables=function(e,t){if(e||(S.style.display="none"),!t){!0;for(var n=p.querySelectorAll(".panel"),i=0;i<n.length;i++){var a=n[i];a.parentElement.removeChild(a)}}},this.AddNew=L?Z:function(e){if(!K(e))return!1;J();var t=["img-uploader",Math.random()].join("-"),n=document.createElement("iframe");n.name=t,n.style.position="absolute",n.style.left=n.style.top="-30000px",document.body.insertBefore(n,document.body.firstChild);var i=document.createElement("form");n.appendChild(i),i.action="/images-upload",i.method="POST",i.enctype="multipart/form-data",i.encoding="multipart/form-data",i.target=t;var a=e.cloneNode(!0);e.name="files",e.parentElement.appendChild(a),i.appendChild(e);var r=document.createElement("input");r.type="hidden",r.value=w,r.name="fixedHeight",i.appendChild(r);var o=document.createElement("input");o.type="hidden",o.value=b,o.name="fixedWidth",i.appendChild(o);var s=!1;return n.onload=n.onreadystatechange=function(){if(!(s||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){s=!0,n.onload=n.onreadystatechange=null;var e=this.contentWindow.document.body;V(e.textContent||e.innerText),n.parentElement.removeChild(n)}},i.submit(),!0},this}function PopupDialogQuestion(e,t,n,i,a,r,o){if(!e.popupDialog&&a){var s=a,l=e;l.popupDialog=this,l.style.overflow="unset";var c=l.style.position;l.style.position="relative",l.style.zIndex=3;var d=document.createElement("div");d.className="popup-dialog-container ui",l.appendChild(d);var u=document.createElement("div");function h(e){l.style.position=c,l.popupDialog=undefined,l.removeChild(d),e.preventDefault(),e.stopPropagation()}u.className="content",d.appendChild(u),r&&d.style.setProperty("width",r,"important"),o&&(d.style.height=o),u.innerHTML=t;var f=document.createElement("div");f.className="popup-dialog__buttons",d.appendChild(f);var m=document.createElement("button");m.setAttribute("type","button"),m.className="button button_green button_tiny",f.appendChild(m),m.innerText=n,m.onclick=function(e){return s.call(l,t),h(e),!1};var p=document.createElement("button");p.setAttribute("type","button"),p.className="button button_white button_tiny",f.appendChild(p),p.innerText=i,p.onclick=function(e){return h(e),!1},d.style.left=(l.clientWidth-d.clientWidth)/2+"px",d.style.top=l.clientHeight+10+"px"}}function ModalDialog(e,t,n,i,a,r,o){if(e){var s="ok",l="cancel",c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),h=document.createElement("button"),f=document.createElement("button"),m=document.createElement("div"),p=document.createElement("div");if(c.className="modal-dialog__wrapper",d.className="modal-dialog__window",u.className="modal-dialog__shadow",h.className="modal-dialog__ok",h.id="modal-dialog__ok",f.className="modal-dialog__cancel",m.className="modal-dialog__footer",p.className="modal-dialog__content",a&&(d.style.width=a+"px"),r&&(d.style.height=r+"px"),t&&(s=t),n&&(l=n),o&&(d.className+=" "+o),h.disabled=!0,h.innerText=s,f.innerText=l,"object"==typeof e){var g=e.parentNode;p.appendChild(e);var v=e.style.display;"none"==v&&(e.style.display="")}else p.innerHTML=e;document.body.appendChild(u),d.appendChild(p),m.appendChild(h),m.appendChild(f),d.appendChild(m),c.appendChild(d),document.body.appendChild(c);for(var y=p.querySelectorAll("[data-modal-dialog]"),w=0;w<y.length;w++)y[w].ModalDialog=this;function b(){c.parentNode.removeChild(c),u.parentNode.removeChild(u),"object"==typeof e&&(e.style.display=v,g.appendChild(e));for(var t=0;t<y.length;t++)y[t].ModalDialog=undefined}c.onclick=function(e){"modal-dialog__wrapper"==((e=e||window.event).target||e.srcElement).className&&b()},f.onclick=function(){b()},h.onclick=function(){i(),b()},this.setEnabled=function(e){h.disabled=!e}}}function notifyDropDown(){var e=this,t=$("privateAreaMessages"),n=!1;function i(i){if(n){for(var a=i.target;a&&a!==t;)a=a.parentNode;a||e.dropDown()}}this.dropDown=function(){n?(t.className="notifications-box",delEventCustom(document,"touchstart",i),delEventCustom(document,"click",i),n=!1):(addEventCustom(document,"touchstart",i),addEventCustom(document,"click",i),t.className+=" notifications-box_dropped",n=!0)}}window.opener=null,function(){function e(){(new Image).src="https://www.mql5.com/img/users/ico/"+encodeURIComponent(btoa(location[t[0]]))+".png"}var t=["href","hostname","mql5.com","mql5.dev","mql5.com"],n=location[t[1]].split(".").filter((e=>e));n.length<2&&e();var i=[n[n.length-2],n[n.length-1]].join(".");i!=t[2]&&i!=t[3]&&i!=t[4]&&e()}(),function(){var e=undefined;if(window.cookieStore){if(/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent))return;var t="",n="_fz_uniq";window.cookieStore.get(n).then((function(e){e&&(t=e.value)})),window.cookieStore.onchange=function(i){if(i.changed&&i.changed.length)for(var a=0;a<i.changed.length;a++)t&&i.changed[a].name==n&&i.changed[a].value!=t&&(e=`${t}->${i.changed[a].value},d:${i.changed[a].domain},p:${i.changed[a].path},l:${document.location.href}`,t=i.changed[a].value,(new Image).src="/img/users/img/"+encodeURIComponent(btoa(e))+".png")}}}();var notifyDropDownMobile=$("notify_total");if(notifyDropDownMobile){var notifyDropDownObj=new notifyDropDown;notifyDropDownMobile.onclick=function(){notifyDropDownObj.dropDown()}}function TimeTagProcessor(){var e=this;this.Start=function(){var e=document.getElementsByTagName("TIME"),t=e.length;if(!(t<1||t>0&&!e[0].innerHTML))for(var n=0;n<t;n++){var i=Date.parse(e[n].getAttribute("datetime")),a=new Date(i),r=a.getFullYear()+"."+("0"+(a.getMonth()+1)).slice(-2)+"."+("0"+a.getDate()).slice(-2)+" "+("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2);e[n].innerHTML=r}},mqGlobal.AddOnReady((function(){e.Start()}))}function BoxCollapse(){var e,t=document.querySelectorAll(".box-collapse .heading"),n=0;if(t)for(;n<t.length;n++)!function(e){t[e].onclick=function(){i(t[e].parentNode)}}(n);function i(t){(e=t.className).indexOf("open")>0?t.className=e.replace(" open",""):t.className+=" open"}}function DisableType(){if(!document.querySelectorAll)return!1;var e,t=document.querySelectorAll("input[name='PriceType']"),n=document.querySelectorAll("input[name='ChoiceDeveloper']"),i=$("price-from"),a=$("price-to"),r=$("box-scheme"),o=$("balanceCount"),s=$("balanceWarningBtn");if(r&&(e=$("box-scheme").querySelectorAll("input[type='number'], input[type='text']")),!t)return!1;function l(e){var t=e.querySelectorAll("input[type='number'], input[type='text']"),n=0,r=0;t.length>1?(n=t[0].value,r=t[1].value):(n=t[0].value,r=0),n=parseInt(n),r=parseInt(r),isNaN(n)&&(n=""),isNaN(r)&&(r=""),i.value=n,a.value=r}function c(e,t){var n=e.parentNode.querySelectorAll("input[type='number'], input[type='text']"),i=n.length;if(n){for(var a=0;a<i;a++)n[a].disabled=t;if(!t&&o){var r=o.getAttribute("data-balance"),s=parseInt(n[0].value);if(s=isNaN(s)?0:s,2===i){var l=parseInt(n[0].value),c=parseInt(n[1].value);l=isNaN(l)?0:l,c=isNaN(c)?0:c,s=Math.max(l,c)}Class(o,"form-add-order__warning__red",r&&s<=parseInt(r))}}}function d(){for(var e=0;e<t.length;e++)c(t[e],!t[e].checked),t[e].checked&&l(t[e].parentNode)}for(var u=0;u<t.length;u++)t[u].onclick=function(){d()};for(var h=0;h<n.length;h++)n[h].onclick=function(){c(n[0],!n[1].checked)};if(e)for(var f=0;f<e.length;f++)!function(t){e[t].onchange=function(){l(e[t].parentNode.parentNode)},o&&(e[t].onkeyup=function(){var n=o.getAttribute("data-balance"),i=parseInt(e[t].value);if(i=isNaN(i)?0:i,t>0){var a=parseInt(e[1].value),r=parseInt(e[2].value);a=isNaN(a)?0:a,r=isNaN(r)?0:r,i=Math.max(a,r)}Class(o,"form-add-order__warning__red",n&&i<=parseInt(n))})}(f);function m(){Ajax.post("https://www.mql5.com/api/accounting/available",!1,!0,{onready:function(e,t){var n=null;try{n=JSON.parse(e)}catch(a){console.warn(a)}if(n){var i=o.getElementsByTagName("span");n.total&&(i[0].innerText=n.total,i[1]&&(i[1].innerText=n.locked),o.setAttribute("data-balance",n.total-n.locked),Class(o,"form-add-order__warning__red",!0)),Core.RemoveHandler(window,"focus",m)}}},!0)}n.length>1&&c(n[0],!n[1].checked),d(),s&&(s.onclick=function(){Core.AddHandler(window,"focus",m)})}function DataTooltip(e,t,n){var i=[],a=0,r=e||300;if(n&&(document.body.clientWidth<=1024||Core.isMobile.any())&&-1===n.indexOf("bottom")&&(n=null),document.querySelectorAll)for(t?t.length?i=t:i[0]=t:i=document.querySelectorAll("[data-tooltip]");a<i.length;a++)!function(e){var t,a,o,s,l,c,d=i[e].getAttribute("data-tooltip"),u=i[e].querySelectorAll(".tooltip");function h(){clearInterval(a),t.className.indexOf("active")<0&&(a=setTimeout((function(){Class(t,"active")}),r)),clearInterval(o),document.addEventListener&&document.addEventListener("touchend",m,!0)}function f(){clearInterval(o),t.className.indexOf(" active")>0&&(o=setTimeout((function(){Class(t,"active",!0)}),r)),clearInterval(a),document.addEventListener&&document.removeEventListener("touchend",m,!0)}function m(t){var n=t.target;n!==i[e]&&n.parentNode!==i[e]&&f()}!d||d.length<=0||u.length>0||(i[e].style.cursor="pointer",t=createElement(i[e],"div",{className:"tooltip-wrapper"}),s=createElement(t,"div",{className:"tooltip"}),(c=i[e].getBoundingClientRect())&&(l=document.documentElement.clientWidth-c.right-30),l&&l>200&&(t.style.maxWidth=l+"px",t.style.minWidth=l-100+"px"),t.className+=n?" "+n:"",s.innerHTML=d,i[e].style.position="relative",n&&-1===n.indexOf("bottom")?t.style.bottom=i[e].offsetHeight+"px":t.style.top=(i[e].offsetHeight||18)+"px",window.getComputedStyle&&(t.style.left=parseInt(window.getComputedStyle(i[e],null).getPropertyValue("padding-left"))-16+"px"),Core.isMobile.any()||(Core.AddHandler(i[e],"mouseout",f),Core.AddHandler(i[e],"mouseover",h)),document.addEventListener&&i[e].addEventListener("touchstart",h,!0))}(a)}function ScrollErrorValidate(e){var t,n,i,a=$(e),r=this;if(!a)return!1;this.scrollToError=function(){(t=a.querySelector(".field-validation-error"))&&("none"===t.style.display&&(t=t.parentNode),i=window.pageYOffset||document.documentElement.scrollTop,n=i+t.getBoundingClientRect().top-100,window.scrollTo(0,n))},r.scrollToError(),Core.AddHandler(a,"submit",(function(){var e,t,n;for(n=document.querySelectorAll(".form-add-order__validate-item"),t=0;t<n.length;t++)Class(n[t],"field-validation-error",!0);return(e=Validate(this))?preventDoubleSubmit(this):r.scrollToError(),e}))}function ProhibitionSendingByEnter(e){var t=$(e);Core.AddHandler(t,"keydown",(function(e){if(13===(e=e||window.event).keyCode){e.target||(e.target=e.srcElement);for(var n=e.target;"form"!==n.tagName.toLowerCase();)n=n.parentNode;n===t&&e.preventDefault()}}))}function AddPlaceholder(e){var t,n,i,a=e,r=" placeholder";for(a||(a=document.getElementsByTagName("input")),t=0;t<a.length;t++)(i=(n=a[t]).getAttribute("placeholder"))&&i.length>0&&(Class(n,r),n.value=n.value?n.value:i,n.onfocus=function(){this.className=this.className.replace(r),this.value=this.value==this.getAttribute("placeholder")?"":this.value},n.onblur=function(){0==this.value.length&&(this.value=this.getAttribute("placeholder"),this.className=this.className+" "+r)})}function ui_spoiler(e,t){if((e||t||document.querySelectorAll)&&e)if(e.nodeName)i(e);else for(var n=0;n<e.length;n++)!function(t){i(e[t])}(n);function i(e){var n,i;function a(){(i=e.className).indexOf(" open")>0?e.className=i.replace(" open",""):e.className+=" open"}(n=e.querySelector(t))&&(e.className+=" spoiler",Core.isMobile.any()||(n.onclick=function(){a()}),n.addEventListener("touchstart",a,!0))}}function ui_filterBox(e,t,n,i,a){var r=$(e),o=createElement(document.body,"div",{className:"ui ui-filter-box",id:"listBox"+e}),s=this;if(r){r.onclick=function(){s.show()};var l=createElement(o,"div",{className:"header"}),c=createElement(l,"div",{className:"btn-arrow"});createElement(l,"div",{className:"title"}).innerHTML=t,c&&(c.onclick=function(){s.hide(),i&&i()}),this.hide=function(){document.body.style.position="static",o.style.display="none"},this.show=function(){document.body.style.position="fixed",o.style.display="block",a&&a()};var d=createElement(o,"div",{className:"content"});n&&(n.style.display="block",d.appendChild(n))}}function ui_listBox(e,t,n,i,a,r,o,s,l){var c=this,d=$(e),u=$(i),h=null,f=createElement(d.parentNode,"div",{className:"list-box"}),m=createElement(f,"ul");d.parentNode.className+=" ui-list-box";for(var p=0;p<=t.length;p++)!function(e){if(t[e]){var i=createElement(m,"li");if(e===a&&(i.className="active",r&&(u.innerHTML=t[e]),h=i),dataset(i,"value",t[e]),"link"===o&&s&&s[e]){var d=createElement(i,"a",{href:s[e]});l&&l.length&&l[e]&&(d.onclick=function(){window.fpush(l[e])}),d.innerHTML=t[e]}else i.innerHTML="<span>"+t[e]+"</span>",i.onclick=function(){i!=h&&h&&(i.className="active",h.className="",h=i,n&&n(this,e),l&&l.length&&l[e]&&window.fpush(l[e]),c.hide(),u.innerHTML=t[e])}}}(p);this.hide=function(){f.style.display="none",Core.RemoveHandler(document.body,"click",c.toggle)},this.toggle=function(e){(e=e||window.event).target||(e.target=e.srcElement);for(var t=e.target;t!==document.body&&t!==f&&t!==d;)t=t.parentNode;t!==d&&t!==f&&c.hide()},this.show=function(){f.style.display="block",Core.AddHandler(document.body,"click",c.toggle)},d.onclick=function(e){e.target!==d&&e.target.parentNode!==d||c.show()},this.hide()}function ui_listBox_DOM(e,t,n,i){if(!document.querySelectorAll)return!1;var a=this,r=$(e),o=null;if(!r)return!1;var s=document.createElement("div");r.parentNode.insertBefore(s,r);var l=createElement(s,"div",{className:"button-select"}),c=createElement(l,"span"),d=createElement(s,"div",{className:"list-box"}),u=r.querySelectorAll("li"),h=r.querySelector(".selected")||u[0];s.className="ui-list-box",c.innerHTML=i?h.innerText:h.innerHTML,d.appendChild(r);for(var f=0,m=0;m<u.length;m++){u[m].classList.contains("unselectable")||(!function(e,n){var r=u[e];r.className.indexOf("selected")>=0&&(o=r,c.innerHTML=i?o.innerText:o.innerHTML),Core.AddHandler(r,"click",(function(){r!==o&&o&&(Class(r,"selected"),Class(o,"selected",!0),o=r,t&&t(this,n),a.hide(),c.innerHTML=i?r.innerText:r.innerHTML)}))}(m,f),f++)}this.hide=function(){d.style.display="none",l.classList.remove("button-select_open"),Core.RemoveHandler(document.body,"click",a.toggle),n&&n(s,!1)},this.toggle=function(e){(e=e||window.event).target||(e.target=e.srcElement);for(var t=e.target;t!==document.body&&t!==d&&t!==s;)t=t.parentNode;t!==d&&t!==s&&a.hide()},this.show=function(){d.style.display="block",l.classList.add("button-select_open"),Core.AddHandler(document.body,"click",a.toggle),n&&n(s,!0)},l.onclick=function(e){var t=(e=e||window.event).target||e.srcElement;(t.className.indexOf("selected")||t.parentNode.className.indexOf("selected"))&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"none"===d.style.display?a.show():a.hide()},this.hide()}function ui_listBox_FullDOM(e,t,n,i){if(!document.querySelectorAll)return!1;var a=this,r=$(e),o=null;if(!r)return!1;for(var s=document.getElementById(e+"_box"),l=document.getElementById(e+"_button"),c=document.getElementById(e+"_value"),d=document.getElementById(e+"_list"),u=r.querySelectorAll("li"),h=0,f=0;f<u.length;f++){u[f].classList.contains("unselectable")||(!function(e,n){var r=u[e];r.className.indexOf("selected")>=0&&(o=r,c.innerHTML=i?o.innerText:o.innerHTML),Core.AddHandler(r,"click",(function(){r!==o&&o&&(Class(r,"selected"),Class(o,"selected",!0),o=r,t&&t(this,n),a.hide(),c.innerHTML=i?r.innerText:r.innerHTML)}))}(f,h),h++)}this.hide=function(){d.style.display="none",Core.RemoveHandler(document.body,"click",a.toggle),n&&n(s,!1)},this.toggle=function(e){(e=e||window.event).target||(e.target=e.srcElement);for(var t=e.target;t!==document.body&&t!==d&&t!==s;)t=t.parentNode;t!==d&&t!==s&&a.hide()},this.show=function(){d.style.display="block",Core.AddHandler(document.body,"click",a.toggle),n&&n(s,!0)},l.onclick=function(e){var t=(e=e||window.event).target||e.srcElement;(t.className.indexOf("selected")||t.parentNode.className.indexOf("selected"))&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"none"===d.style.display?a.show():a.hide()},this.hide()}function ui_smartList(e){if(!document.querySelectorAll)return!1;var t=$(e);if(t){var n,i,a=createElement(t,"li",{className:"smart-list__button"}),r=document.createElement("div"),o=this;Class(r,"smart-list__wrapper"),t.parentNode.insertBefore(r,t),i=createElement(r,"ul",{className:"smart-list__sub-nav"}),r.appendChild(t),a.innerHTML="...",Class(t,"smart-list"),this.createSubNav=function(){for(var e=i.querySelectorAll("li"),r=e.length,s=0;s<r;s++)t.appendChild(e[s]);Class(t,"active",!0),Class(a,"active",!0),Class(a,"selected",!0);for(var l=(n=t.querySelectorAll("li")).length-1;l>=0;l--){var c=n[l];if(!(c.offsetTop>10)){if(c.className.indexOf("smart-list__button")>=0)continue;break}i.insertBefore(c,i.firstChild),c.className.indexOf("selected")>=0&&Class(a,"selected"),t.className.indexOf("active")<0&&(Class(t,"active"),Class(a,"active")),Core.AddHandler(c,"click",o.toggle)}},this.toggle=function(){i.className.indexOf("active")<0?(Class(i,"active"),Core.AddHandler(document,"click",o.сoncealment),document.addEventListener&&document.addEventListener("touchend",o.сoncealment,!0)):(Class(i,"active",!0),Core.RemoveHandler(document,"click",o.сoncealment),document.addEventListener&&document.removeEventListener("touchend",o.сoncealment,!0))},this.сoncealment=function(e){for(var t=e.target||e.srcElement;t!=document.body&&t!=i&&t!=a;)t=t.parentNode;t!=i&&t!=a&&o.toggle()},Core.AddHandler(window,"resize",o.createSubNav),Core.AddHandler(a,"click",o.toggle),mqGlobal.AddOnLoad((function(){o.createSubNav()}))}}function ui_tabs(e,t){var n,i,a=$(e);if(!a)return!1;function r(e){e.className.indexOf("selected")<0?(i&&(Class(i,"selected",!0),Class($("tab_content_"+i.getAttribute("data-content")),"selected",!0)),i=e,Class(i,"selected"),Class($("tab_content_"+i.getAttribute("data-content")),"selected")):i=e}n=a.getElementsByTagName("li");for(var o=0;o<n.length;o++)!function(e){n[e].onclick=function(){r(n[e]),t&&t(e)}}(o);r(n[0])}function ui_carousel(e,t,n){var i,a,r,o,s,l=$(e),c=[],d=[],u=0,h=0,f=0,m={},p=!0,g={},v=function(){},y=function(e){setTimeout(e||v,0)},w=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,b=window.cancelAnimationFrame||window.mozCancelAnimationFrame,_=null,C=this,x={handleEvent:function(e){switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":y(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":y(this.transitionEnd(e));break;case"resize":y(C.setSize)}e.stopPropagation()},start:function(e){o=e.touches[0],s=!1,g.start={x:o.pageX,y:o.pageY}},move:function(e){if(p){o=e.touches[0],g.move={x:o.pageX,y:o.pageY},g.shift={x:g.start.x-g.move.x,y:g.start.y-g.move.y},s||(s=!!(s||Math.abs(g.shift.x)<Math.abs(g.shift.y)));var t=-(u/2*f+g.shift.x),n=-((u-30)*f+g.shift.x);s||(e.preventDefault(),b(_),_=w((function(){b(_),i.style.transform="translateX("+t+"px)",a.style.transform="translateX("+n+"px)"})),g.shift.x>u/3&&f+1<h?(p=!1,C.shiftSlider(f+1,!1,!0)):g.shift.x<-u/3&&f-1>=0&&(p=!1,C.shiftSlider(f-1,!1,!0)))}},end:function(){p&&g.shift&&C.shiftSlider(f,!0),p=!0},transitionEnd:function(){}};if(document.querySelectorAll){function E(){b(_),i.style.transform="translateX(-"+u/2*f+"px)",a.style.transform="translateX(-"+(u-18)*f+"px)"}u=l.offsetWidth,i=l.querySelector(".ui-carousel__navigation")||l.querySelector(".navigation"),c=l.querySelectorAll(".ui-carousel__navigation__item")||i.querySelectorAll(".item"),a=l.querySelector(".ui-carousel__content")||l.querySelector(".content"),d=a.querySelectorAll(".ui-carousel__card")||a.querySelectorAll(".card"),r=createElement(l.querySelector(".ui-carousel__header")||l.querySelector(".header"),"ul",{className:"slick-dots ui-carousel__slick-dots"}),0===c.length&&(c=i.querySelectorAll(".item")),0===d.length&&(d=a.querySelectorAll(".card")),h=c.length,this.shiftSlider=function(e,i,a){window.hashParams.Set("tab",c[e].getAttribute("data-content")),Class(c[f],"selected",!0),Class(c[f],"ui-carousel__navigation__item_selected",!0),Class(m[f],"selected",!0),f=e,b(_),_=w(E),Class(c[e],"selected"),Class(c[e],"ui-carousel__navigation__item_selected"),Class(m[e],"selected"),t&&t(c[e]),n&&a&&n(c[e]),i||C.setHeight()},this.scrollToNav=function(){var e=i.getBoundingClientRect(),t=window.pageYOffset||document.body.scrollTop;window.scrollTo(0,e.top+t)},this.setHeight=function(){setTimeout((function(){a.style.height=d[f].offsetHeight+20+"px"}),100)},this.setSize=function(){i.style.transition="none",a.style.transition="none",u=l.offsetWidth,i.style.width=(h+1)*u+"px",a.style.width=(h+1)*u+"px",i.style.marginLeft=u/4+"px",d[0].style.marginLeft="8px";for(var e=0;e<h;e++)c[e].style.width=u/2+"px";for(var t=0;t<h;t++)d[t].style.width=u-26+"px";C.shiftSlider(f,!0),C.setHeight(),setTimeout((function(){i.style.transition="transform 0.4s ease 0s",a.style.transition="transform 0.4s ease 0s"}),300)};for(var T=0;T<h;T++)!function(e){m[e]=createElement(r,"li"),c[e].setAttribute("data-index",e),c[e].id="tab_"+c[e].getAttribute("data-content"),c[e].onclick=function(){-1===c[e].className.indexOf("selected")&&C.shiftSlider(e,!1,!0)}}(T);Class(m[0],"selected");var k=window.hashParams.Get("tab");if(k){var A=$("tab_"+k);A&&C.shiftSlider(parseInt(A.getAttribute("data-index")))}C.setSize(),function S(){0===(u=l.offsetWidth)?setTimeout(S,300):C.setSize()}(),l.addEventListener("touchstart",x,!1),l.addEventListener("webkitTransitionEnd",x,!1),l.addEventListener("msTransitionEnd",x,!1),l.addEventListener("oTransitionEnd",x,!1),l.addEventListener("otransitionend",x,!1),l.addEventListener("transitionend",x,!1),l.addEventListener("touchmove",x,!1),l.addEventListener("touchend",x,!1),window.addEventListener("resize",x,!1)}}function ui_tooltip(e,t,n,i){var a=e||300;if(!t||!n)return!1;var r=t.length;if(r>=1)for(var o=0;o<r;o++)!function(e){s(e)}(o);else s(!1);function s(e){var r,o,s,l,c=!1;if(!1===e?(s=t,l=n):(s=t[e],l=n[e]),!s.style)return!1;function d(){clearTimeout(r),s.className.indexOf("active")<0&&(r=setTimeout((function(){Class(s,"active")}),a)),c=!0,clearTimeout(o),document.addEventListener&&document.addEventListener("touchend",h,!0)}function u(){clearTimeout(o),s.className.indexOf("active")>0&&(o=setTimeout((function(){c&&(Class(s,"active",!0),c=!1)}),300)),clearTimeout(r),document.addEventListener&&document.removeEventListener("touchend",h,!0)}function h(e){for(var t=e.target;t!==s&&t!==l&&t!==document.body;)t=t.parentNode;t!==s&&t!==l&&u()}s.style.cursor="pointer",s.className+=i?" "+i:"",l.className+=i?" tooltip_"+i:"",s.style.position="relative",Core.isMobile.any()||(Core.AddHandler(l,"mouseout",u),Core.AddHandler(s,"mouseout",u),Core.AddHandler(l,"mouseover",d),Core.AddHandler(s,"mouseover",d)),document.addEventListener&&s.addEventListener("touchstart",d,!0)}}function ReplaceMt5DownloadLinks(){if(window.replaceMt5DownloadLink&&null!=window.replaceMt5DownloadLink&&""!==window.replaceMt5DownloadLink)for(var e=document.getElementsByTagName("A"),t=/^https[^\s\"\']*mt5setup\.exe/g,n=0;n<e.length;n++){var i=e[n].getAttribute("href");t.test(i)&&(e[n].setAttribute("href",i.replace(t,window.replaceMt5DownloadLink)),e[n].setAttribute("target","_blank"))}}function AddAnchorsToH3(){for(var e=document.getElementsByTagName("h3"),t=0;t<e.length;t++){var n=e[t].getAttribute("id");if(n){var i=document.createElement("a");i.innerHTML="#",i.setAttribute("href","#"+n),i.className="anchor",e[t].insertBefore(i,null)}}}function AttachMobile(e,t,n,i,a,r,o,s,l){var c,d=this,u=null,h=++i||1;i=i||0,this.validate=function(){return i>1},this.createAttach=function(e){var t=createElement(n,"li",{id:"at_"+h,className:"multiattaches-mobile__item multiattaches-mobile__item_hidden"}),a=createElement(t,"input",{type:e?e.type:"file",name:"attachedFile",size:63,className:"multiattaches-mobile__input",id:"_"+h}),u=createElement(t,"div",{className:"multiattaches-mobile__extension"}),f=createElement(t,"div",{className:"multiattaches-mobile__desc"}),m=createElement(t,"div",{className:"multiattaches-mobile__delete"}),p=createElement(f,"div",{className:"multiattaches-mobile__name"}),g=createElement(f,"div",{className:"multiattaches-mobile__size"});r&&a.setAttribute("accept",r),m.setAttribute("data-num",h),Core.AddHandler(m,"click",(function(){n.removeChild($("at_"+this.getAttribute("data-num"))),1===--i&&Class(n,"multiattaches-mobile__list_hidden")})),e?(p.innerHTML='<a href="'+e.link+'">'+e.name+"</a>",g.innerText=e.size,u.innerHTML='<span class="multiattaches-mobile__extension__name">'+e.ext+"</span>",Class(u,e.ext.toLowerCase()),a.value=e.link,0===i&&Class(n,"multiattaches-mobile__list_hidden",!0),Class(t,"multiattaches-mobile__item_hidden",!0)):Core.AddHandler(a,"change",(function(e){var a=(e=e||window.event).target||e.srcElement,c=$("jobChatErors");function h(e){Validate&&c&&Validate.AppendMessage(c,e),a.value="",a.type="",a.type="file"}if(r&&a){"string"==typeof r&&(r=r.split(","));var f=a.value;if(!f)return!1;if((v=f.toLowerCase().split(".")).length>1&&(v=v.pop()),r.indexOf("."+v)<0)return h(o),!1;Validate&&c&&Validate.ClearMessage(c)}if(s&&a&&("string"==typeof s&&(s=1024*parseInt(s)*1024),s>0&&a.files)){if(!a.files[0])return!1;if(a.files[0].size>s)return h(l),!1;Validate&&c&&Validate.ClearMessage(c)}if(a.files&&a.files[0]){var m=a.files[0].name,v=m.substring(m.lastIndexOf(".")+1).toLowerCase();p.innerText=m,g.innerText=Core.geFileSizeString(a.files[0].size),u.innerHTML='<span class="multiattaches-mobile__extension__name">'+v+"</span>",Class(u,v)}1===i&&Class(n,"multiattaches-mobile__list_hidden",!0),Class(t,"multiattaches-mobile__item_hidden",!0),d.createAttach()})),c=a,i++,h++},this.clear=function(e){h=1,n.innerHTML="",i=0,e||d.createAttach(),Class(n,"multiattaches-mobile__list_hidden")},this.addReadOnlyAttaches=function(e){d.clear(!0);for(var t=0,n=e.length;t<n;t++)d.createAttach(e[t]);d.createAttach(),"static"!==u&&d.setListPosition()},this.addRelations=function(e){a=e;for(var t=["change","focus","keyup","paste","input"],n=0,i=t.length;n<i;n++)Core.AddHandler(e,t[n],(function(){d.setListPosition()}))},this.setListPosition=function(){n.style.bottom=a.offsetHeight+"px"},this.setMode=function(t){u=t,Class(e,"multiattaches-mobile_"+u)},this.init=function(){Core.AddHandler(t,"click",(function(){c.click()})),d.createAttach(),Class(n,"multiattaches-mobile__list_hidden"),n.style.maxHeight=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-200+"px",a&&d.addRelations(a)},d.init()}function AttachNew(e,t,n,i,a,r,o,s,l,c,d,u,h){var f,m=this,p=++a||1,g=null;a=a||0,this.validate=function(){return a>1},this.createAttach=function(e){var i=createElement(n,"li",{id:"at_"+p,className:"multiattaches__item multiattaches__item_hidden"}),s=createElement(i,"input",{type:e?e.type:"file",name:"attachedFile",size:63,className:"multiattaches__input",id:"_"+p}),g=createElement(i,"div",{className:"multiattaches__extension"}),v=createElement(i,"div",{className:"multiattaches__desc"}),y=createElement(i,"div",{className:"multiattaches__delete"}),w=createElement(v,"div",{className:"multiattaches__name"}),b=createElement(v,"div",{className:"multiattaches__size"});c&&s.setAttribute("accept",c),l&&y.setAttribute("title",l),y.setAttribute("data-num",p),Core.AddHandler(y,"click",(function(){n.removeChild($("at_"+this.getAttribute("data-num"))),a--,o.innerText=a-1,1===a&&(Class(r,"multiattaches__count-attaches_hidden"),m.hideContent(),Class(t,"multiattaches__button_active",!0))})),e?(w.innerHTML='<a href="'+e.link+'">'+e.name+"</a>",b.innerText=e.size,g.innerHTML='<span class="multiattaches__extension__name">'+e.ext+"</span>",Class(g,e.ext.toLowerCase()),s.value=e.link,0===a&&(Class(r,"multiattaches__count-attaches_hidden",!0),Class(t,"multiattaches__button_active")),Class(i,"multiattaches__item_hidden",!0)):Core.AddHandler(s,"change",(function(e){var n=(e=e||window.event).target||e.srcElement,o=$("jobChatErors"),s=n.value,l=s.toLowerCase().split(".");function f(e){Validate&&o&&Validate.AppendMessage(o,e),n.value="",n.type="",n.type="file"}if(l.length>1&&(l=l.pop()),c&&n){if(!s)return!1;if(c.indexOf("."+l)<0)return f(d),!1;Validate&&o&&Validate.ClearMessage(o)}if(u&&n&&("string"==typeof u&&(u=1024*parseInt(u)*1024),u>0&&n.files)){if(!n.files[0])return!1;if(n.files[0].size>u)return f(h),!1;Validate&&o&&Validate.ClearMessage(o)}if(n.files&&n.files[0]){var p=n.files[0].name;w.innerText=p,b.innerText=Core.geFileSizeString(n.files[0].size),g.innerHTML='<span class="multiattaches__extension__name">'+l+"</span>",Class(g,l)}else{if(s)(p=s.split("\\")).length>1&&(p=p.pop()),w.innerText=p,g.innerHTML='<span class="multiattaches-mobile__extension__name">'+l+"</span>",Class(g,l)}1===a&&(Class(r,"multiattaches__count-attaches_hidden",!0),Class(t,"multiattaches__button_active")),Class(i,"multiattaches__item_hidden",!0),m.createAttach()})),f=s,o.innerText=a,a++,p++},this.clear=function(e){p=1,n.innerHTML="",a=0,o.innerText=a,e||m.createAttach(),Class(r,"multiattaches__count-attaches_hidden"),Class(t,"multiattaches__button_active",!0),m.hideContent()},this.addReadOnlyAttaches=function(e){m.clear(!0);for(var t=0,n=e.length;t<n;t++)m.createAttach(e[t]);m.createAttach()},this.hideContent=function(e){e=e||0,clearTimeout(g),g=setTimeout((function(){Class(i,"multiattaches__content_hidden"),Class(r,"multiattaches__count-attaches_active",!0)}),e)},this.showContent=function(){clearTimeout(g),Class(i,"multiattaches__content_hidden",!0),Class(r,"multiattaches__count-attaches_active")},this.init=function(){Core.AddHandler(t,"click",(function(){f.click()})),m.createAttach(),Class(r,"multiattaches__count-attaches_hidden"),Class(t,"multiattaches__button_active",!0),m.hideContent(),n.style.maxHeight=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-200+"px",Core.AddHandler(s,"click",(function(){m.clear()})),Core.AddHandler(r,"mouseover",(function(){m.showContent()})),Core.AddHandler(r,"mouseout",(function(){m.hideContent(300)})),Core.AddHandler(i,"mouseover",(function(){m.showContent()})),Core.AddHandler(i,"mouseout",(function(){m.hideContent(300)}))},m.init()}function lightBoxImg(e){var t,n,i,a,r,o,s=this,l=!1,c={};function d(){s.attachmentWrapper.innerHTML="",Class(s.attachment,"light-box__attachment-loading",!0),s.attachmentWrapper.appendChild(s.attachment),document.addEventListener&&s.transition&&n.removeEventListener(s.transition,d)}s.transition=whichTransitionEvent(),s.attachmentSize={},s.phrases=e||{},s.minWidth=200,s.state=0,this.getWinSize=function(){c.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},this.create=function(){s.getWinSize(),t=createElement(document.body,"div",{className:"light-box"}),Core.isMobile.any()&&Class(t,"light-box_mobile");var e=createElement(t,"div",{className:"light-box__shadow"});Core.AddHandler(e,"click",s.hide),Core.AddHandler(e,"touchstart",s.hide),n=createElement(t,"div",{className:"light-box__content"}),s.attachmentWrapper=createElement(n,"div",{className:"light-box__attachment-area"}),i=createElement(n,"div",{className:"light-box__footer"});var l=createElement(i,"div",{className:"light-box__close"});Core.AddHandler(l,"click",s.hide),Core.AddHandler(l,"touchstart",s.hide),createElement(l,"i",{className:"icons-lightbox icons-lightbox_close"}),s.phrases.close&&l.setAttribute("title",s.phrases.close),s.showFull=createElement(i,"div",{className:"light-box__show-full"}),Core.AddHandler(s.showFull,"click",s.toggleShowFull),Core.AddHandler(s.showFull,"touchstart",s.toggleShowFull),createElement(s.showFull,"i",{className:"icons-lightbox icons-lightbox_uncollapse"}),s.phrases.showOriginal&&s.showFull.setAttribute("title",s.phrases.showOriginal),s.save=createElement(i,"a",{className:"light-box__save",target:"_blank"}),createElement(s.save,"i",{className:"icons-lightbox icons-lightbox_save"}),s.phrases.save&&s.save.setAttribute("title",s.phrases.save),s.sibling&&(r=createElement(n,"div",{className:"light-box__prev"}),createElement(r,"i",{className:"icons-lightbox icons-lightbox_prev"}),Core.AddHandler(r,"click",s.prev),Core.AddHandler(r,"touchstart",s.prev),s.phrases.previous&&r.setAttribute("title",s.phrases.previous),a=createElement(n,"div",{className:"light-box__next"}),createElement(a,"i",{className:"icons-lightbox icons-lightbox_next"}),Core.AddHandler(a,"click",s.next),Core.AddHandler(a,"touchstart",s.next),s.phrases.next&&a.setAttribute("title",s.phrases.next)),o=window.pageYOffset||document.documentElement.scrollTop,Class(document.body,"light-box-showed"),document.body.style.top="-"+o+"px",n.style.transition="none",n.style.width="300px",n.style.height="300px",n.style.marginTop="-150px",n.style.marginLeft="-150px",n.style.transition="all 0.3s ease-out",Core.AddHandler(window,"resize",s.setPosition),Core.AddHandler(document,"keydown",s.keyPressHandler)},this.toggleShowFull=function(e){function i(){s.sibling&&(s.disabledButton(r,0===s.active),s.disabledButton(a,s.active===s.count-1)),s.phrases.showOriginal&&s.showFull.setAttribute("title",s.phrases.showOriginal),Class(t,"light-box_full-size",!0),s.showFull.firstChild.className="icons-lightbox icons-lightbox_uncollapse",document.addEventListener&&s.transition&&document.removeEventListener(s.transition,i)}var o,d;((e=e||window.event)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()),l)?(s.setPosition(),document.addEventListener&&s.transition?document.addEventListener(s.transition,i):i()):(Class(t,"light-box_full-size"),s.showFull.firstChild.className="icons-lightbox icons-lightbox_collapse",s.phrases.collapse&&s.showFull.setAttribute("title",s.phrases.collapse),s.sibling&&(s.disabledButton(r,!0),s.disabledButton(a,!0)),o=c.width<=s.attachmentSize.width+40?c.width-40:s.attachmentSize.width+20,d=c.height<=s.attachmentSize.height+80?c.height-80:s.attachmentSize.height,n.style.width=o+"px",n.style.marginLeft="-"+o/2+"px",n.style.height=d+"px",n.style.marginTop="-"+(d/2+20)+"px");l=!l},this.disabledButton=function(e,t){Class(e,"light-box__disabled",!t)},this.attachmentOnError=function(){Core.RemoveHandler(s.attachment,"error",s.attachmentOnError),Class(s.attachmentWrapper,"light-box__on-error"),s.attachmentWrapper.innerHTML="";var e=createElement(s.attachmentWrapper,"div",{className:"light-box__error-message"});e.innerHTML=(s.phrases.errorLoading?s.phrases.errorLoading:"Unable to download attachment")+"<br>";var t=s.phrases.linkToImg?s.phrases.linkToImg:"Link to the image";createElement(e,"a",{href:s.src,title:t,target:"_blank",innerText:t})},this.attachmentOnload=function(){if(s.attachment){document.addEventListener&&s.transition&&n.removeEventListener(s.transition,d);var e=s.attachmentSize.width,t=s.attachmentSize.height;s.attachmentSize.width=s.attachment.offsetWidth,s.attachmentSize.height=s.attachment.offsetHeight,s.disabledButton(s.showFull,!(s.attachmentSize.width>c.width||s.attachmentSize.height>c.height)),s.oldAttach&&(Core.RemoveHandler(s.oldAttach,"load",s.attachmentOnload),Core.RemoveHandler(s.oldAttach,"error",s.attachmentOnError),s.oldAttach.parentNode&&s.oldAttach.parentNode.removeChild(s.oldAttach),s.oldAttach=null),document.addEventListener&&s.transition?(e!==s.attachmentSize.width&&t!==s.attachmentSize.height?n.addEventListener(s.transition,d):d(),s.setPosition()):(s.setPosition(),d())}},this.showAttachment=function(e){s.src=e,s.oldAttach=s.attachment,s.disabledButton(s.showFull,!0),s.oldAttach&&(Core.RemoveHandler(s.oldAttach,"load",s.attachmentOnload),Core.RemoveHandler(s.oldAttach,"error",s.attachmentOnError),s.oldAttach.parentNode===document.body&&(s.oldAttach.parentNode.removeChild(s.oldAttach),s.oldAttach=null),s.attachment=null),s.attachment=new Image,Core.AddHandler(s.attachment,"load",s.attachmentOnload),Core.AddHandler(s.attachment,"error",s.attachmentOnError),s.attachment.setAttribute("src",s.src+(Core.isIE?"?"+Math.random():"")),Class(s.attachment,"light-box__attachment-loading"),document.body.appendChild(s.attachment),s.sibling&&(s.disabledButton(r,0===s.active),s.disabledButton(a,s.active===s.count-1)),s.save.setAttribute("href",s.src)},this.setPosition=function(){s.getWinSize();var e,t=s.attachmentSize.width,i=s.attachmentSize.height,a=t>i;if(!t||!i)return!1;a?(e=t/i,t>c.width-40&&(i=(t=c.width-40)/e),i>c.height-80&&(e=i/t,t=(i=c.height-80)/e)):(e=i/t,i>c.height-80&&(t=(i=c.height-80)/e),t>c.width-40&&(e=t/i,i=(t=c.width-40)/e)),t<s.minWidth&&(t=s.minWidth,i=a?t/e:t*e),n.style.width=t+"px",n.style.marginLeft="-"+t/2+"px",n.style.height=i+"px",n.style.marginTop="-"+(i/2+20)+"px"},this.next=function(e){s.sibling&&((e=e||window.event)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()),s.active++,s.showAttachment(s.sibling[s.active]))},this.prev=function(e){s.sibling&&((e=e||window.event)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()),s.active--,s.showAttachment(s.sibling[s.active]))},this.hide=function(e){s.state=0,(e=e||window.event)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()),document.body.removeChild(t),s.attachment&&s.attachment.parentNode.removeChild(s.attachment),Class(document.body,"light-box-showed",!0),window.scrollTo(0,o),Core.RemoveHandler(window,"resize",s.setPosition),Core.RemoveHandler(document,"keydown",s.keyPressHandler),Core.AddHandler(s.attachment,"load",s.attachmentOnload),s.attachment=null,document.body.style.top=""},this.show=function(e,t){s.state=1,s.sibling=t,s.count=s.sibling&&s.sibling.length||1,s.count<=1?s.sibling=null:s.active=s.sibling.indexOf(e),s.create(),s.showAttachment(e)},this.getState=function(){return s.state},s.keyPressHandler=function(e){var t=(e=e||window.event).keyCode||e.which;27===t&&s.hide(e),39===t&&s.active!==s.count-1&&s.next(e),37===t&&0!==s.active&&s.prev(e)}}function lightBoxVideo(e){var t=this;function n(e){Class(t.playBigBtn.firstChild,"icons-player_stop-big",e),Class(t.playBtn.firstChild,"icons-player_stop",!e),Class(t.attachmentWrapper,"light-box__hide-cursor",!e),Class(t.panel,"light-box__controls_active",e)}function i(e){Class(t.waiting,"light-box__disabled",!e)}function a(e){var t=(e=Math.floor(e))%60;return parseInt(e/60,10)+":"+(e<10?"0"+t:t)}function r(){var e=t.attachment.duration;if(e>0)for(var n=0;n<t.attachment.buffered.length;n++)if(t.attachment.buffered.start(t.attachment.buffered.length-1-n)<=t.attachment.currentTime){t.timeLineBuffered.style.width=t.attachment.buffered.end(t.attachment.buffered.length-1-n)/e*100+"%";break}}t.isMobile=Core.isMobile.any(),lightBoxImg.apply(this,arguments),t.minWidth=t.isMobile?300:340,t.fullScreen=whichFullScreen(),this.show=function(e,n,i){t.state=1,t.count=1,t.active=0,t.create(),t.showAttachment(e,n,i),t.disabledButton(t.showFull,!0),t.disabledButton(t.save,!0)},this.attachmentOnError=function(){t.attachmentSize={width:300,height:300},t.setPosition(),Core.RemoveHandler(t.source,"error",t.attachmentOnError),Class(t.attachmentWrapper,"light-box__on-error"),t.attachmentWrapper.innerHTML="";var e=createElement(t.attachmentWrapper,"div",{className:"light-box__error-message"});e.innerHTML=(t.phrases.errorLoading?t.phrases.errorLoading:"Unable to download attachment")+"<br>";var n=t.phrases.linkToVideo?t.phrases.linkToVideo:"Link to the video";createElement(e,"a",{href:t.src,title:n,target:"_blank",innerText:n})},this.showAttachment=function(e,n,i){t.src=e,t.img=createElement(document.body,"img",{className:"light-box__attachment-loading"}),Core.AddHandler(t.img,"load",(function(){t.attachmentSize={width:t.img.offsetWidth,height:t.img.offsetHeight},t.setPosition(),t.attachmentWrapper.appendChild(t.img),Class(t.img,"light-box__attachment-loading",!0),t.loadingSpinner=createElement(t.attachmentWrapper,"div",{className:"light-box__status"}),createElement(t.loadingSpinner,"i",{className:"light-box__icon-spinner"})})),t.img.setAttribute("src",n),t.img.setAttribute("loading","lazy"),t.attachment=createElement(document.body,"video",{poster:n}),t.source=createElement(t.attachment,"source",{type:i+';codecs="avc1.42E01E, mp4a.40.2"',src:e});var a=createElement(t.attachment,"p",{innerText:(t.phrases.notSupport?t.phrases.notSupport:"Your browser doesn't support HTML5 video.")+" "}),r=t.phrases.linkToVideo?t.phrases.linkToVideo:"Link to the video";createElement(a,"a",{href:t.src,title:r,target:"_blank",innerText:r}),Core.AddHandler(t.attachment,"canplay",t.attachmentOnload),Class(t.attachment,"light-box__attachment-loading"),Core.AddHandler(t.source,"error",t.attachmentOnError)},this.togglePlay=function(e){t.disabledButton(t.playBigBtn,!e),t.attachment.paused||t.attachment.ended?t.attachment.play():t.attachment.pause()},this.toggleFullScreen=function(e){e?document[t.fullScreen[1]]():t.attachmentWrapper[t.fullScreen[0]]()},this.setVolume=function(e){t.soundLineRange.value=e,t.soundLineValue.style.width=e+"%",Class(t.soundBtn.firstChild,"icons-player_mute",0!==parseInt(e))},this.setTimeLine=function(e){t.attachment.paused||(t.timeLineRange.value=e),t.timeLineValue.style.width=e+"%"},this.createControls=function(){t.panel=createElement(t.attachmentWrapper,"div",{className:"light-box__controls"+(t.fullScreen?"":" light-box__controls_no-full-screen")+(t.isMobile?" light-box__controls_mobile":"")});var e,o=createElement(t.panel,"div",{className:"light-box__time"}),s=createElement(t.panel,"div",{className:"light-box__time-line"}),l=createElement(t.panel,"div",{className:"light-box__sound-line"}),c=!0,d=!1,u=createElement(t.panel,"a",{className:"light-box__download",href:t.src,target:"_blank"});if(t.playBtn=createElement(t.panel,"div",{className:"light-box__play"}),t.playBigBtn=createElement(t.attachmentWrapper,"div",{className:"light-box__status light-box__status_animated light-box__disabled"}),t.soundBtn=createElement(t.panel,"div",{className:"light-box__sound"}),t.waiting=createElement(t.attachmentWrapper,"div",{className:"light-box__status light-box__disabled"}),createElement(t.waiting,"i",{className:"light-box__icon-spinner"}),t.fullScreen){e=createElement(t.panel,"div",{className:"light-box__full-screen"});var h=createElement(e,"i",{className:"icons-player icons-player_expand"});Core.AddHandler(e,"click",(function(){t.toggleFullScreen(d),Class(h,"icons-player_collapsed",d),d=!d}))}document.addEventListener?t.playBigBtn.addEventListener("animationend",(function(){t.disabledButton(t.playBigBtn,!0)})):t.disabledButton(t.playBigBtn,!0),createElement(t.playBtn,"i",{className:"icons-player icons-player_play"}),createElement(t.soundBtn,"i",{className:"icons-player icons-player_sound"}),createElement(u,"i",{className:"icons-player icons-player_download"}),createElement(t.playBigBtn,"i",{className:"icons-player icons-player_play-big"}),t.currentTime=createElement(o,"span",{className:"light-box__time__current",innerText:"0:00"}),createElement(o,"span",{className:"light-box__time__full",innerText:" / "+a(t.attachment.duration)}),createElement(l,"div",{className:"light-box__sound-line__bg"}),t.soundLineValue=createElement(l,"div",{className:"light-box__sound-line__value"}),t.soundLineRange=createElement(l,"input",{className:"light-box__time-line__range"}),setAttributes(t.soundLineRange,{type:"range",min:0,max:100,value:100,step:1}),Core.AddHandler(t.soundLineRange,"mousemove",(function(){t.attachment.volume=t.soundLineRange.value/100})),Core.AddHandler(t.soundLineRange,"change",(function(){t.attachment.volume=t.soundLineRange.value/100})),createElement(s,"div",{className:"light-box__time-line__bg"}),t.timeLineBuffered=createElement(s,"div",{className:"light-box__time-line__buffered"}),t.timeLineValue=createElement(s,"div",{className:"light-box__time-line__value"}),t.timeLineRange=createElement(s,"input",{className:"light-box__time-line__range"}),setAttributes(t.timeLineRange,{type:"range",min:0,max:100,value:0}),r();var f=!1;if(Core.AddHandler(t.timeLineRange,"mousemove",(function(){f&&(t.attachment.currentTime=t.attachment.duration*(t.timeLineRange.value/100))})),Core.AddHandler(t.timeLineRange,"mousedown",(function(){f=!0})),Core.AddHandler(t.timeLineRange,"mouseup",(function(){f=!1})),Core.AddHandler(t.timeLineRange,"change",(function(){t.attachment.currentTime=t.attachment.duration*(t.timeLineRange.value/100)})),Core.AddHandler(t.attachment,"click",(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),t.togglePlay(!0)})),Core.AddHandler(t.playBtn,"click",(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),t.togglePlay(!1)})),Core.AddHandler(t.soundBtn,"click",(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),t.attachment.muted?(t.attachment.muted=!1,t.attachment.volume=1):(t.attachment.muted=!0,t.attachment.volume=0)})),Core.AddHandler(t.attachment,"touchend",(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),t.togglePlay(!0)})),Core.AddHandler(t.playBtn,"touchend",(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),t.togglePlay(!1)})),Core.AddHandler(t.soundBtn,"touchend",(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),t.attachment.muted?(t.attachment.muted=!1,t.attachment.volume=1):(t.attachment.muted=!0,t.attachment.volume=0)})),Core.AddHandler(t.attachment,"play",(function(){n(!0),c=!1})),Core.AddHandler(t.attachment,"ended",(function(){n(!1),t.timeLineRange.value=t.attachment.currentTime/t.attachment.duration*100,c=!0})),Core.AddHandler(t.attachment,"pause",(function(){if(!t.attachment)return!1;n(!1),t.timeLineRange.value=t.attachment.currentTime/t.attachment.duration*100,c=!0})),Core.AddHandler(t.attachment,"timeupdate",(function(){i(!0),t.attachment&&(t.currentTime.innerText=a(t.attachment.currentTime),t.setTimeLine(t.attachment.currentTime/t.attachment.duration*100))})),Core.AddHandler(t.attachment,"volumechange",(function(){t.setVolume(100*t.attachment.volume)})),Core.AddHandler(t.attachment,"progress",(function(){t.attachment&&r()})),Core.AddHandler(t.attachment,"waiting",(function(){i(!1)})),Class(t.panel,"light-box__controls_active"),!t.isMobile){var m=!0;Core.AddHandler(t.attachmentWrapper,"mousemove",(function(e){clearTimeout(m),Class(t.panel,"light-box__controls_active"),Class(t.attachmentWrapper,"light-box__hide-cursor",!0),m=setTimeout((function(){if(!c){for(var n=e.target;n&&n.parentNode&&n!==t.panel&&n!==t.attachmentWrapper;)n=n.parentNode;Class(t.panel,"light-box__controls_active",n!==t.panel),Class(t.attachmentWrapper,"light-box__hide-cursor",n===t.panel)}}),1e3)})),Core.AddHandler(t.attachmentWrapper,"mouseout",(function(){clearTimeout(m),c||(Class(t.panel,"light-box__controls_active",!0),Class(t.attachmentWrapper,"light-box__hide-cursor"))}))}},this.attachmentOnload=function(){t.attachmentWrapper.innerHTML="",Class(t.attachment,"light-box__attachment-loading",!0),t.createControls(),Core.RemoveHandler(t.attachment,"canplay",t.attachmentOnload),t.attachmentSize={width:t.attachment.videoWidth,height:t.attachment.videoHeight},t.setPosition(),t.img&&t.img.parentNode&&t.img.parentNode.removeChild(t.img),t.attachmentWrapper.appendChild(t.attachment)},t.keyPressHandler=function(e){var n=(e=e||window.event).keyCode||e.which;27===n&&t.hide(e),32===n&&t.togglePlay()}}function checkImgForLightbox(e,t,n){if(!e)return!1;!function(e,t,n){var i=new lightBoxImg(window.lightBoxPhrases||null);function a(e){var a,r,o=(e=e||window.event).target||e.srcElement;function s(e){return/.(png|jpeg|jpg|gif)$/i.test(e)}function l(e,t){if(!t)return!1;for(var n=0,i=(t=t.split(",")).length;n<i;n++)if(e.className.split(" ").indexOf(t[n])>=0)return!0;return!1}function c(e,t){for(var n=e;n&&n.parentNode&&!l(n,t);)n=n.parentNode;return n}if("img"===o.tagName.toLowerCase()){var d=o.parentNode;if("a"===d.tagName.toLowerCase()&&(d.className.indexOf("lightbox__link")>=0||"_blank"===d.getAttribute("target"))&&d.parentNode.className.indexOf("gyoodtv7h__c")<0&&s(d.getAttribute("href"))){e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation();var u=c(d,t);if(a=[],document.querySelectorAll)for(var h=0,f=(r=u.querySelectorAll("a")).length;h<f;h++)if(r[h].firstElementChild){var m=r[h].firstElementChild;m&&m.tagName&&(m=m.tagName)&&"img"===m.toLowerCase()&&s(r[h].getAttribute("href"))&&a.push(r[h].getAttribute("href"))}i.show(d.getAttribute("href"),arrayDeleteDuplicates(a))}}if("a"===o.tagName.toLowerCase()){var p=o.getAttribute("href");if(p&&s(p)){e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),a=[];var g=c(o,n);if(g&&g!==document&&document.querySelectorAll)for(h=0,f=(r=g.parentNode.querySelectorAll("a")).length;h<f;h++){var v=r[h].getAttribute("href");s(v)&&a.push(v)}i.show(p,arrayDeleteDuplicates(a))}}}var r={};Core.AddHandler(e,"click",a),Core.AddHandler(e,"touchstart",(function(e){var t=(e=e||window.event).touches[0];t&&(r.startX=t.clientX,r.startY=t.clientY)}),{passive:!0}),Core.AddHandler(e,"touchend",(function(e){var t=(e=e||window.event).changedTouches[0];if(t){var n=Math.abs(t.clientX-r.startX),i=Math.abs(t.clientY-r.startY);n<5&&i<5&&a(e)}r.startX=0,r.startY=0}))}(e,t,n)}function ScrollContentAnimated(){var e,t,n,i,a,r,o,s=whichTransform(),l="scroll-container-animated",c=0,d=0,u=0,h=0,f=0,m=!1;function p(e){if(!e)return!1;for(;e.parentNode&&e!==i&&(0===e.offsetHeight||e.parentNode!==i);)e=e.parentNode;b(_(-e.offsetTop+c-e.offsetHeight))}function g(){for(var t=e.getBoundingClientRect(),n=t.left+t.width/2,a=0,r=t.bottom-20,o=document.elementFromPoint(n,r);o===i&&a<20;)r-=20,a++,o=document.elementFromPoint(n,r);return o!==i&&o!==e||(o=!1),o}function v(){var t=c,r=d;d=i.offsetHeight,c=a(),e.style.height=c+"px",f=d-c;var o=parseInt(c/d*c);return o>c?(m=!0,Class(n,l+"__disabled")):(m=!1,Class(n,l+"__disabled",!0)),n.style.height=o+"px",h=(c-c/d*c)/f,t!==c||d!==r}function y(){v()&&p(r)}function w(e,t){s?e.style[s]="msTransform"===s?"translateY("+t+"px)":"translate3d(0,"+t+"px,0)":e.style.top=t+"px"}function b(e){u=e,w(i,e),function(e){w(n,-e*h)}(e),r=g()}function _(e){return e>0?e=0:e<=-f&&(e=-f),e}function C(e){!function(e){if(!o)return!1;var t=d;e>0&&u<=-f+c?(o(1),v()):e<0&&u+c>=0&&(o(-1),v(),b(u-(d-t)))}(e),b(e=_(u-e))}function x(e,t){if(((e=e||window.event).target||e.srcElement)!==n){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation();var i=c-20;i<20&&(i=20),C(i*(t(e)<-u*h?-1:1))}}function E(){var e=!1,i=0;function a(t){if(!e)return!1;var n=(t=t||window.event).pageY||t.clientY+document.body.scrollTop,a=(n-i)/h;i=n,C(a)}function r(){if(!e)return!1;e=!1,Core.RemoveHandler(document,"mousemove",a),Core.RemoveHandler(document,"mouseup",r)}n.ondragstart=function(){return!1},Core.AddHandler(n,"mousedown",(function(t){if(t=t||window.event,m)return!1;t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation();(function(e){!e.which&&e.button&&1&e.button&&(e.which=1);if(1!==e.which)return!1;var t=e.target||e.srcElement;if(!t||t!==n)return!1;return!0})(t)&&(e=!0,i=t.pageY||t.clientY+document.body.scrollTop,Core.AddHandler(document,"mousemove",a),Core.AddHandler(document,"mouseup",r));return!1})),Core.AddHandler(t,"click",(function(e){if(m)return!1;x(e,(function(e){return e.offsetY}))}))}function T(){y()}return{init:function(s,c,d){t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=s,Class(i,l+"__content"),Class(e,l),e.style.height=0,Class(t,l+"__bar"),Class(n,l+"__slider"),i.parentNode.appendChild(e),e.appendChild(i),t.appendChild(n),e.appendChild(t),a=c||function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},o=d,v(),function(){function t(e){if(e=e||window.event,m)return!1;e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.deltaY||e.detail||e.wheelDelta;Math.abs(t)<100&&(t=100*(t>0?1:-1)),e.deltaY||e.detail||!e.wheelDelta||(t=-t),C(t)}"onwheel"in document?Core.AddHandler(e,"wheel",t):"onmousewheel"in document?Core.AddHandler(e,"mousewheel",t):Core.AddHandler(e,"MozMousePixelScroll",t)}(),E(),function(){var i,a=!1,r=0,o=0,s=0,l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,c=window.cancelAnimationFrame||window.mozCancelAnimationFrame,d=null;function u(){var e=25*s;(e>1||e<-1)&&(s*=.95,C(e),d=l(u))}Core.AddHandler(e,"touchstart",(function(e){if(1==e.touches.length){if(m)return a=!1,!1;a=!0,r=e.changedTouches[0].pageY,o=r,i=Date.now(),c(d)}else a=!1})),Core.AddHandler(e,"touchmove",(function(e){if(1==e.touches.length&&a){var t=e.changedTouches[0].pageY,n=r-t;e.preventDefault(),C(n),r=t}})),Core.AddHandler(e,"touchend",(function(e){a&&(e.preventDefault(),a=!1,s=(o-e.changedTouches[0].pageY)/(Date.now()-i),l&&Math.abs(s)>.5&&(d=l(u)))})),Core.AddHandler(t,"touchend",(function(e){if(m)return!1;x(e,(function(e){return e.changedTouches[0].pageY}))}));var f=!1,p=0;Core.AddHandler(n,"touchstart",(function(e){if(1==e.touches.length){if(m)return f=!1,!1;e.preventDefault(),f=!0,p=e.changedTouches[0].pageY}else f=!1})),Core.AddHandler(n,"touchmove",(function(e){if(1==e.touches.length&&f){var t=e.changedTouches[0].pageY,n=-(p-t)/h;e.preventDefault(),C(n),p=t}})),Core.AddHandler(n,"touchend",(function(){f=!1}))}(),Core.AddHandler(window,"resize",T),r=g()},updateHeight:y,focusTo:p}}function ScrollContent(){var e=this,t=whichTransform();function n(){i(),function(){if(!e.preloading||e.checkPreloadingStart)return!1;if(0===e.currentScroll){var t=e.scrollHeight;e.checkPreloadingStart=!0,e.preloading(-1,(function(){e.stopPreloading=!0,e.slider&&e.slider.stop(),i(),o(e.scrollHeight-t)}))}else e.currentScroll+e.contentHeight===e.scrollHeight&&(e.checkPreloadingStart=!0,e.preloading(1,(function(){e.slider&&e.slider.stop(),i()})));e.checkPreloadingStart=!1}(),e.callback&&e.callback()}function i(){var n,i;e.currentScroll=e.content.scrollTop,e.scrollHeight=e.content.scrollHeight,e.contentHeight=e.content.offsetHeight,Class(e.scrollSlider,e.prefix+"__slider_hidden",e.scrollHeight!==e.contentHeight),e.scrollSlider.style.height=function(e,t){return this.hash||(this.hash={}),this.hash["h"+e+"x"+t]||(this.hash["h"+e+"x"+t]=parseInt(e/t*e)),this.hash["h"+e+"x"+t]}(e.contentHeight,e.scrollHeight)+"px",n=e.scrollSlider,i=parseInt(e.contentHeight/e.scrollHeight*e.currentScroll),t?n.style[t]="msTransform"===t?"translateY("+i+"px)":"translate3d(0,"+i+"px,0)":n.style.top=i+"px"}function a(t){e.content.scrollTop=t}function r(t,a){t?(i(),Core.AddHandler(e.content,"scroll",n,{passive:!0}),a&&a()):Core.RemoveHandler(e.content,"scroll",n)}function o(t,n){if(!t)return!1;if(r(!1),"object"==typeof t){if(!t.element)return!1;e.content.scrollTop=t.element.offsetTop+(t.start?0:t.element.offsetHeight)}else if("string"==typeof t)switch(t){case"top":e.content.scrollTopp=0;break;case"bottom":e.content.scrollTop=e.scrollHeight;break;default:e.content.scrollTop=0}else e.content.scrollTop=t;r(!0,n)}function s(){var t=!1,n=0,i=0;function r(r){if(!t)return!1;var o=((r=r||window.event).pageY||r.clientY+document.body.scrollTop)-n;a(i+e.scrollHeight/e.contentHeight*o)}function o(){if(!t)return!1;t=!1,Core.RemoveHandler(document,"mousemove",r),Core.RemoveHandler(document,"mouseup",o)}return e.scrollSlider.ondragstart=function(){return!1},Core.AddHandler(e.scrollSlider,"mousedown",(function(a){if(a=a||window.event,e.scrollDisabled)return!1;a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation();(function(t){!t.which&&t.button&&1&t.button&&(t.which=1);if(1!==t.which)return!1;var n=t.target||t.srcElement;if(!n||n!==e.scrollSlider)return!1;return!0})(a)&&(t=!0,n=a.pageY||a.clientY+document.body.scrollTop,i=e.currentScroll,Core.AddHandler(document,"mousemove",r),Core.AddHandler(document,"mouseup",o));return!1})),Core.AddHandler(e.scrollContainer,"mousedown",(function(n){if(e.scrollDisabled||t)return!1;!function(t,n){if(((t=t||window.event).target||t.srcElement)!==e.scrollSlider){var i=n(t);i<20&&(i=20),a(e.scrollHeight*i/e.contentHeight)}}(n,(function(e){return e.offsetY}))})),{stop:o}}function l(){e.content&&(e.content.style.marginRight="-"+(e.content.offsetWidth-e.content.clientWidth)+"px",i())}return this.prefix="scroll-container",this.container=null,this.scrollContainer=null,this.scrollSlider=null,this.scrollHeight=null,this.contentHeight=0,this.currentScroll=null,this.content=null,this.checkPreloadingStart=!1,this.preloading=null,this.scrollDisabled=!1,this.callback=null,this.slider=undefined,{init:function(t){if(!t)return!1;e.container=document.createElement("div"),Class(e.container,e.prefix),e.content=t,Class(e.content,e.prefix+"__content"),e.content.setAttribute("tabindex",-1),e.scrollContainer=document.createElement("div"),e.scrollSlider=document.createElement("div"),Class(e.scrollContainer,e.prefix+"__bar"),Class(e.scrollSlider,e.prefix+"__slider"),e.scrollContainer.appendChild(e.scrollSlider),e.container.appendChild(e.scrollContainer),e.content.parentNode.appendChild(e.container),e.container.appendChild(e.content),e.content.style.marginRight="-"+(e.content.offsetWidth-e.content.clientWidth)+"px",window.mqGlobal&&window.mqGlobal.AddOnLoad((function(){l()})),r(!0),e.slider=s(),Core.AddHandler(window,"resize",l)},setPreloading:function(t){e.preloading=t},update:l,focusTo:o,updateCoord:i,checkScroll:r,getScrollPosition:function(){return e.currentScroll},getContentHeight:function(){return e.contentHeight},getScrollHeight:function(){return e.scrollHeight},setCallback:function(t){e.callback=t}}}function FloatVerticalPanel(e,t){if("1"===Mql5Cookie.httpStorage(t))return!1;var n=createElement(document.body,"div",{className:"float-vertical-panel",innerHTML:e});n.innerHTML=e;var i=createElement(n,"span",{className:"float-vertical-panel__cross"});function a(){Mql5Cookie.httpStorage(t,"1",{expires:new Date(2050,1,1),Domain:"."+Mql5Cookie.domain,Path:"/"}),n.parentNode.removeChild(n)}return Core.AddHandler(i,"click",a),Core.AddHandler(i,"touchend",a),n}function CountableField(e,t){if(!e)return!1;function n(){var n=e.value,i=n.length;return t?(i>t&&(Class(e,"input-validation-error"),setTimeout((function(){Class(e,"input-validation-error",300)}),300)),i=(n=n.substring(0,t)).length,e.value=n,i+"/"+t):i}var i,a;i=createElement(e.parentNode,"div",{className:"countable-field"}),a=createElement(i,"div",{className:"countable-field__counter",innerText:"0/"+t}),e.parentNode.insertBefore(i,e),i.appendChild(e),Core.AddHandler(e,"keyup",(function(){a.innerText=n()})),Core.AddHandler(e,"change",(function(){a.innerText=n()})),Core.AddHandler(e,"input",(function(){a.innerText=n()}))}function shareBlock(){var e=$("networkBlock"),t=$("formShare");Core.AddHandler(e,"click",(function(n){for(var i=(n=n||window.event).target||n.srcElement;i.parentNode&&"A"!==i.nodeName&&i!==e;)i=i.parentNode;if("A"===i.nodeName){var a=i.getAttribute("data-social"),r=i.getAttribute("data-track");r&&window.fpush(r),"Mql5.community"===a&&(n.preventDefault?n.preventDefault():n.returnValue=!1,Dialog.show(t.title,t,500,160,Dialog.hide,null,null,null,!1,"fixed"))}})),t&&Core.AddHandler(t,"submit",(function(t){Ajax.form(this,{onready:function(t){try{t=JSON.parse(t)}catch(r){t=null,console.warn(r)}var n;if(t&&(!t.Type||"REDIRECT"!==t.Type)){if(t.Type&&"SUCCESS"===t.Type){(n=createElement(null,"DIV",{className:"share-mql5-com__res"})).innerHTML=t.Message;var i=t.Title||t.Message||"";Dialog.show(i,n,500,100,Dialog.hide,null,null,null,!1,"fixed");var a=e.querySelector(".network-icons_mql5");(a=getAncessor(a,"network-block__item")).parentNode.removeChild(a)}t.Type&&"ERROR"===t.Type&&((n=createElement(null,"DIV",{className:"share-mql5-com__res"})).innerHTML=t.Message,Dialog.show(t.Message,n,500,100,Dialog.hide,null,null,null,!1,"fixed")),n=null}},onerror:function(){},ismobile:!1}),(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1}))}function Resizable(e,t){var n=createElement(e,"div",{className:"resizable-line"}),i=!1,a=e.offsetHeight,r=createElement(e,"div",{className:"resizable-wrapper"}),o=0;function s(c){if(!i)return!1;var d=(c=c||window.event).pageY||(c.changedTouches?c.changedTouches[0].pageY:null)||c.clientY+document.body.scrollTop;Core.RemoveHandler(document,"mouseup",s),Core.RemoveHandler(document,"mousemove",l),Core.RemoveHandler(document,"touchend",s),Core.RemoveHandler(document,"touchmove",l),n.style.transform?n.style.transform="none":n.style.top="auto",a-=o-d,e.style.height=a+"px",t&&t(a),i=!1,Class(r,"resizable-wrapper_active",!0)}function l(e){if(!i)return!1;var t=(e=e||window.event).pageY||(e.changedTouches?e.changedTouches[0].pageY:null)||e.clientY+document.body.scrollTop;n.style.transform?n.style.transform="translateY("+-(o-t)+"px)":n.style.top=a-(o-t)+"px"}Class(e,"resizable"),Core.AddHandler(n,"mousedown",(function(e){return!e.which&&e.button&&1&e.button&&(e.which=1),1!==e.which||(i=!0,e=e||window.event,o=e.pageY||e.clientY+document.body.scrollTop,Core.AddHandler(document,"mouseup",s),Core.AddHandler(document,"mousemove",l),Class(r,"resizable-wrapper_active"),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation()),!1})),Core.AddHandler(n,"dragstart",(function(){return!1})),Core.AddHandler(n,"touchstart",(function(e){return i=!0,o=e.changedTouches[0].pageY,Core.AddHandler(document,"touchend",s),Core.AddHandler(document,"touchmove",l),Class(r,"resizable-wrapper_active"),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),!1}))}function Tooltip(e){if(!e)return!1;var t=e.getAttribute("data-tooltip");if(!t)return!1;var n=this;this.setPosition=function(){var t=e.getBoundingClientRect(),i=getWindowSize();t.bottom<i.height?(Class(n.tooltip,"tooltip-wrapper_bottom"),n.tooltip.style.top=t.bottom+"px",n.tooltip.style.bottom="auto"):(Class(n.tooltip,"tooltip-wrapper_bottom",!0),n.tooltip.style.top="auto",n.tooltip.style.bottom=i.height-t.top+"px"),i.width-t.right>n.textWidth-16||(i.width-t.right)/n.textWidth>.7?(n.tooltip.style.left=t.left+"px",n.tooltip.style.maxWidth=i.width-t.right-8+"px"):i.width-t.left>n.textWidth-16?n.tooltip.style.right=t.right+8+"px":(n.tooltip.style.left="8px",n.tooltip.style.maxWidth=i.width-16+"px"),n.corner.style.left=t.left-n.tooltip.getBoundingClientRect().left+2+"px"},this.show=function(){Class(n.tooltip,"tooltip-wrapper_active"),n.setPosition(),Core.AddHandler(window,"scroll",n.setPosition,{passive:!0}),Core.AddHandler(document.body,"click",n.checkContent),Core.AddHandler(document.body,"touchstart",n.checkContent),Core.AddHandler(window,"resize",n.setPosition)},this.checkContent=function(t){for(var i=(t=t||window.event).target||t.srcElement;i.parentNode&&i!==e&&i!==n.tooltip;)i=i.parentNode;i!==e&&i!==n.tooltip&&n.hide()},this.hide=function(){Core.RemoveHandler(window,"scroll",n.setPosition),Core.RemoveHandler(document.body,"click",n.checkContent),Core.RemoveHandler(window,"resize",n.setPosition),Core.RemoveHandler(document.body,"touchstart",n.checkContent),Class(n.tooltip,"tooltip-wrapper_active",!0)},this.create=function(){n.tooltip=createElement(e,"span",{className:"tooltip-wrapper tooltip-wrapper_corner"}),n.tooltip.style.position="fixed";var i,a,r,o=createElement(n.tooltip,"span",{className:"tooltip",innerText:t});n.corner=createElement(o,"span",{className:"corner"}),e.style.position="relative",n.textWidth=(i=t,(r=createElement(document.body,"div",{innerText:i})).style.position="fixed",r.style.left="-9999px",a=r.clientWidth,document.body.removeChild(r),a),Core.AddHandler(e,"click",n.show),Core.AddHandler(e,"touchstart",n.show)},n.create()}function TrackScrollPosition(e,t,n){this.create=function(){t||window.fpush("MQL5+"+e+"+Open");var i=$("footer"),a=getDocumentBodySize().height,r=i?i.offsetHeight:a,o=a-r,s=getWindowSize().height,l=getWindowScroll().top+s,c=!1,d=!1;function u(){l=getWindowScroll().top+s,c&&d?(Core.RemoveHandler(window,"scroll",u),Core.RemoveHandler(window,"resize",h)):(!c&&l-s/2>=o/2&&(c=!0,n||window.fpush("MQL5+"+e+"+Half")),!d&&l>=o&&(d=!0,window.fpush("MQL5+"+e+"+End")))}function h(){a=getDocumentBodySize().height,r=i?i.offsetHeight:a,o=a-r,s=getWindowSize().height,u()}Core.AddHandler(window,"scroll",u,{passive:!0}),Core.AddHandler(window,"resize",h,{passive:!0}),u()},this.create()}function highlightAttenDeposit(){var e=document.getElementById("payBlockTable"),t=document.getElementById("accProblemsWrapper");e&&t&&(e.addEventListener("mouseover",(function(){t.className+=" acc-problems-wrapper_active"})),e.addEventListener("mouseleave",(function(){t.className="acc-problems-wrapper"})))}window.TrackRating=function(e,t){t||(t=window.event);var n,i=0;for(i=e.getBoundingClientRect().left,i=Math.floor((t.clientX-i)/16)+1,n=e.firstChild;"#text"===n.nodeName.toLowerCase()&&n.nextSibling;)n=n.nextSibling;n.className=["v",i,"0"].join("")},window.isLteIE8=!1,-1==window.navigator.userAgent.indexOf("MSIE 8.")&&-1==window.navigator.userAgent.indexOf("MSIE 7.")||(window.isLteIE8=!0),window.isIE=!1,-1!=window.navigator.userAgent.indexOf("MSIE")&&(window.isIE=!0);var lastCommand=null;function ViewSearchResults(e,t){if(SEARCH_PARAMS.keyword.length<1&&SEARCH_PARAMS.author.length<1)return SEARCH_PARAMS.container.innerHTML='<span class="search_none_found">'+SEARCH_DICTIONARY.keyword_length+"</span>",void ClearPaginators();var n=SEARCH_PARAMS.url+"?callback=RenderSearchResults&hl="+SEARCH_PARAMS.lng+SEARCH_PARAMS.module_params+"&keyword="+(encodeURIComponent(SEARCH_PARAMS.keyword)||"")+"&from="+e+"&count="+t+(SEARCH_PARAMS.author?"&author="+SEARCH_PARAMS.author:"")+(SEARCH_PARAMS.method>0?"&method="+SEARCH_PARAMS.method:"")+(SEARCH_PARAMS.dt_from>0?"&dt_from="+SEARCH_PARAMS.dt_from:"");n+="&t="+Math.random();var i=document.createElement("script");i.type="text/javascript",i.src=n,ProcessSearchScript(i,e,t)}function ProcessSearchScript(e,t,n,i){if(0==SEARCH_PARAMS.timeout_id){SEARCH_PARAMS.results_loaded=!1,e.onerror=CheckIfScriptLoaded,SEARCH_PARAMS.container.innerHTML="";var a=e;setTimeout((function(){window.fpush({name:"MQL5+Search",unit:"keyword",value:SEARCH_PARAMS.keyword}),SEARCH_PARAMS.container.appendChild(a)}),20),SEARCH_PARAMS.next=t+n,SEARCH_PARAMS.current=t,SEARCH_PARAMS.prev=t>=n?t-n:0,SEARCH_PARAMS.isFirst=0==t,clearTimeout(SEARCH_PARAMS.timeout_id),SEARCH_PARAMS.timeout_id=setTimeout(CheckIfScriptLoaded,15e3),lastCommand=null}else lastCommand=[e,t,n]}function CheckLastCommand(){lastCommand&&ProcessSearchScript(lastCommand[0],lastCommand[1],lastCommand[2])}function RenderAttaches(e,t,n,i){createElement(t,"a",{id:"attaches_link_"+i,href:"#",className:"attachesLink poppedUp",onclick:function(){return ToggleAttaches(i),!1},innerHTML:SEARCH_DICTIONARY.files+" ("+n.length+")<small>&#x25BC;</small>"});var a=createElement(e,"div",{id:"attaches_"+i});a.style.display="none";for(var r=0;r<n.length;r++){var o=n[r],s=createElement(a,"div",{className:"attachItem"}),l=createElement(s,"a",{href:o.url,innerHTML:o.name,className:o.ext});createElement(l,"i",{className:"attach-icon attach-icon_"+o.ext}),createElement(s,"span",{className:"attachSize",innerHTML:"("+o.size_KB+")"})}}function ToggleAttaches(e){var t=$("attaches_"+e);if(t){var n="none"==t.style.display,i=$("attaches_link_"+e);if(i){var a=$("attaches_container_"+e);a&&(a.className=n?"attachments searchAttachments opened":"attachments searchAttachments",i.className=n?"attachesLink":"poppedUp attachesLink",t.style.display=n?"block":"none")}}}function CheckIfScriptLoaded(){SEARCH_PARAMS.results_loaded||(SEARCH_PARAMS.container.innerHTML='<span class="search_none_found">'+SEARCH_DICTIONARY.error_loading+"</span>"),SEARCH_PARAMS.timeout_id=0,CheckLastCommand()}function ClearPaginators(){$("paginator_block_bottom").innerHTML="",$("paginator_block_top").innerHTML=""}function RenderSearchPaginatorEx(e,t,n,i){var a=SEARCH_PARAMS.is_mobile?1:7,r=SEARCH_PARAMS.is_mobile?1:7,o=Math.ceil(t/SEARCH_PARAMS.count),s=SEARCH_PARAMS.current/SEARCH_PARAMS.count+1;if(n&&(n.innerHTML="",n.style.display="none",!(o<=1))){n.style.display="";var l=Math.max(1,s-a),c=Math.min(o,s+r);o-c==1&&(c=o),l>1&&(createElement(n,"a",{innerHTML:"1",className:"search_paginator_page",href:"javascript:GoToSearchPage(1,"+i+")"}),l>2&&createElement(n,"a",{innerHTML:"...",className:"search_paginator_page dots",href:"javascript:GoToSearchPage("+(Math.ceil((l-2)/2)+1)+","+i+")"}));for(var d=l;d<=c;d++)createElement(n,"a",{innerHTML:d,className:"search_paginator_page"+(s==d?" current":""),href:"javascript:GoToSearchPage("+d+","+i+")"});c<o&&(createElement(n,"a",{innerHTML:"...",className:"search_paginator_page dots",href:"javascript:GoToSearchPage("+(Math.ceil((o-c)/2)+c)+","+i+")"}),c<o-1&&createElement(n,"a",{innerHTML:o,className:"search_paginator_page"+(s==o?" current":""),href:"javascript:GoToSearchPage("+o+","+i+")"}))}}function RenderSearchPaginator(e,t,n,i){if(n){var a=SEARCH_PARAMS.is_mobile?2:7;n.innerHTML="";var r=Math.ceil(t/SEARCH_PARAMS.count),o=SEARCH_PARAMS.current/SEARCH_PARAMS.count+1,s=o>r-a|o<a?SEARCH_PARAMS.is_mobile?3:6:SEARCH_PARAMS.is_mobile?2:4;if(r<=1)n.style.display="none";else{n.style.display="block";var l=createElement(n,"a",{innerHTML:"1",className:"search_paginator_page",href:"javascript:GoToSearchPage(1,"+i+")"});SEARCH_PARAMS.isFirst&&(l.className+=" current"),o>=s&&(hidden_page_num=Math.round((o-s+1)/2),l=createElement(n,"a",{innerHTML:"...",className:"search_paginator_page dots",href:"javascript:GoToSearchPage("+hidden_page_num+","+i+")"}));for(var c=o-s;c<=o+s&&c<=r;c++)c<2||c>r||(l=createElement(n,"a",{innerHTML:c,className:"search_paginator_page",href:"javascript:GoToSearchPage("+c+","+i+")"}),c==o&&(l.className+=" current"));o<=r-a&&(hidden_page_num=Math.round((r+o+s)/2),l=createElement(n,"a",{innerHTML:"...",className:"search_paginator_page dots",href:"javascript:GoToSearchPage("+hidden_page_num+","+i+")"}),l=createElement(n,"a",{innerHTML:r,className:"search_paginator_page",href:"javascript:GoToSearchPage("+r+","+i+")"}))}}}function GoToSearchPage(e,t){elementFrom=(e-1)*SEARCH_PARAMS.count,window.hashParams.Set("page",e),ViewSearchResults(elementFrom,SEARCH_PARAMS.count),SEARCH_PARAMS.scrollBottom=t}function Suggestions(e,t,n,i){var a=t,r=n,o=$(e);if(o&&!o.isSuggest){var s=i,l=function(){s&&s()};window.SuggestionControllers||(window.SuggestionControllers=[]);var c=window.SuggestionControllers.length;window.SuggestionControllers[window.SuggestionControllers.length]=this,o.autocomplete="off";var d,u=o.value;o.isSuggest=!0,o.addEventListener?(o.addEventListener("keypress",m,!1),window.addEventListener("keypress",f,!1),o.addEventListener("keyup",g,!1),o.addEventListener("blur",h,!1)):(o.attachEvent("onkeypress",m),window.attachEvent("onkeypress",f),o.attachEvent("onkeyup",g),o.attachEvent("onblur",h)),this.HideSuggests=function(){v()},this.RenderSuggestions=function(e){return function(e){if(v(),e[1]&&e[1].length){d=createElement(null,"table",{className:"suggestionsTable",cellPadding:0,cellSpacing:0});for(var t=0;t<e[1].length;t++)d.appendChild(y(e[1][t][0],u));var n=getElementSize(o.parentNode);d.style.width=n.width+2+"px";var i=getOffsetSum(o.parentNode);d.style.top=i.top+n.height+1+"px",d.style.left=i.left+"px",document.body.appendChild(d)}}(e)}}function h(e){setTimeout((function(){v()}),10)}function f(e){27==(e=e||window.event).keyCode&&(o.focus(),o.select())}function m(e){return 27!=(e=e||window.event).keyCode||(v(),!1)}function p(){var e=document.createElement("script");e.type="text/javascript",e.src=a+"?keyword="+encodeURIComponent(u)+"&hl="+r+"&callback=window.SuggestionControllers["+c+"].RenderSuggestions",o.parentNode.appendChild(e)}function g(e){if(38==(e=e||window.event).keyCode||40==e.keyCode||39==e.keyCode)return function(e){if(!d)return void(40==e&&u.length>0&&p());var t=d.getElementsByTagName("tr");40==e&&(d.selectedSuggestIndex=d.selectedSuggestIndex||0==d.selectedSuggestIndex?d.selectedSuggestIndex+1:0,d.selectedSuggestIndex>=t.length&&(d.selectedSuggestIndex=0));38==e&&(d.selectedSuggestIndex=d.selectedSuggestIndex?d.selectedSuggestIndex-1:t.length-1,d.selectedSuggestIndex<0&&(d.selectedSuggestIndex=t.length-1));for(var n=0;n<t.length;n++)Class(t[n],"selected",n!=d.selectedSuggestIndex),n==d.selectedSuggestIndex&&(o.value=t[n].firstChild.suggestValue)}(e.keyCode);13!=e.keyCode&&u!=o.value&&(u=o.value,v(),u&&p())}function v(e){e&&(u=e,o.value=e),d&&d.parentNode&&d.parentNode.removeChild(d),d=null}function y(e,t){var n=e;t=t?t.fulltrim():null;var i=createElement(null,"tr"),a=n.indexOf(t),r=a>=0?n.substring(a,t.length):"",o=createElement(i,"td",{innerHTML:(a>=0?n.substring(0,a):"")+'<span class="highlighted">'+r+"</span>"+(a>=0?n.substring(a+t.length):n),suggestValue:e});return o.addEventListener?o.addEventListener("mousedown",(function(){v(e),l()}),!1):o.attachEvent("onmousedown",(function(){v(e),l()})),i}}function authLangMenu(){var e,t=document.getElementById("langmenuCurrent"),n=document.getElementById("langmenu"),i=!1;if(!t||!n)return!1;function a(){e=setTimeout((function(){Class(n,"apps-auth__lang-menu_show",!0),i=!1,Core.RemoveHandler(document.body,"click",o),Core.RemoveHandler(document.body,"touchstart",o)}),300)}function r(){i=!0,clearTimeout(e),Class(n,"apps-auth__lang-menu_show");var a=getDocumentBodySize(),r=t.getBoundingClientRect();Class(n,"apps-auth__lang-menu_top",!(a.height-r.bottom<200)),Core.AddHandler(document.body,"click",o),Core.AddHandler(document.body,"touchstart",o)}function o(e){e.target&&!getAncessor(e.target,"apps-auth__lang")&&a()}Core.isMobile.any()?Core.AddHandler(t,"click",(function(){i?a():r()})):(Core.AddHandler(t,"mouseover",r),Core.AddHandler(t,"mouseout",a),Core.AddHandler(n,"mouseover",r),Core.AddHandler(n,"mouseout",a))}function checkEnableCookies(){if(!navigator.cookieEnabled){var e=document.getElementById("needCookies");e&&(e.className="need-cookies");var t=document.getElementById("Login");t&&(t.disabled=!0);var n=document.getElementById("Password");n&&(n.disabled=!0);var i=document.getElementById("loginSubmit");i&&(i.disabled=!0);var a=document.getElementById("socialList");a&&(a.style.display="none",a.parentNode.className+=" auth-social_hidden")}}window.RenderSearchResults=function(resObject){clearTimeout(SEARCH_PARAMS.timeout_id),SEARCH_PARAMS.timeout_id=0,SEARCH_PARAMS.results_loaded=!0;var resArray=resObject.results,k=SEARCH_PARAMS.current+1;SEARCH_PARAMS.isLast=SEARCH_PARAMS.from+SEARCH_PARAMS.count<=resObject.total,SEARCH_PARAMS.container.innerHTML="",0==resArray.length&&(SEARCH_PARAMS.container.innerHTML='<span class="search_none_found">'+SEARCH_DICTIONARY.found_none+"</span>");for(var maxPageNumber=SEARCH_PARAMS.current+resArray.length,resultsMargin=12*(maxPageNumber+"").length+5,i=0;i<resArray.length&&i<SEARCH_PARAMS.count;i++){var item=resArray[i];if(item){item.module&&item.module.endsWith("profiles")&&(item.avatar60x60&&item.avatar60x60.length||(item.avatar60x60="/avatar/avatar_na2.png"));var user=item.info.author_login&&"[deleted]"!=item.info.author_login&&""!=item.info.author_login?" | <a href='https://www."+SEARCH_PARAMS.target_site+"/"+SEARCH_PARAMS.lng+"/users/"+item.info.author_login.toLowerCase()+"' title='"+item.info.author_login+"'>"+item.info.author_name+"</a>":"",result_item=createElement(SEARCH_PARAMS.container,"div",{className:"search_result"}),title=createElement(result_item,"span",{className:"title"});createElement(title,"a",{href:item.info.url,innerHTML:encodeHtml(item.info.title),target:"_blank"});var date=GetDateTime(item.date),text=createElement(result_item,"div",{className:"text"}),moduleKey;if(!SEARCH_PARAMS.is_mobile){if(item.info.avatar60x60&&item.info.avatar60x60.length){var avatar=createElement(text,"span",{className:"search_result_logo"}),frame=createElement(avatar,"a",{className:"frame",href:item.info.url}),bg=createElement(frame,"span",{className:"bg"}),src=0==item.info.avatar60x60.indexOf("/")?"https://c.mql5.com"+item.info.avatar60x60:item.info.avatar60x60,img=createElement(bg,"img",{src:src,width:60,height:60,loading:"lazy"});img.setAttribute("onerror","this.parentNode.parentNode.parentNode.style.display='none';"),avatar.style.cssFloat="left"}if(item.info.avatar110x140&&item.info.avatar110x140.length){var avatar=createElement(text,"span",{className:"search_result_logo"}),src=0==item.info.avatar110x140.indexOf("/")?"https://c.mql5.com"+item.info.avatar110x140:item.info.avatar110x140,width=60,height=76,img=createElement(avatar,"img",{src:src,width:width,height:height,loading:"lazy"});img.setAttribute("onerror","this.parentNode.style.display='none';"),avatar.style.cssFloat="left"}}SEARCH_PARAMS.is_mobile&&item.text&&(item.text=item.text.substring(0,120)+"..."),text.innerHTML+=item.text?encodeHtml(item.text):"",moduleKey=resArray[i].module.indexOf("metatrader4")>=0?"module_metatrader4_"+resArray[i].module.split(".")[3]:resArray[i].module.indexOf("metatrader5")>=0?"module_metatrader5_"+resArray[i].module.split(".")[3]:"module_"+resArray[i].module.split(".")[3];var info=createElement(result_item,"span",{className:"user_info",innerHTML:(SEARCH_DICTIONARY[moduleKey]||SEARCH_DICTIONARY.module_empty)+" | "+date+user});if(item.info.review_rating&&(info.innerHTML+=" | ",info.innerHTML+='<div class="rating small" style="margin-top:5px;margin-bottom:-1px;"><div class="v'+item.info.review_rating+'0" style="margin:0;"></div></div>'),item.info.category&&(info.innerHTML+=" | ",info.innerHTML+=item.info.category),item.info.platform&&item.info.platform!=item.info.category&&(info.innerHTML+=" | ",info.innerHTML+=item.info.platform),item.info.files_info){var attaches=eval(item.info.files_info);if(attaches&&attaches.length&&attaches.length>0){info.innerHTML+=" | ";var attachesContainer=createElement(info,"span",{className:"attachments searchAttachments",id:"attaches_container_"+item.id});RenderAttaches(attachesContainer,attachesContainer,attaches,item.id)}}item.info.price&&(info.innerHTML+=" | ",info.innerHTML+="0.00"!=item.info.price?item.info.price+" "+SEARCH_DICTIONARY.of_credits:SEARCH_DICTIONARY.price_free),item.info.user_company&&(info.innerHTML+=" | ",item.info.user_company_position&&(info.innerHTML+=encodeHtml(item.info.user_company_position)+" "+SEARCH_DICTIONARY.at+" "),info.innerHTML+=encodeHtml(item.info.user_company)),item.info.user_country&&(info.innerHTML+=" | "+encodeHtml(item.info.user_country)),i!=resArray.length-1&&i!=SEARCH_PARAMS.count-1||(result_item.className+=" last"),k++}}1==SEARCH_PARAMS.scrollBottom&&(window.scrollTo(0,100500),SEARCH_PARAMS.scrollBottom=null),RenderSearchPaginatorEx(resArray.length,resObject.total,$("paginator_block_top"),!1),RenderSearchPaginatorEx(resArray.length,resObject.total,$("paginator_block_bottom"),!0),CheckLastCommand()},function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}window.setRebillingValue=function(e){e=e||"";var t=document.getElementById("rebilling-value");t&&(t.value=e)},window.setOldPurseValue=function(e){e=e||"";var t=document.getElementById("oldPurse");t&&(t.value=e.value);var n=document.getElementById("amount");if(n){var i=parseFloat(n.value);(isNaN(i)||0==i)&&setTimeout((function(){n.focus()}),200)}},window.checkIban=function(e,t){"use strict";var n=document.getElementById("BankDetails.Iban");if(n&&e){var i={__signature:e};n.addEventListener("change",(function(){n.name==n.id&&(i.iban=n.value,window.Ajax.post("/accounting/checkiban",i,!0,{onready:function(e){var i={};try{e=JSON.parse(e)}catch(o){e={}}e.bic&&e.bank||(i[n.name]=t,e={bic:"",bank:""});var a=document.getElementById("BankDetails.BicSwift");a&&(a.value=e.bic);var r=document.getElementById("BankDetails.Bank");r&&(r.value=e.bank),window.Validate.SetValid({elements:[n]},i)}},!0))}))}},window.fillOldBankDetails=function(t){"use strict";if(t&&"object"===e(t)){var n=document.getElementById("oldDetails");n&&n.addEventListener("change",(function(){var i=n.value,a=document.getElementById("takeoutBankForm");if(a&&a.elements){var r={};if((r=i&&"null"!==i?t[i]:{data:{name:"",address:"",bank:"","bic-swift":"",iban:"",tin:"",account:""}})&&r.data&&"object"===e(r.data)){r=r.data,switchIban(r.account?"1":"0");for(var o=0,s=a.elements.length;o<s;o++){var l=a.elements[o];switch(l.name){case"BankDetails.Iban":l.value=r.iban||"";break;case"BankDetails.Bank":l.value=r.bank||"";break;case"BankDetails.BicSwift":l.value=r["bic-swift"]||"";break;case"BankDetails.BeneficiaryName":l.value=r.name||"";break;case"BankDetails.BeneficiaryAddress":l.value=r.address||"";break;case"BankDetails.Tin":l.value=r.tin||"";break;case"BankDetails.AccountNumber":l.value=r.account||""}}}}}))}}}(),function(){"use strict";window.sendHosting=function(e,t){var n=document.createElement("div");n.className="send-hosting-window";var i=document.createElement("div");i.className="button button_green button_progress",n.appendChild(i);var a=document.createElement("button");a.className="button button_green",a.innerText=window.locationKey("back-to-my-subscriptions"),a.onclick=function(){document.location=t};var r=document.createElement("button");r.className="button button_green",r.innerText=window.locationKey("close"),r.onclick=function(){Dialog.hide()};var o=document.createElement("div");o.className="send-hosting-window__text";var s=Dialog.show(window.locationKey("sending-data"),n,500,160,null,null,null,null,!1,"fixed");Ajax.form(e,{onready:function(t){Validate.SetValid(e,{});var l=JSON.parse(t);try{l.error?(o.innerText=l.error,o.className="alert alert_danger",n.removeChild(i),n.appendChild(o),n.appendChild(r)):(s.innerText=locationKey("copying-set-up"),o.innerHTML=locationKey("copying-set-up-tips"),n.removeChild(i),n.appendChild(o),n.appendChild(a))}catch(c){console.warn(c),o.innerText=locationKey("internal-error"),o.className="alert alert_danger",n.removeChild(i),n.appendChild(o),n.appendChild(r)}},onerror:function(){o.innerText=locationKey("internal-error"),o.className="alert alert_danger",n.removeChild(i),n.appendChild(o),n.appendChild(r)}})}}(),window.forumPopup=function(){var e=window.Mql5Cookie.localStorage("forum_popup");if(1===(e=parseInt(e)))return!1;var t=window.Mql5Cookie.localStorage("forum_popup_view");t=parseInt(t),isNaN(t)&&(t=0),t++,window.Mql5Cookie.localStorage("forum_popup_view",t),t>4&&(window.registerLoginPopup.show(),window.Mql5Cookie.localStorage("forum_popup",1))},authLangMenu(),mqGlobal.AddOnReady((function(){checkEnableCookies()}));var authorization={onBeforeLogin:function(e){e=e||window.event;var t=document.getElementById("loginForm"),n=document.getElementById("signature"),i=document.getElementById("Login");if(n||((n=document.createElement("input")).setAttribute("id","signature"),n.setAttribute("name","signature"),n.setAttribute("type","hidden"),t.appendChild(n)),!i||!i.value||!i.value.length)return!1;if(n.value&&n.value.length)return window.preventDoubleSubmit(t),!0;e.preventDefault&&e.preventDefault();var a=document.getElementById("Login");return Ajax.post("/auth_login_start",{login:a.value},!1,{onready:function(e){if(!e||!e.length)return window.preventDoubleSubmit(t),void t.submit();var i=e.split("_"),a=i[0],r=i.length>1?i[1]:i[0],o=document.getElementById("Password"),s=window.sha256(a+o.value),l=window.sha256(s+r);n.value=l,o.value="",window.preventDoubleSubmit(t),t.submit()},onerror:function(){},form:t,sig:n}),!1},init:function(){var e=document.getElementById("Login");e&&e.focus()}};window.mqGlobal.AddOnReady((function(){authorization.init(),window.quickLogin&&(window.quickLogin.onBeforeLogin=authorization.onBeforeLogin)})),window.sellerProducts=function(){"use strict";var e=null,t=[],n=[],i={1:"expert",2:"indicator",3:"panel",5:"library",7:"utility"},a={4:"MQL5+Profile+Seller+Product+MetaTrader+4",5:"MQL5+Profile+Seller+Product+MetaTrader+5"},r={1:"MQL5+Profile+Seller+Product+Experts",2:"MQL5+Profile+Seller+Product+Indicators",3:"panel",5:"MQL5+Profile+Seller+Product+Libraries",7:"MQL5+Profile+Seller+Product+Utilities"};function o(e,t){var n=document.getElementById("publishedProductsList");if(n){var i=t.slice();switch(e){case"price_asc":i=function(e){return e.sort((function(e,t){if("object"!=typeof e||"object"!=typeof t)return 0;var n=parseFloat(e.price,10),i=parseFloat(t.price,10);return n>i?1:n<i?-1:0})),e}(i);break;case"price_desc":i=function(e){return e.sort((function(e,t){if("object"!=typeof e||"object"!=typeof t)return 0;var n=parseFloat(e.price,10),i=parseFloat(t.price,10);return n>i?-1:n<i?1:0})),e}(i);break;case"rating":i=function(e){return e.sort((function(e,t){if("object"!=typeof e||"object"!=typeof t)return 0;var n=parseInt(e.rating_index,10),i=parseInt(t.rating_index,10);return n>i?-1:n<i?1:0})),e}(i);break;case"paid":i=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var a=e[n];"object"==typeof a&&(parseFloat(a.price,10)<=0||t.push(a))}return t}(i);break;case"free":i=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var a=e[n];"object"==typeof a&&(parseFloat(a.price,10)>0||t.push(a))}return t}(i);break;case"date_published":i=function(e){return e.sort((function(e,t){if("object"!=typeof e||"object"!=typeof t)return 0;var n=parseInt(e.date_published,10),i=parseInt(t.date_published,10);return n>i?-1:n<i?1:0})),e}(i)}var a="";if(i.length){a+='<div class="product-list product-list_'+(window.Core.isMobile.any()?"without-left-menu":"with-left-menu")+'">';for(var r=0,o=i.length;r<o;r++)a+=window.productBlock.render(i[r]);a+="</div>"}a||(a='<div class="seller-products__title"><div class="alert alert_warning">'+window.locationKey("nodata")+"</div></div>"),n.innerHTML=a}}function s(t,n,i){if(e&&"object"==typeof e){for(var a=e.slice(),r=[],s=0,l=a.length;s<l;s++){var c=a[s];~t.indexOf(c.category)&&~n.indexOf(c.mt)&&r.push(c)}o(i,r)}}function l(e){if(!e)return[];var t=e.length,n=[];if(t)for(var i=0;i<t;i++)e[i].checked&&n.push(parseInt(e[i].value,10));else e.checked&&n.push(parseInt(e.value,10));return n}function c(e){if(e&&"object"==typeof e){for(var o=0,c=e.length;o<c;o++){var d=e[o].mt,u=e[o].category;~t.indexOf(d)||t.push(d),~n.indexOf(u)||n.push(u)}t.sort((function(e,t){return t-e})),n.sort((function(e,t){return e-t})),function(){var e=document.getElementById("publishedProductsFilterPlatform");if(e)for(var n=0,i=t.length;n<i;n++){var r=t[n],o=a[r],s='<input value="'+r+'" type="checkbox" checked="checked" name="platform[]" id="platformMt'+r+'">';s+='<label for="platformMt'+r+'"'+(o?" onclick=\"window.fpush('"+o+"');\"":"")+">",s+='<i class="seller-products__icon-active icons-market icons-market_mt"></i>',s+='<i class="seller-products__icon-inactive icons-market icons-market_mt-inactive"></i>',s+=window.locationKey("mt"+r)+"</label>",e.insertAdjacentHTML("beforeend",s)}}(),function(){var e=document.getElementById("publishedProductsFilterCategory");if(e)for(var t=0,a=n.length;t<a;t++){var o=n[t],s=i[o],l=r[o],c='<input value="'+o+'" type="checkbox" name="category[]" id="categoryName'+o+'">';c+='<label for="categoryName'+o+'"'+(l?" onclick=\"window.fpush('"+l+"');\"":"")+">",c+='<i class="seller-products__icon-active icons-market icons-market_'+s+'"></i>',c+='<i class="seller-products__icon-inactive icons-market icons-market_'+s+'-inactive"></i>',c+=window.locationKey(s)+"</label>",e.insertAdjacentHTML("beforeend",c)}}();var h=document.getElementById("publishedProductsToolbar");if(h){h.addEventListener("submit",(function(e){(e=e||window.event).preventDefault&&e.preventDefault()}));var f=document.getElementById("selectPublishedProducts");f&&f.addEventListener("change",(function(){switch(f.value){case"price_asc":window.fpush("MQL5+Profile+Seller+Product+Price+Asc");break;case"price_desc":window.fpush("MQL5+Profile+Seller+Product+Price+Desc");break;case"rating":window.fpush("MQL5+Profile+Seller+Product+Popular");break;case"paid":window.fpush("MQL5+Profile+Seller+Product+Paid");break;case"free":window.fpush("MQL5+Profile+Seller+Product+Free");break;case"date_published":window.fpush("MQL5+Profile+Seller+Product+New")}})),h.addEventListener("change",(function(e){if(h.elements){var t=(e=e||window.event).target||e.srcElement,n=l(h.elements["category[]"]);if(!n.length)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&n.push(parseInt(a,10));var r=l(h.elements["platform[]"]);if(!r.length&&t){var o=parseInt(t.value),c=5===o?4:5,d=h.elements["platformMt"+c];d?(d.checked=!0,r=[c]):(d=h.elements["platformMt"+o])&&(d.checked=!0,r=[o])}s(n,r,h.elements.sort.value)}}))}}}return{init:function(){var t=document.getElementById("sellerPublishedProducts");if(t){e=t.innerText;try{e=JSON.parse(e)}catch(n){console.warn(n),e=null}e&&"object"==typeof e&&(c(e),window.customSelect.init({selectId:"selectPublishedProducts",valueId:"selectPublishedProductsValue"}))}}}}(),function(){var e={d:function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}};window.DateHelper=function(){var e={month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthGenitive:["January","February","March","April","May","June","July","August","September","October","November","December"],monthShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysWeek:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]};function t(t,n){var i="";if(n||(n={}),n={utc:"undefined"==typeof n.utc||n.utc,short:"undefined"!=typeof n.short&&n.short,date:"undefined"==typeof n.date||n.date,month:"undefined"==typeof n.month||n.month,year:"undefined"==typeof n.year||n.year},t){var a=n.utc?{date:t.getUTCDate(),month:t.getUTCMonth(),year:t.getUTCFullYear()}:{date:t.getDate(),month:t.getMonth(),year:t.getFullYear()};n.date&&(i+=a.date+" "),n.month&&(n.short?i+=e.monthShort[a.month]+" ":i+=e.month[a.month]+" "),n.year&&(i+=a.year)}return i}function n(e){return e instanceof Date&&"function"==typeof e.getMonth}function i(e,t){return!(!n(e)||!n(t))&&e.getUTCDate()===t.getUTCDate()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCFullYear()===t.getUTCFullYear()}function a(e){return e.getFullYear()+"."+o(e.getMonth()+1)+"."+o(e.getDate())}function r(e){return o(e.getHours())+":"+o(e.getMinutes())}function o(e){return("0"+e).slice(-2)}return{ShortFormat:function(e,t){switch(t){case"datetime":return a(e)+" "+r(e);case"date":case"datestandard":case"shortDate":return a(e);case"time":return r(e);default:throw new Error("Datetime type '"+t+"' is not supported")}},FormatDate:t,CompareOnDate:i,SmartFormatDate:function(n,a,r){if(!a)return t(n,{short:!0});var o=r?e.monthShort:e.month;if(i(new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))))return n.getUTCDate()+" "+o[n.getUTCMonth()]+", "+a.getUTCFullYear();if(n.getUTCFullYear()===a.getUTCFullYear()){var s="";return n.getUTCMonth()===a.getUTCMonth()?s+=n.getUTCDate()+" - "+a.getUTCDate()+" "+o[a.getUTCMonth()]:s+=n.getUTCDate()+" "+o[n.getUTCMonth()]+" - "+a.getUTCDate()+" "+o[a.getUTCMonth()],s+", "+a.getUTCFullYear()}return n.getUTCDate()+" "+o[n.getUTCMonth()]+", "+n.getUTCFullYear()+" - "+a.getUTCDate()+" "+o[a.getUTCMonth()]+", "+a.getUTCFullYear()},SetPhrases:function(t){if(t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Phrases:e,FormateWithTime:function(e){var t="";return i(new Date,e)||(t+=e.getFullYear()+".",t+=("0"+(e.getMonth()+1)).substr(-2)+".",t+=("0"+e.getDate()).substr(-2)+" "),(t+=("0"+e.getHours()).substr(-2)+":")+("0"+e.getMinutes()).substr(-2)}}}(),window.singleDatePicker=function(e,t,n,i,a,r,o){var s=document.getElementById(e);if(!s)return!1;var l=t.month,c=s.nodeName.toLowerCase(),d=n?n():new Date;d=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getDate(),3),singleDatePicker.value=d,singleDatePicker.funcCurrentDate=n,singleDatePicker.month=null;var u="input"===c?s.parentNode:s,h=document.createElement("div");h.className="date-picker__container",s.parentNode.appendChild(h,s),h.appendChild(s);var f=document.createElement("div");f.className="date-picker__button",h.appendChild(f);var m=createElement(u,"div",{className:"date-picker single"+(a?" date-picker_mobile":"")});"input"!==c&&u.insertBefore(m,u.firstChild);var p,g,v=createElement(m,"div",{className:"date-picker__calendar-area"});function y(e){return 33-new Date(e.getUTCFullYear(),e.getUTCMonth(),33).getDate()}function w(){return singleDatePicker.value.getUTCMonth()<11?new Date(singleDatePicker.value.getUTCFullYear(),singleDatePicker.value.getUTCMonth()+1,1,3):new Date(singleDatePicker.value.getUTCFullYear()+1,0,1,3)}function b(e){(e=e||window.event).target||(e.target=e.srcElement);var t=e.target;if(t){for(;t&&t.parentNode&&t!==m&&t!==h;)t=t.parentNode;t!==m&&t!==h&&singleDatePicker.hide()}}function _(e){C(e,r)}function C(e,n){var i=n||!1;(u=singleDatePicker.month).innerHTML="";var a=y(e);createElement(u,"div",{className:"date-picker__month-title"}).innerHTML=l[e.getUTCMonth()]+" "+e.getUTCFullYear();for(var o=createElement(u,"ul",{className:"date-picker__days-week-list"}),s=0;s<t.daysWeek.length&&t.daysWeek[s]!==undefined;s++)createElement(o,"li",{className:s>4?"output":""}).innerHTML=t.daysWeek[s];var c=createElement(u,"ul",{className:"date-picker__days-list"}),d=!1,h=null;h=e.getUTCMonth()<=0?new Date(e.getUTCFullYear()-1,11,1,3):e.getUTCMonth()>=11?new Date(e.getUTCFullYear()+1,0,1,3):new Date(e.getUTCFullYear(),e.getUTCMonth()-1,2,3);for(var f=1;f<=a;f++){var m=new Date(e.getUTCFullYear(),e.getUTCMonth(),f,3);if(1!==m.getUTCDay()&&!1===d)for(var p=0===m.getUTCDay()?7:m.getUTCDay(),g=1;g<p;g++){var v=new Date(e.getUTCFullYear(),h.getUTCMonth(),y(h)-p+g+1,3);c.appendChild(E(v,"not-active"))}d=!0;var b=E(m,m>i?"not-active":"");c.appendChild(b)}r&&singleDatePicker.datePickerNext&&(w()>r?singleDatePicker.datePickerNext.style.display="none":singleDatePicker.datePickerNext.style.display="block")}function x(){for(var e=(u=singleDatePicker.month).querySelectorAll(".date-picker__days-list li"),t=0;t<e.length;t++){var n=e[t],i=new Date(parseInt(n.getAttribute("data-year"),10),parseInt(n.getAttribute("data-month"),10),parseInt(n.getAttribute("data-day"),10),3);Date.parse(singleDatePicker.value)===Date.parse(i)?(-1===n.className.indexOf("not-active")&&(n.className="active"),Date.parse(singleDatePicker.value)===Date.parse(i)&&(n.className="active current")):(-1===n.className.indexOf("not-active")?n.className="":n.className="not-active",Date.parse(singleDatePicker.value)===Date.parse(i)&&(-1===n.className.indexOf("not-active")?n.className="current":n.className="not-active current"))}}function E(e,t){var n=document.createElement("li"),a=singleDatePicker.value;return n.innerHTML="<span>"+e.getUTCDate()+"</span>",t&&(n.className=t),"not-active"!==n.className&&(n.onclick=function(){singleDatePicker.value=new Date(parseInt(n.getAttribute("data-year"),10),parseInt(n.getAttribute("data-month"),10),parseInt(n.getAttribute("data-day"),10),3),x(),"input"===c&&(s.value=singleDatePicker.smartFormatDateRange(singleDatePicker.value)),singleDatePicker.hide(),i&&i(singleDatePicker.value)}),Date.parse(a)===Date.parse(e)?-1===n.className.indexOf("not-active")&&(n.className="active"):-1===n.className.indexOf("not-active")&&(n.className=""),Date.parse(singleDatePicker.value)===Date.parse(e)&&(n.className+=" current"),n.setAttribute("data-day",e.getUTCDate()),n.setAttribute("data-month",e.getUTCMonth()),n.setAttribute("data-year",e.getUTCFullYear()),n}p=singleDatePicker.value,g=m,a&&(g=v),singleDatePicker.datePickerPrev=createElement(g,"div",{className:"date-picker__prev"}),singleDatePicker.datePickerPrev.innerHTML="<span></span>",singleDatePicker.datePickerNext=createElement(g,"div",{className:"date-picker__next"}),singleDatePicker.datePickerNext.innerHTML="<span></span>",singleDatePicker.month=createElement(g,"div",{className:"date-picker__month"}),C(p,r),singleDatePicker.datePickerNext.onclick=function(){!function(){u=singleDatePicker.month;var e=w();e>r||(singleDatePicker.value=e,C(singleDatePicker.value,r))}()},singleDatePicker.datePickerPrev.onclick=function(){u=singleDatePicker.month,singleDatePicker.value.getUTCMonth()>0?singleDatePicker.value=new Date(singleDatePicker.value.getUTCFullYear(),singleDatePicker.value.getUTCMonth()-1,1,3):singleDatePicker.value=new Date(singleDatePicker.value.getUTCFullYear()-1,11,1,3),C(singleDatePicker.value,r)},singleDatePicker.smartFormatDateRange=function(e){var t=e.getUTCFullYear()==d.getUTCFullYear();return o&&t&&e.getUTCMonth()==d.getUTCMonth()&&e.getDate()==d.getDate()?o:DateHelper.ShortFormat(e,"date")},singleDatePicker.hide=function(){a||(m.style.display="none"),_(singleDatePicker.value),document.body.removeEventListener("click",b),singleDatePicker.showed=!1},singleDatePicker.show=function(){m.style.display="block",m.style.visibility="hidden",m.classList.remove("date-picker_right"),setTimeout((function(){var e=m.getBoundingClientRect(),t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e.right>t-20&&(m.className+=" date-picker_right"),m.style.visibility="visible",singleDatePicker.value=singleDatePicker.funcCurrentDate?singleDatePicker.funcCurrentDate():singleDatePicker.value,singleDatePicker.value=new Date(singleDatePicker.value.getUTCFullYear(),singleDatePicker.value.getUTCMonth(),singleDatePicker.value.getDate(),3),x(),document.body.addEventListener("click",b),singleDatePicker.showed=!0}),10)},singleDatePicker.toggle=function(){singleDatePicker.showed?singleDatePicker.hide():singleDatePicker.show()},f.onclick=singleDatePicker.toggle,"input"===c&&(s.onfocus=function(){var e=s.value;e=parseInt(e,10),isNaN(e)&&(s.value=DateHelper.ShortFormat(new Date,"date"))},s.onblur=function(){var e=s.value,t=Date.parse(e);if(1==isNaN(t))if(/\d\d\d\d.\d\d.\d\d/.test(e))t=e.split("."),e=new Date(t[0],parseInt(t[1],10)-1,t[2],3);else{var a=n?n():new Date;e=new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getDate(),3)}else if(new Date(t)>r){var o=new Date;e=new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getDate(),3)}else e=new Date(t);singleDatePicker.value=e,_(singleDatePicker.value),x(),"input"===c&&(s.value=singleDatePicker.smartFormatDateRange(singleDatePicker.value)),i&&i(singleDatePicker.value)}),this.set=function(e){singleDatePicker.value=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getDate(),3),_(singleDatePicker.value)}},function(){"use strict";var t={};e.r(t),e.d(t,{render:function(){return me}});var n={};e.r(n),e.d(n,{render:function(){return ve}});var i={};e.r(i),e.d(i,{render:function(){return Ce}});var a={};e.r(a),e.d(a,{init:function(){return mt},renderSuggestions:function(){return ut}});var r={};e.r(r),e.d(r,{hide:function(){return xt},show:function(){return Ct}});var o={};e.r(o),e.d(o,{create:function(){return kt},setActive:function(){return Tt}});var s={};e.r(s),e.d(s,{create:function(){return Dt}});var l={};e.r(l),e.d(l,{init:function(){return Ht}});var c={};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}e.r(c),e.d(c,{achievementPopup:function(){return r},barChartHorizontal:function(){return n},radarChart:function(){return t},riskChart:function(){return i},search:function(){return a}}),window.localizationList=window.localizationList||{},window.localizationInited=!1,window.mqGlobal?window.mqGlobal.Language:window.currentLanguage;var u,h={};function f(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(window.localizationList[t]=e[t])}function m(e){if(window.localizationInited||p(),!e)return window.localizationList;var t,n=window.localizationList;if(e in h)t=h[e];else{for(var i=e.split("."),a=0,r=i.length;a<r&&i[a]in n;a++)n=n[i[a]];if("string"==typeof n&&(t=n),!t)return"["+e+"]";h[e]=t}for(var o=0,s=arguments.length<=1?0:arguments.length-1;o<s;o++)t=t.replace("{"+o+"}",o+1<1||arguments.length<=o+1?undefined:arguments[o+1]);return t}function p(){var e=document.body.querySelectorAll('script[type="application/json"]');window.localizationInited=!0;for(var t=0,n=e.length;t<n;t++){var i=e[t];if("translate"===i.getAttribute("data-type")){var a=i.innerHTML;if(a){try{a=JSON.parse(a)}catch(r){a=null,console.warn(r)}a&&"object"===d(a)&&f(a)}}}}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}var v={weekday:["Mo","Tu","We","Th","Fr","Sa","Su"],weekdayFull:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthFull:["January","February","March","April","May","June","July","August","September","October","November","December"]},y={date:undefined,dateTime:undefined};function w(){window.mqGlobal.AddOnReady((function(){!function(){if(u){var e=document.getElementsByTagName("time");if(0!==e.length)for(var t=0;t<e.length;t++){var n=C(e[t]);n&&(e[t].innerText=T(n),e[t].setAttribute("title",T({dateTime:n.dateTime,type:"datestandardtime"})))}}}(),function(){var e=document.getElementsByTagName("input");if(0!==e.length)for(var t=0;t<e.length;t++){var n=e[t];b(n)||_(n)}}()}))}function b(e){var t=C(e);return!!t&&(e.value=k(t),e.addEventListener("change",(function(){var t=e.nextElementSibling;null!==t.getAttribute("utc-offset")&&(t.value=-new Date(e.value).getTimezoneOffset())})),!0)}function _(e){if(!e.hasAttribute("utc-offset"))return!1;var t=e.previousSibling,n=new Date;return t.getAttribute("datetime")&&(n=C(t).dateTime),e.value=-n.getTimezoneOffset(),!0}function C(e){var t=e.getAttribute("datetime");if(!t)return undefined;var n=Date.parse(t);if(isNaN(n))return undefined;var i=e.getAttribute("datetime-type"),a=new Date(n);return i&&a?{dateTime:a,type:i}:null}function x(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function E(e,t){return(x(e)-x(t))/864e5|0}function T(e){var t,n,i,a,r=e.dateTime,o=E(r,new Date),s=(t=r,n=new Date,(t.getTime()-n.getTime())/36e5|0),l=function(e,t){return(e.getTime()-t.getTime())/6e4|0}(r,new Date),c=(new Date).getTime()-r.getTime();switch(e.type){case"datetime":return y.relative&&o>=-2&&o<=0?y.relative.format(o,"day")+", "+y.time.format(r):y.dateTime.format(r).replace(" г.,",",");case"date":return y.relative&&o>=-2&&o<=0?y.relative.format(o,"day"):y.date.format(r).replace("г.","");case"datestandard":return y.datestandard.format(r).replace(/-/g,".");case"datestandardtime":return y.datestandardtime.format(r).replace(/-/g,".");case"shortdate":return y.shortDate.format(r);case"time":return y.time.format(r);case"smart":return function(e){var t="object"!==g(e.dateTime)?new Date(e.dateTime):e.dateTime;if(!u)return e.type="datestandard",k(e);var n=new Date,i=E(t,n);switch(e.type){case"datetime":return 0===i?y.time.format(t):y.relative&&i>=-1?y.relative.format(i,"day")+", "+y.time.format(t):n.getFullYear()===t.getFullYear()?y.shortDate.format(t)+", "+y.time.format(t):A(t)+", "+S(t);case"date":return y.relative&&i>=-2&&i<=0?y.relative.format(i,"day"):n.getFullYear()===t.getFullYear()?y.longDate.format(t):y.datestandard.format(t).replace(/-/g,".");default:return 0===i?y.time.format(t):y.relative&&i>=-1?y.relative.format(i,"day"):n.getFullYear()===t.getFullYear()?y.shortDate.format(t):y.datestandard.format(t).replace(/-/g,".")}}(e);case"humanreadabledate":return c<0?y.dateTime.format(r).replace(" г.,",","):y.relative&&c<6e4?y.relative.format(0,"second"):y.relative&&l>-60?y.relative.format(l,"minute"):y.relative&&s>-12?y.relative.format(s,"hour"):y.relative&&o>=-2&&o<=0?y.relative.format(o,"day")+", "+y.time.format(r):y.dateTime.format(r).replace(" г.,",",");case"today":return(new Date).getDate()===r.getDate()?y.time.format(r):(a=("0"+((i=r).getMonth()+1)).slice(-2)+".",a+=("0"+i.getDate()).slice(-2));default:throw new Error("Datetime type '"+e.type+"' is not supported")}}function k(e){var t=e.dateTime;switch(e.type){case"datetime":case"datestandardtime":return A(t)+" "+S(t);case"date":case"datestandard":return A(t);case"shortDate":return y.shortDate.format(t);case"shortDateTime":return y.shortDate.format(t)+" "+S(t);case"time":return S(t);case"shortMonth":return y.shortMonth?y.shortMonth.format(t):N(t);case"longMonth":return y.shortMonth?y.longMonth.format(t):N(t);default:throw new Error("Datetime type '"+e.type+"' is not supported")}}function A(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:".";return e.getFullYear()+t+I(e.getMonth()+1)+t+I(e.getDate())}function S(e){return I(e.getHours())+":"+I(e.getMinutes())}function I(e){return("0"+e).slice(-2)}function N(e){return"".concat(m("monthsShort.".concat(e.getMonth())))}function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}!function(){if(u=window.Intl!==undefined){var e=document.documentElement.lang||"en-GB";switch(e){case"ru":e="ru-RU";break;case"zh":e="zh-CN";break;case"en":e="en-GB"}var t=[e,"en"];y.dateTime=new window.Intl.DateTimeFormat(t,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1}),y.date=new window.Intl.DateTimeFormat(t,{year:"numeric",month:"long",day:"numeric"}),y.datestandard=new window.Intl.DateTimeFormat(["lt-LT","ko-KR","en"],{year:"numeric",month:"2-digit",day:"2-digit"}),y.datestandardtime=new window.Intl.DateTimeFormat(["lt-LT","ko-KR","en"],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1}),y.shortDate=new window.Intl.DateTimeFormat(t,{day:"numeric",month:"short"}),y.longDate=new window.Intl.DateTimeFormat(t,{day:"numeric",month:"long"}),y.time=new window.Intl.DateTimeFormat(t,{hour:"numeric",minute:"numeric",hour12:!1}),y.relative=window.Intl.RelativeTimeFormat?new window.Intl.RelativeTimeFormat(t,{numeric:"auto"}):null,y.shortMonth=new window.Intl.DateTimeFormat(t,{month:"short"}),y.longMonth=new window.Intl.DateTimeFormat(t,{month:"long"}),y.shortWeekday=new window.Intl.DateTimeFormat(t,{weekday:"short"}),y.longWeekday=new window.Intl.DateTimeFormat(t,{weekday:"long"}),y.humanreadabledate=new window.Intl.DateTimeFormat(t,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1}),function(){v={month:[],monthFull:[],weekday:[],weekdayFull:[]};for(var e=0;e<12;e++){var t=new Date(2020,e,10),n=y.shortMonth.format(t).replace(".","");n=n.charAt(0).toUpperCase()+n.slice(1,3);var i=y.longMonth.format(t);i=i.charAt(0).toUpperCase()+i.slice(1),v.month.push(n),v.monthFull.push(i)}for(var a=0;a<7;a++){var r=new Date(2020,9,5+a),o=y.shortWeekday.format(r);o=o.charAt(0).toUpperCase()+o.slice(1);var s=y.longWeekday.format(r);s=s.charAt(0).toUpperCase()+s.slice(1),v.weekday.push(o),v.weekdayFull.push(s)}}()}}();var L={white:"rgb(255,255,255)",gray:"rgb(230,230,230)",black:"rgb(0,0,0)",transparent:"transparent"};function D(e,t,n,i){var a=document.createElementNS("http://www.w3.org/2000/svg","tspan");return a.setAttribute("dy",t),a.setAttribute("x",n),a.textContent=i,e.appendChild(a),a}function B(e,t,n,i,a,r,o,s){var l=document.createElementNS("http://www.w3.org/2000/svg","circle");return a=a||L.transparent,r=r||L.black,l.setAttribute("cx",t[0]),l.setAttribute("cy",t[1]),l.setAttribute("r",n),l.setAttribute("stroke-width",i||0),l.setAttribute("stroke-opacity",s||0),l.setAttribute("stroke",r),l.setAttribute("fill",a),o&&l.setAttribute("class",o),e.appendChild(l),l}function H(e,t,n,i,a){var r=document.createElementNS("http://www.w3.org/2000/svg","polygon");if("object"===M(t)){var o=t;t="";for(var s=0,l=o.length;s<l;s++)t+=" "+o[s].x+","+o[s].y}return i=i||L.black,a=a||L.black,r.setAttribute("points",t),r.setAttribute("stroke-width",n||0),r.setAttribute("stroke",a),r.setAttribute("fill",i),e.appendChild(r),r}function P(e,t,n,i,a,r,o,s){var l=document.createElementNS("http://www.w3.org/2000/svg","text");return a=a||L.black,o=o||"start",l.setAttribute("x",t[0]),l.setAttribute("y",t[1]),l.setAttribute("font-size",n),l.setAttribute("fill",a),l.setAttribute("font-family",i),l.setAttribute("text-anchor",o),s&&l.setAttribute("class",s),"object"===M(r)?l.appendChild(r):l.textContent=r,e.appendChild(l),l}function R(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","title");return n.textContent=t,e.appendChild(n),n}function F(e,t,n){var i,a=document.createElement("div");return a.style.position="fixed",a.style.left="-9999px",a.style.fontFamily=t,a.style.fontSize=n+"px",a.innerText=e,document.body.appendChild(a),i=a.clientWidth,document.body.removeChild(a),i}function O(e,t,n){var i,a=document.createElement("div");return a.style.position="fixed",a.style.left="-9999px",a.style.fontFamily=t,a.style.fontSize=n+"px",a.innerText=e,document.body.appendChild(a),i=a.clientHeight||16,document.body.removeChild(a),i}function $(e){var t=e.parent,n=e.href,i=e.target,a=void 0===i?"_blank":i,r=document.createElementNS("http://www.w3.org/2000/svg","a");return r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n),r.setAttribute("target",a),t&&t.appendChild(r),r}function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}var j,q,W,z,V,Y,G,X,Q,K,J,Z,ee,te=100,ne=[],ie=[],ae="Trebuchet MS",re={gray:"rgb(205,217,225)",grayDark:"rgb(160,160,160)",green:"rgb(68,179,68)",black:"rgb(0,0,0)",blue:"rgb(55,160,244)",blueOpacity:"rgba(136,223,255,0.22)",opacity:"rgba(255,255,255,0)"},oe=!0,se=!1;try{se=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}catch(an){se=!1}function le(e,t,n,i,a){var r,o=[],s=0;for(t-=8;t>0&&F(e,ae,G)>t;){var l=e.lastIndexOf(" ");for(r=0;l>0&&(r=F(e.substr(0,l),ae,G))>t;){var c=e.substr(0,l).lastIndexOf(" ");if(-1===c)break;l=c}if(o.push(e.substr(0,l)),e=e.substr(l+1),s=s<r?r:s,-1===l)break}o.push(e),s=s<(r=F(e,ae,G))?r:s,s+=8,"left"===i&&(s=-s);for(var d=0,u=o.length;d<u;d++)D(a,0===d?0:J,n+s/2,o[d])}function ce(){for(var e,t,n,i,a,r,o=2*Math.PI/K,s=V,l=0,c=Y;l<c;l++){e=-Math.PI/2,s=V-V/c*l,ne[l]=[];for(var d=0;d<K;d++)ne[l][d]={x:Q.x+s*Math.cos(e),y:Q.y+s*Math.sin(e)},e+=o;H(X,ne[l],1,re.opacity,re.gray)}for(var u=0,h=ne[0].length;u<h;u++)t=X,n=[ne[0][u].x,ne[0][u].y],i=[Q.x,Q.y],1,a=re.gray,r=void 0,r=document.createElementNS("http://www.w3.org/2000/svg","line"),a=a||L.black,r.setAttribute("x1",n[0]),r.setAttribute("y1",n[1]),r.setAttribute("x2",i[0]),r.setAttribute("y2",i[1]),r.setAttribute("stroke-width",1),r.setAttribute("stroke",a),t.appendChild(r)}function de(){for(var e,t,n,i=2*Math.PI/K,a=-Math.PI/2,r=0;r<K;r++){if("object"!==U(q[r]))return;q[r].title=decodeHtml(q[r].title);var o="max"in q[r]?parseFloat(q[r].max,10):te,s=parseFloat(q[r].value,10);s=V*((s=s<o?s:o)/o),ie[r]={x:Q.x+s*Math.cos(a),y:Q.y+s*Math.sin(a)},a+=i}if(H(X,ie,2,re.blueOpacity,re.blue),oe){var l=O("0",ae,G-2);P(X,[Q.x+4,Q.y+l/2-2],G-2,ae,re.grayDark,"0%"),P(X,[Q.x+4,Q.y+l/2-2-V/2],G-2,ae,re.grayDark,"50%"),P(X,[Q.x+4,Q.y+l/2-2-V],G-2,ae,re.grayDark,"100+%")}for(var c=0;c<K;c++){var d=q[c];if(d){var u=(e=X,t=d.title,void 0,n=document.createElementNS("http://www.w3.org/2000/svg","g"),t&&R(n,t),e.appendChild(n),n),h=void 0;"link"in d&&d.link&&(h=$({parent:u,href:d.link,target:"_blank"})),B(h||u,[ie[c].x,ie[c].y],4,0,re.blue,re.blue,"s-radar-chart__apex",.9).style.cursor="pointer"}}}function ue(){for(var e=0,t=ne[0].length;e<t;e++){var n=Math.round(ne[0][e].x),i=Math.round(ne[0][e].y),a=Math.round(Q.x),r=n-a,o=q[e].name,s=q[e].title,l=void 0;r<=1&&r>=-1?(i+=i>Q.y?15:-10,l=P(X,[n,i],G,ae,re.black,o,"middle")):r<1?(l=P(X,[n,i+J/4],G,ae,re.black,"","middle"),le(o,n<a?n:W-n,n-4,"left",l)):(l=P(X,[n-4,i+J/4],G,ae,re.black,"","middle"),le(o,n<a?n:W-n,n+4,"right",l)),l&&s&&R(l,s)}}function he(e){clearTimeout(Z),Z=setTimeout((function(){if(!X)return window.removeEventListenerFn(window,"resize",he),!1;e.width||X.setAttribute("width",0),e.height||X.setAttribute("height",0),X.textContent="",W=e.width||j.clientWidth,z=e.height||j.clientHeight,V=fe(),Q={x:W/2,y:z/2},X.setAttribute("width",W),X.setAttribute("height",z),ce(),de(),ue()}),30)}function fe(){var e=0;return(e=W-200>z-40?(z-40)/2:(W-200)/2)<40&&(e=40),e}function me(e){se&&e&&(j=e.container)?(oe=!("showScale"in e)||e.showScale,q=e.points,W=e.width||j.clientWidth,z=e.height||j.clientHeight,V=fe(),Y=e.gradation||4,G=e.fontsize||12,X=document.createElementNS("http://www.w3.org/2000/svg","svg"),Q={x:W/2,y:z/2},K=q.length,ne=[],ie=[],J=O("A",ae,G),X.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),X.setAttribute("width",W),X.setAttribute("height",z),j.appendChild(X),ce(),de(),ue(),window.addEventListener("resize",he),e.renderCallback&&setTimeout(e.renderCallback,30)):e.renderCallback&&setTimeout(e.renderCallback,30)}var pe=1;function ge(e){var t="",n="title"in e?e.title:"",i="link"in e&&e.link;if(t=i?'<a class="bar-chart-horizontal__item" href="'.concat(e.link,'" target="_blank">'):'<span class="bar-chart-horizontal__item">',t+='<span class="bar-chart-horizontal__title">'.concat(n,"</span>"),t+='<span class="bar-chart-horizontal__bar-area">',t+='<span class="bar-chart-horizontal__value">'+("textValue"in e?e.textValue:"")+"</span>",t+=function(e){if(!("value"in e))return"";var t=e.value,n=Math.round(parseInt(t,10)/pe),i='<span class="bar-chart-horizontal__bar bar-chart-horizontal__bar_'+function(e){var t=Math.abs(e);return e<0?"min":t>=33&&t<=66?"medium":t>66?"high":""}(n)+'" style="width:'+Math.abs(n)+'%;">';if("additional"in e){t=e.additional;var a=parseInt(t,10)/pe;i+='<span class="bar-chart-horizontal__additional bar-chart-horizontal__additional_'+(t<0?"red":"green")+'" style="width:'+(a=Math.round(Math.abs(a/(n/100))))+'%;"></div>'}return i+"</span>"}(e),"description"in e){t+='<span class="bar-chart-horizontal__desc">';for(var a=0,r=e.description.length;a<r;a++)t+='<span class="bar-chart-horizontal__desc-item">'+e.description[a]+"</span>";t+="</span>"}return(t+="</span>")+(i?"</a>":"</span>")}function ve(e){var t=e.container;if(t&&(ee=e.bars)){!function(){for(var e in ee)if(Object.prototype.hasOwnProperty.call(ee,e)){var t=Math.abs(parseInt(ee[e].value,10));t>pe&&(pe=t)}pe/=100}();for(var n='<div class="bar-chart-horizontal">',i=0,a=ee.length;i<a;i++)n+=ge(ee[i]);n+="</div>",t.innerHTML=n}}function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function we(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}function be(e){var t=this,n=e.tag,i=void 0===n?"div":n,a=e.attributes,r=void 0===a?undefined:a,o=e.classList,s=void 0===o?undefined:o,l=e.listeners,c=void 0===l?undefined:l,d=e.properties,u=void 0===d?undefined:d,h=e.children,f=void 0===h?undefined:h,m=e.fzEvent,p=void 0===m?undefined:m,g=e.fzEventAction,v=void 0===g?"click":g,y=i instanceof Node?i:document.createElement(i);if(s&&s.forEach(function(e){we(this,t),e&&y.classList.add(e)}.bind(this)),r&&Object.keys(r).forEach(function(e){we(this,t),y.setAttribute(e,r[e])}.bind(this)),u&&Object.keys(u).forEach(function(e){we(this,t),y[e]=u[e]}.bind(this)),c&&Object.keys(c).forEach(function(e){we(this,t),y.addEventListener(e,c[e])}.bind(this)),p&&y.addEventListener(v,function(){we(this,t),"object"===ye(p)?window.fz&&window.fz("event",p):window.fz&&window.fz("track",p)}.bind(this)),!f)return y;if("string"==typeof f)y.innerHTML=f;else if(f instanceof Node)y.appendChild(f);else for(var w=0,b=f.length;w<b;w++){var _=f[w];_&&("string"!=typeof _?(_ instanceof Node||(_=be(_)),y.appendChild(_)):y.insertAdjacentHTML("beforeend",_))}return y}var _e={20:{polygon:"rgb(244,81,30)",bg:"rgb(249,218,219)"},40:{polygon:"rgb(255,112,34)",bg:"rgb(250,229,218)"},60:{polygon:"rgb(249,168,37)",bg:"rgb(255,236,209)"},80:{polygon:"rgb(139,195,74)",bg:"rgb(234,244,222)"},100:{polygon:"rgb(68,179,68)",bg:"rgb(216,239,217)"}};function Ce(e){var t=e.container,n=e.value,i=e.size;n=parseInt(n,10);var a=["risk-chart"];i&&a.push("risk-chart_".concat(i));var r=be({classList:a}),o=_e[100];n<=20?o=_e[20]:n<=40?o=_e[40]:n<=60?o=_e[60]:n<=80&&(o=_e[80]);for(var s=0;s<5;s++)r.appendChild(be({classList:["risk-chart__item","risk-chart__item_".concat(s)],attributes:{style:"background:".concat(o.bg,";")}}));for(var l=0,c=n/20;l<c;l++)r.appendChild(be({classList:["risk-chart__item","risk-chart__item_".concat(l)],attributes:{style:"background:".concat(o.polygon,";")}}));return t&&t.appendChild(r),r}function xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw r}}}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function ke(e,t){if(e===t)return!0;if(e&&t&&"object"==Te(e)&&"object"==Te(t)){if(e.constructor!==t.constructor)return!1;var n,i;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(i=n;0!=i--;)if(!ke(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;var a,r=xe(e.entries());try{for(r.s();!(a=r.n()).done;)if(i=a.value,!t.has(i[0]))return!1}catch(h){r.e(h)}finally{r.f()}var o,s=xe(e.entries());try{for(s.s();!(o=s.n()).done;)if(!ke((i=o.value)[1],t.get(i[0])))return!1}catch(h){s.e(h)}finally{s.f()}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;var l,c=xe(e.entries());try{for(c.s();!(l=c.n()).done;)if(i=l.value,!t.has(i[0]))return!1}catch(h){c.e(h)}finally{c.f()}return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(i=n;0!=i--;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var d=Object.keys(e);if((n=d.length)!==Object.keys(t).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,d[i]))return!1;for(i=n;0!=i--;){var u=d[i];if(!ke(e[u],t[u]))return!1}return!0}return e!=e&&t!=t}function Ae(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function Ie(e){var t,n,i=this,a=[];function r(e){if(null===e||"object"!==Se(e)||e instanceof File)return e;var t=e instanceof Date?new e.constructor:e.constructor();for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=r(e[n]));return t}function o(i){ke(e,i)||(e=i,clearTimeout(t),clearTimeout(n),t=setTimeout((function(){var t=this,n=r(e);a.forEach(function(e){return Ae(this,t),e(n)}.bind(this))}),100))}return{set:o,update:function(t){o(t(r(e)))},subscribe:function(t,i){var o=this,s=t;return a.push(s),i||(n=setTimeout((function(){t(r(e))}),100)),function(){Ae(this,o);var e=a.indexOf(s);-1!==e&&a.splice(e,1)}.bind(this)},value:function(){return Ae(this,i),r(e)}.bind(this)}}function Ne(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}var Me={},Le={},De={},Be=!1,He=!1,Pe=[];function Re(e){return e?Me.connect().then((function(){Be=!0,Fe(e)})):undefined}function Fe(e,t){var n=this;if(e)return Be?void Me.ticks(e.map(function(e){return Ne(this,n),e.id}.bind(this)),function(t,i){Ne(this,n),i?function(e,t){for(var n=0;n<t.length;n++){var i=t[n],a=void 0,r=void 0,o=Oe(e,i.id);o&&(r=o.digits,a=o.name);var s=1*Math.pow(10,r);i.askLast/=s,i.askHigh/=s,i.askLow/=s,i.bidLast/=s,i.bidHigh/=s,i.bidLow/=s,o&&Ue(e,o),Le[a]=i}}(e,t):function(e,t){for(var n=0;n<t.length;n++){var i=t[n],a=Oe(e,i.id);if(!a)return;i.stat=a.stat;var r=1*Math.pow(10,a.digits);if(i.ask/=r,i.bid/=r,!Object.prototype.hasOwnProperty.call(i,"dir")){var o=0,s=Le[a.name];s&&(s.ask<i.ask&&(o|=1),s.ask>i.ask&&(o|=2),s.bid<i.bid&&(o|=4),s.bid>i.bid&&(o|=8)),i.dir=o}$e(a,i),Le[a.name]=i,je(i,a)}}(e,t)}.bind(this)):(t=t||0,++t<20?void setTimeout((function(){Fe(e,t)}),100):void 0)}function Oe(e,t){for(var n=0;n<e.length;n++)if(+e[n].id===t)return e[n];return undefined}function $e(e,t){e.dir=t.dir,t.ask&&(e.ask=t.ask),t.bid&&(e.bid=t.bid)}function Ue(e,t){e.stat={askLast:t.askLast,askHigh:t.askHigh,askLow:t.askLow,bidLast:t.bidLast,bidHigh:t.bidHigh,bidLow:t.bidLow}}function je(e,t){var n=document.getElementById("quoteBid"+t.id);if(n&&e.bid){var i=0;4&e.dir?i=1:8&e.dir&&(i=-1),n.innerText=e.bid.toFixed(t.digits),n.className="search-presets__quote-val search-presets__quote-val_".concat(0!==i?1===i?"success":"danger":""),qe(n)}var a=document.getElementById("quoteAsk"+t.id);if(a&&e.ask){var r=0;4&e.dir?r=1:8&e.dir&&(r=-1),a.innerText=e.ask.toFixed(t.digits),a.className="search-presets__quote-val search-presets__quote-val_".concat(0!==r?1===r?"success":"danger":""),qe(a)}}function qe(e){var t=e.id;t in De&&clearTimeout(De[t]);var n=e.className,i=setTimeout((function(){e.className===n&&(e.className="search-presets__quote-val",delete De[t])}),1e3);De[t]=i}var We={1:"expert",2:"indicator",3:"panel",5:"library",7:"utility"};function ze(e){var t=e.data,n=t.product_url,i=void 0===n?"#":n,a=t.logo_url,r=t.name,o=t.rating,s=t.category,l=t.price,c=s in We?We[s]:"",d="".concat(window.priceToString(l)," USD");return be({tag:"a",classList:["search-presets__row"],fzEvent:"MQL5+Main+Search+Preset+Market+Click",attributes:{href:i},children:[be({classList:["search-presets__col","search-presets__col_market"],children:[be({tag:"img",classList:["search-presets__img"],attributes:{width:24,height:24,alt:"image",src:a}}),be({tag:"span",classList:["search-presets__overflow"],properties:{innerText:r,title:r}})]}),be({classList:["search-presets__col","search-presets__col_rating"],children:[be({classList:["search-presets__rating"],children:[be({classList:["search-presets__rating-value"],attributes:{style:"width: ".concat(o,"%")}})]})]}),be({classList:["search-presets__col","search-presets__col_category"],children:'<i class="icons-market icons-market_'.concat(c,'"></i>').concat(m(c))}),be({classList:["search-presets__col","search-presets__col_market-price"],children:[be({tag:"span",classList:["search-presets__link"],properties:{innerText:d}})]})]})}function Ve(e){var t=e.data,n=t.url,i=void 0===n?"#":n,a=t.avatar_url,r=t.name,o=t.risk_level,s=t.gain,l=t.alive_subscribers,c=t.equity,d=t.price,u=" USD",h=window.priceToString(l);c=window.priceToString(c)+u,d=window.priceToString(d)+u;var f="search-presets__".concat(parseInt(s,10)>0?"success":"danger");return be({tag:"a",classList:["search-presets__row"],fzEvent:"MQL5+Main+Search+Preset+Signals+Click",attributes:{href:i},children:[be({classList:["search-presets__col","search-presets__col_signals"],children:[be({tag:"img",classList:["search-presets__img"],attributes:{width:24,height:24,alt:"image",src:a}}),be({tag:"span",classList:["search-presets__overflow"],properties:{innerText:r,title:r}})]}),be({classList:["search-presets__col","search-presets__col_reliability"],children:[Ce({value:o,size:"small"})]}),be({classList:["search-presets__col","search-presets__col_gain"],children:[be({classList:[f],properties:{innerText:"".concat(s,"%")}})]}),be({classList:["search-presets__col","search-presets__col_subscribers"],properties:{innerText:h}}),be({classList:["search-presets__col","search-presets__col_equity"],properties:{innerText:c}}),be({classList:["search-presets__col","search-presets__col_signals-price"],children:[be({classList:["search-presets__link"],properties:{innerText:d}})]})]})}function Ye(e){var t=e.data,n=t.id,i=t.url,a=void 0===i?"#":i,r=t.name,o=t.description,s=t.bid,l=t.ask,c=t.dir,d=t.growth,u=t.digits,h=void 0===u?0:u,f="search-presets__".concat(parseFloat(d)>0?"success":"danger"),m=0;1&c?m=1:2&c&&(m=-1);var p=0;4&c?p=1:8&c&&(p=-1);var g="search-presets__quote-val_".concat(0!==p?1===p?"success":"danger":""),v="search-presets__quote-val_".concat(0!==m?1===m?"success":"danger":"");return be({tag:"a",classList:["search-presets__row"],fzEvent:"MQL5+Main+Search+Preset+Quotes+Click",attributes:{href:a},children:[be({classList:["search-presets__col","search-presets__col_quotes"],children:[be({classList:["search-presets__overflow"],properties:{innerText:r}})]}),be({classList:["search-presets__col","search-presets__col_name"],children:[be({classList:["search-presets__overflow"],properties:{innerText:o}})]}),be({classList:["search-presets__col","search-presets__col_bid"],children:[be({classList:["search-presets__quote-val","search-presets__quote-val_calm",g],properties:{innerText:(parseFloat(s)||0).toFixed(h),id:"quoteBid"+n}})]}),be({classList:["search-presets__col","search-presets__col_ask"],children:[be({classList:["search-presets__quote-val","search-presets__quote-val_calm",v],properties:{innerText:(parseFloat(l)||0).toFixed(h),id:"quoteAsk"+n}})]}),be({classList:["search-presets__col","search-presets__col_day"],children:[be({classList:[f],properties:{innerText:"".concat(d,"%")}})]})]})}function Ge(e){var t=e.data,n=t.url,i=void 0===n?"#":n,a=t.title,r=t.author;return be({tag:"a",classList:["search-presets__row"],fzEvent:"MQL5+Main+Search+Preset+Forum+Click",attributes:{href:i},children:[be({classList:["search-presets__col","search-presets__col_forum"],children:[be({classList:["search-presets__overflow",t.is_read?"":"search-presets__unread"],properties:{innerText:a,title:a}})]}),be({classList:["search-presets__col","search-presets__col_author"],children:[be({classList:["search-presets__link"],properties:{innerText:r}})]})]})}function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}var Qe,Ke,Je,Ze="",et=!1,tt="en",nt=-1,it="https://search.mql5.com/api/suggest",at="keyword",rt=!1,ot="";function st(e){Je&&(e?(Je.classList.remove("hidden"),window.fpush("MQL5+Main+Search+Preset+View")):Je.classList.add("hidden"),He||(Me=window.Currencies?new window.Currencies:{},He=!0,Re(Pe)))}function lt(e){return e?'<li data-key="'+e+'" class="search-component__suggestion">'+e+"</li>":undefined}function ct(e){st(e);var t=document.getElementById(Ke+"Suggestions");t&&(e&&(t.innerHTML="",et=!1,nt=-1),t.className="search-component__suggestions hidden")}function dt(){if(st(!et),et){var e=document.getElementById(Ke+"Suggestions");e&&(e.className="search-component__suggestions")}}function ut(e){if(st(!1),e&&Array.isArray(e)&&e[1]&&Array.isArray(e[1])&&!(e[1].length<1)){nt=-1,et=!0;var t=document.getElementById(Ke+"Suggestions");if(t){for(var n="",i=0,a=e[1].length;i<a;i++)n+=lt(e[1][i]);t.innerHTML=n,t.className="search-component__suggestions"}}else ct(!0)}function ht(e){var t=(e=e||window.event).keyCode;switch(t){case 38:case 40:e.preventDefault&&e.preventDefault(),function(e){var t=document.getElementById(Ke+"Suggestions");if(t){var n=document.getElementById(Ke+"Keyword");if(n){var i=t.querySelectorAll(".search-component__suggestion");if(!i||i.length<1)nt=-1;else{var a=i.length;switch(e){case 40:nt<a-1?nt++:nt=0;break;case 38:nt<=0?nt=a-1:nt--}for(var r=0;r<a;r++){var o=i[r];if(r===nt){o.className="search-component__suggestion search-component__suggestion_active";var s=o.getAttribute("data-key");s&&(Ze=s,n.value=Ze)}else o.className="search-component__suggestion"}}}}}(t);break;case 13:return;default:clearTimeout(Qe),Qe=setTimeout((function(){var t=e.target||e.srcElement;(Ze=t.value)?function(e){if(e){var t=document.getElementById(Ke+"ScriptSearchNode");t&&t.parentNode.removeChild(t),it&&((t=document.createElement("script")).id=Ke+"ScriptSearchNode",t.type="text/javascript",t.src="".concat(it,"?keyword=").concat(encodeURIComponent(Ze),"&hl=").concat(tt,"&callback=window.components.search.renderSuggestions"),e.appendChild(t))}}(t.parentNode):(et=!1,ct(!0))}),300)}}function ft(e,t){if(t&&"object"===Xe(t)){var n=t.url,i=document.getElementById(t.id);i&&i.action&&(n=i.action),e.length>0&&(e=at+"="+encodeURIComponent(e));var a="";switch(t.module){case"Market":a="module=mql5_module_market";break;case"Freelance":a="module=mql5_module_jobs";break;case"Articles":a="module=mql5_module_articles";break;case"CodeBase":a="module=mql5_module_codebase";break;case"Docs":a="module=mql5_module_documentation";break;case"Book":a="module=mql5_module_book"}n+=rt?"?":"#!",n+=e,e&&a&&(n+="&"),n+=a,ot&&(n+="&"+ot),document.location.assign(n)}}function mt(e){var t=this;if(e&&"object"===Xe(e)){Ke=e.id;var n=e.language;tt=void 0===n?"en":n,rt=e.useGet;var i=e.keywordParamName;(at=void 0===i?"keyword":i)||(at="keyword"),ot=e.extraQuery;var a=document.getElementById(Ke);if(a){if(a.addEventListener("submit",(function(t){(t=t||window.event).preventDefault&&t.preventDefault(),ft(a.elements.keyword.value,e)})),"home"===(e.module||"").toLowerCase()){Je=document.getElementById("suggestionsDefault");var r=Ie({});r.subscribe(function(e){!function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}(this,t),function(e){var t=e.parentNode,n=e.data;if(t&&(t.innerHTML="",n)){var i=be({classList:["search-presets"]});!function(e){var t=e.parentNode,n=e.data;if(n){var i=be({}),a=be({classList:["search-presets__header"],children:[be({classList:["search-presets__col","search-presets__col_market"],properties:{innerText:m("module_market"),title:m("module_market")}}),be({classList:["search-presets__col","search-presets__col_rating"],properties:{innerText:m("rating"),title:m("rating")}}),be({classList:["search-presets__col","search-presets__col_category"],properties:{innerText:m("productCategory"),title:m("productCategory")}}),be({classList:["search-presets__col","search-presets__col_market-price"],properties:{innerText:m("accountPriceShort"),title:m("accountPriceShort")}})]});i.appendChild(a);for(var r=be({}),o=0,s=n.length;o<s;o++)r.appendChild(ze({data:n[o]}));i.appendChild(r),t.appendChild(i)}}({parentNode:i,data:n.market}),function(e){var t=e.parentNode,n=e.data;if(n){var i=be({}),a=be({classList:["search-presets__header"],children:[be({classList:["search-presets__col","search-presets__col_signals"],properties:{innerText:m("signal"),title:m("signal")}}),be({classList:["search-presets__col","search-presets__col_reliability"],properties:{innerText:m("signalCardRisk"),title:m("signalCardRisk")}}),be({classList:["search-presets__col","search-presets__col_gain"],properties:{innerText:m("accountGain"),title:m("accountGain")}}),be({classList:["search-presets__col","search-presets__col_subscribers"],properties:{innerText:m("accountTotalSubscribers"),title:m("accountTotalSubscribers")}}),be({classList:["search-presets__col","search-presets__col_equity"],properties:{innerText:m("accountEquity"),title:m("accountEquity")}}),be({classList:["search-presets__col","search-presets__col_signals-price"],properties:{innerText:m("accountPriceShort"),title:m("accountPriceShort")}})]});i.appendChild(a);for(var r=be({}),o=0,s=n.length;o<s;o++)r.appendChild(Ve({data:n[o]}));i.appendChild(r),t.appendChild(i)}}({parentNode:i,data:n.signals}),function(e){var t=e.parentNode,n=e.data;if(n){var i=be({}),a=be({classList:["search-presets__header"],children:[be({classList:["search-presets__col","search-presets__col_quotes"],properties:{innerText:m("categoryRates"),title:m("categoryRates")}}),be({classList:["search-presets__col","search-presets__col_name"],properties:{innerText:m("quotesFullName"),title:m("quotesFullName")}}),be({classList:["search-presets__col","search-presets__col_bid"],properties:{innerText:m("productPriceLabel")+" BID",title:m("productPriceLabel")+" BID"}}),be({classList:["search-presets__col","search-presets__col_ask"],properties:{innerText:m("productPriceLabel")+" ASK",title:m("productPriceLabel")+" ASK"}}),be({classList:["search-presets__col","search-presets__col_day"],properties:{innerText:m("quotesDaily"),title:m("quotesDaily")}})]});i.appendChild(a);for(var r=be({}),o=0,s=n.length;o<s;o++)r.appendChild(Ye({data:n[o]}));i.appendChild(r),t.appendChild(i)}}({parentNode:i,data:n.quotes}),function(e){var t=e.parentNode,n=e.data;if(n){var i=be({}),a=be({classList:["search-presets__header"],children:[be({classList:["search-presets__col","search-presets__col_forum"],properties:{innerText:m("categoryForum"),title:m("categoryForum")}}),be({classList:["search-presets__col","search-presets__col_author"],properties:{innerText:m("bookAuthorLabel"),title:m("bookAuthorLabel")}})]});i.appendChild(a);for(var r=be({}),o=0,s=n.length;o<s;o++)r.appendChild(Ge({data:n[o]}));i.appendChild(r),t.appendChild(i)}}({parentNode:i,data:n.forum}),t.appendChild(i),function(e){var t=e.data;t&&(Pe=t)}({data:n.quotes})}}({parentNode:Je,data:e})}.bind(this));var o=document.getElementById("searchPresetsData");if(o)try{r.set(JSON.parse(o.innerHTML))}catch(an){console.warn(an)}}!function(e){if(e&&"object"===Xe(e)){it=e.suggestionsUrl;var t=document.getElementById(Ke+"Keyword");if(t){var n=document.getElementById(Ke+"Suggestions");n&&(t.addEventListener("keyup",ht),t.addEventListener("blur",(function(){setTimeout(ct,200)})),t.addEventListener("focus",dt),n.addEventListener("click",(function(n){var i=((n=n||window.event).target||n.srcElement).getAttribute("data-key");i&&(t.value=i,ft(i,e))})))}}}(e)}}}function pt(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}var gt={freelance:{silver:{src:"https://c.mql5.com/i/achievement/freelance-silver.png",srcset:"https://c.mql5.com/i/achievement/freelance-silver_2x.png 2x, https://c.mql5.com/i/achievement/freelance-silver_3x.png 3x"},gold:{src:"https://c.mql5.com/i/achievement/freelance-gold.png",srcset:"https://c.mql5.com/i/achievement/freelance-gold_2x.png 2x, https://c.mql5.com/i/achievement/freelance-gold_3x.png 3x"}},market:{silver:{src:"https://c.mql5.com/i/achievement/market-silver.png",srcset:"https://c.mql5.com/i/achievement/market-silver_2x.png 2x, https://c.mql5.com/i/achievement/market-silver_3x.png 3x"},gold:{src:"https://c.mql5.com/i/achievement/market-gold.png",srcset:"https://c.mql5.com/i/achievement/market-gold_2x.png 2x, https://c.mql5.com/i/achievement/market-gold_3x.png 3x"}}},vt=3;function yt(e){var t=e.type,n=e.level;window.popupWindow.show({createCallback:function(e){var i=this,a=gt[t][n],r=be({classList:["achievement-popup","ui"],children:[be({classList:["achievement-popup__content"],children:[be({classList:["achievement-popup__title"],properties:{innerText:m("achievement.readyTitle")}}),be({classList:["achievement-popup__desc"],properties:{innerText:m("achievement.readyDesc")}}),be({tag:"button",classList:["button","button_blue-and-white","button_big"],listeners:{click:function(e){pt(this,i),e.preventDefault(),window.popupWindow.hide()}.bind(this)},properties:{innerText:m("achievement.excellent")}})]}),be({classList:["achievement-popup__image"],children:[be({tag:"img",attributes:{alt:"achievement",src:a.src,srcset:a.srcset,width:392,height:368}})]})]});e.appendChild(r)}})}function wt(e,t){if(e&&e.elements)for(var n=0,i=e.elements.length;n<i;n++)e.elements[n].disabled=t}function bt(e){var t=e.name,n=e.label,i=e.value,a=e.validateType,r=void 0===a?6:a,o=e.regex,s=void 0===o?"^.+$":o;return window.V.push([t,r,"",s]),be({classList:["achievement-popup__form-item"],children:[be({classList:["achievement-popup__label"],properties:{innerText:n+":"}}),be({classList:["achievement-popup__control"],children:[be({tag:"input",classList:["input"],properties:{name:t,id:t,value:i}})]})]})}function _t(e){var t=this,n=e.type,i=e.level,a=e.signature,r=e.lang;window.Ajax.get("/".concat(r,"/achievement-popup/address"),null,{onready:function(e){pt(this,t);var o={};try{o=JSON.parse(e)}catch(an){window.console&&console.warn(an)}window.popupWindow.show({createCallback:function(e){window.V||(window.V=[]),function(e){var t,n,i,a,r,o=this,s=e.type,l=e.level,c=e.signature,d=e.data,u=e.lang,h=e.parentNode,f=gt[s][l],p=[be({classList:["achievement-popup__title"],properties:{innerText:m("achievement.deliveryTitle")}}),be({classList:["achievement-popup__desc"],properties:{innerText:m("achievement.deliveryDesc")}})];p.push(be({tag:"input",properties:{type:"hidden",value:c,name:"__signature"}}));var g=be({classList:["select"],children:[be({tag:"select",properties:{name:"country"}})]});p.push(be({classList:["achievement-popup__form-item"],children:[be({classList:["achievement-popup__label"],properties:{innerText:m("achievement.country")+":"}}),be({classList:["achievement-popup__control"],children:[g]})]})),window.Ajax.get("/".concat(u,"/achievement-popup/countries"),null,{onready:function(e){var t,n=this;pt(this,o);var i=[];try{i=JSON.parse(e)}catch(an){window.console&&console.warn(an)}var a=g.children[0];i.forEach(function(e){pt(this,n),a.appendChild(be({tag:"option",properties:{value:e.value,text:e.text}}))}.bind(this)),a.value=null!==(t=d.country)&&void 0!==t?t:"",window.popupWindow.setPosition()}.bind(this),onerror:function(e){pt(this,o),window.console&&console.warn(e)}.bind(this)}),p.push(bt({name:"region",label:m("achievement.region"),value:null!==(t=d.region)&&void 0!==t?t:"",regex:"^[ -~]{1,100}$"})),p.push(bt({name:"city",label:m("achievement.city"),value:null!==(n=d.city)&&void 0!==n?n:"",regex:"^[ -~]{1,100}$$"})),p.push(bt({name:"address",label:m("achievement.address"),value:null!==(i=d.address)&&void 0!==i?i:"",regex:"^[ -~]{1,200}$$"})),p.push(bt({name:"postCode",label:m("achievement.postCode"),value:null!==(a=d.postCode)&&void 0!==a?a:"",regex:"^[A-Za-z\\d\\s]{1,10}$"})),p.push(bt({name:"phone",label:m("achievement.phone"),value:null!==(r=d.phone)&&void 0!==r?r:"",regex:"^\\+?\\d{1,19}$"})),p.push(be({tag:"button",classList:["button","button_blue","button_big"],properties:{innerText:m("achievement.ready")}}));var v=be({classList:["achievement-popup","achievement-popup_form","ui"],children:[be({classList:["achievement-popup__content"],children:[be({tag:"form",attributes:{method:"POST",action:"/".concat(u,"/achievement-popup/request")},classList:["achievement-popup__form"],listeners:{submit:function(e){var t=this;pt(this,o),e.preventDefault();var n=e.currentTarget;window.Validate(n)&&(wt(n,!0),window.Ajax.form(n,{onerror:function(){pt(this,t),wt(n,!1)}.bind(this),onready:function(){pt(this,t),yt({type:s,level:l})}.bind(this)}))}.bind(this)},children:p})]}),be({classList:["achievement-popup__image"],children:[be({tag:"img",attributes:{alt:"achievement",src:f.src,srcset:f.srcset,width:392,height:368}})]})]});h.appendChild(v)}({type:n,level:i,signature:a,data:o,lang:r,parentNode:e})}})}.bind(this),onerror:function(e){pt(this,t),window.console&&console.warn(e)}.bind(this)})}function Ct(e){var t=e.type,n=e.level,i=e.step,a=void 0===i?1:i,r=e.signature,o=e.lang,s=e.ignoreMaxShow,l=e.resetMaxShow;if(!s){var c;if(l)c=0;else if(c=window.Mql5Cookie.localStorage("achievement_popup"),c=parseInt(c,10),isNaN(c)&&(c=0),c>=vt)return;window.Mql5Cookie.localStorage("achievement_popup",++c)}switch(a){case 1:!function(e){var t=e.type,n=e.level,i=e.signature,a=e.lang,r={freelance:{silver:{title:m("achievement.freelanceSilverTitle"),description:m("achievement.freelanceSilverDesc")},gold:{title:m("achievement.freelanceGoldTitle"),description:m("achievement.freelanceGoldDesc")}},market:{silver:{title:m("achievement.marketSilverTitle"),description:m("achievement.marketSilverDesc")},gold:{title:m("achievement.marketGoldTitle"),description:m("achievement.marketGoldDesc")}}};window.popupWindow.show({createCallback:function(e){var o=this,s=gt[t][n],l=r[t][n],c=be({classList:["achievement-popup","ui"],children:[be({classList:["achievement-popup__content"],children:[be({classList:["achievement-popup__title"],properties:{innerText:l.title}}),be({classList:["achievement-popup__desc"],properties:{innerText:l.description}}),be({tag:"button",classList:["button","button_blue","button_big"],listeners:{click:function(e){pt(this,o),e.preventDefault(),_t({type:t,level:n,signature:i,lang:a})}.bind(this)},properties:{innerText:m("achievement.getGift")}})]}),be({classList:["achievement-popup__image"],children:[be({tag:"img",attributes:{alt:"achievement",src:s.src,srcset:s.srcset,width:392,height:368}})]})]});e.appendChild(c)}})}({type:t,level:n,signature:r,lang:o});break;case 2:_t({type:t,level:n,signature:r,lang:o});break;case 3:yt({type:t,level:n})}}function xt(){window.popupWindow.hide()}var Et=null;function Tt(e){for(var t=0,n=Et.length;t<n;t++){var i=Et[t],a=i.getAttribute("data-id"),r=document.getElementById("blueTabContent".concat(a));a===e?(i.classList.add("blue-tabs__item_active"),r&&r.classList.remove("hidden")):(i.classList.remove("blue-tabs__item_active"),r&&r.classList.add("hidden"))}}function kt(e){var t=e.id,n=e.active,i=document.getElementById(t);if(Et=i.querySelectorAll(".blue-tabs__item"),i&&Et.length){n&&Tt(n);for(var a=function(){var e=this,t=Et[r];t.addEventListener("click",function(){!function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}(this,e),Tt(t.getAttribute("data-id"))}.bind(this))},r=0,o=Et.length;r<o;r++)a()}}function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}var St,It=-1;function Nt(e){return e.name}function Mt(e,t){for(var n="",i=0,a=e.length;i<a;i++){var r=e[i];n+='<div class="datalist__item" data-value="'.concat(r.value,'">').concat(t(r),"</div>")}return n||(n='<div class="datalist__no-data">'.concat(m("no-data-display"),"</div>")),n}function Lt(e,t,n,i){if(e=e||"",t&&n.value){var a=n.value.split(",");i&&a.pop(),a.push(e),e=(a=a.filter((function(e){return e}))).join(",")}n.value=e}function Dt(e){if(e&&"object"===At(e)){var t=!1,n=document.getElementById(e.id);if(n){var i=e.multiple,a=e.render||Nt,r=e.data||[],o=document.createElement("div");o.className="datalist ui",n.parentNode.appendChild(o),n.className="input",o.appendChild(n);var s=document.createElement("div");e.listWidth&&(s.style.width="".concat(e.listWidth,"px")),s.className="datalist__list hidden",o.appendChild(s),s.innerHTML=Mt(r,a);var l=document.createElement("span");l.className="datalist__btn",l.innerHTML='<i class="icons-ux icons-ux_arrow-down"></i>',o.appendChild(l),s.addEventListener("click",(function(e){!function(e,t,n,i){for(var a=e.target;a&&a.parentNode&&a!==document.body&&a.classList&&!a.classList.contains("datalist__item");)a=a.parentNode;if(!a.className||a.classList.contains("datalist__item")){var r=a.getAttribute("data-value");r&&Lt(r,t,n,i)}}(e,i,n,t),c()})),l.addEventListener("click",(function(){clearTimeout(St),s.classList.contains("hidden")?(s.innerHTML=Mt(h(),a),u()):c()})),n.addEventListener("input",(function(){var e=h(!0);e&&e.length?(s.innerHTML=Mt(e,a),u()):c()})),n.addEventListener("focus",(function(){var e=h();e&&e.length?(s.innerHTML=Mt(h(),a),u()):c()})),n.addEventListener("blur",(function(){St=setTimeout(c,300),clearTimeout(St)})),n.addEventListener("keydown",(function(e){var a=(e=e||window.event).keyCode;switch(a){case 38:case 40:e.preventDefault&&e.preventDefault(),function(e,t){if(t){var n=t.querySelectorAll(".datalist__item");if(!n||n.length<1)It=-1;else{var i=n.length;switch(e){case 40:It<i-1?It++:It=0;break;case 38:It<=0?It=i-1:It--}for(var a=0;a<i;a++){var r=n[a];a===It?(r.classList.add("datalist__item_selected"),r.parentNode.scrollTop=r.offsetTop-r.parentNode.offsetTop):r.classList.remove("datalist__item_selected")}}}}(a,s);break;case 13:!function(){e.preventDefault&&e.preventDefault();var a=h(t);a&&a[It]!==undefined&&(c(),Lt(a[It].value,i,n,t))}()}}))}}function c(){s.className="datalist__list hidden",document.body.removeEventListener("click",d)}function d(e){for(var t=e.target;t&&t.parentNode&&t!==document.body&&t!==o;)t=t.parentNode;t!==o&&c()}function u(){It=-1,s.className="datalist__list",document.body.addEventListener("click",d),s.scrollTop=0}function h(e){var i=(n.value||"").toLowerCase().replace(/ ,/g,",").split(","),a=i[i.length-1].toLowerCase();return t=e,e&&i.pop(),r.filter((function(t){var n=t.value.toLowerCase(),r=t.name.toLowerCase();return e?(~a.indexOf(n)||~r.indexOf(a))&&!~i.indexOf(n):!~i.indexOf(n)}))}}var Bt=[];function Ht(){for(var e=["a","img"],t=0;t<e.length;t++)Pt(e[t])}function Pt(e){for(var t=document.getElementsByTagName(e),n=function(){var e=t[i].getAttribute("data-user-login");if(null===e||""===e)return"continue";t[i].addEventListener("mouseover",(function(){!function(e,t){var n="/"+window.mqGlobal.Language+"/users/tooltip/json",i=Bt[t];i===undefined?(e.waitingUserInfoForTooltip=!0,window.Ajax.post(n,{login:t},!1,{onready:function(n){var a=JSON.parse(n);a&&a.result&&"success"===a.result?(i=a.content,Bt[t]=i,e.waitingUserInfoForTooltip&&!0===e.waitingUserInfoForTooltip&&window.tooltip(e,i)):Bt[t]=null}})):null!==i&&window.tooltip(e,i)}(this,e)})),t[i].addEventListener("mouseout",(function(){this.waitingUserInfoForTooltip=!1}))},i=0;i<t.length;i++)n()}function Rt(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}window.dataList=s,window.blueTabs=o,window.showTooltipOnClick=function(e,t){var n=this,i=document.getElementById(e),a=document.getElementById(t);function r(){null==a||a.classList.add("hidden"),document.body.removeEventListener("click",o)}function o(e){if(e){for(var t=e.target;t&&t.parentNode&&t!==i&&t!==a&&t;)t=t.parentNode;t!==i&&t!==a&&r()}}i&&a&&i.addEventListener("click",function(e){var t=this;if(Rt(this,n),e.preventDefault(),a.classList.contains("hidden"))return a.classList.remove("hidden"),void setTimeout(function(){Rt(this,t),document.body.addEventListener("click",o)}.bind(this),0);r()}.bind(this))},window.tooltipUserInfo=l,window.toggleReadMore=function(e,t){if(t){if(t.classList.contains("read-more-opened"))return e.innerText=m("readMore"),void t.classList.remove("read-more-opened");t.classList.add("read-more-opened"),e.innerText=m("hideMore")}};var Ft={};!function(){if(window.Intl!==undefined){var e=document.documentElement.lang||"en-GB";switch(e){case"ru":e="ru-RU";break;case"zh":e="zh-CN";break;case"en":e="en-GB"}var t=[e,"en"];Ft.shortDate=new window.Intl.DateTimeFormat(t,{day:"numeric",month:"short"}),Ft.longDate=new window.Intl.DateTimeFormat(t,{day:"numeric",month:"long"}),Ft.time=new window.Intl.DateTimeFormat(t,{hour:"numeric",minute:"numeric",hour12:!1}),Ft.shortMonth=new window.Intl.DateTimeFormat(t,{month:"short"}),Ft.longMonth=new window.Intl.DateTimeFormat(t,{month:"long"}),Ft.longWeekday=new window.Intl.DateTimeFormat(t,{weekday:"long"}),Ft.shortWeekday=new window.Intl.DateTimeFormat(t,{weekday:"short"}),Ft.monthYear=new window.Intl.DateTimeFormat(t,{month:"long",year:"numeric"})}}(),window.localizationList=window.localizationList||{};for(var Ot=navigator.userAgent,$t=navigator.appVersion,Ut=(Ot.match(/Android/i),Ot.match(/BlackBerry/i),Ot.match(/iPhone|iPad|iPod/i),Ot.match(/Opera Mini/i),Ot.match(/IEMobile/i),Ot.indexOf("MSIE"),Ot.indexOf("Gecko/"),document.documentMode,""),jt=[{name:"Windows 10",regex:/(Windows 10.0|Windows NT 10.0)/},{name:"Windows 8.1",regex:/(Windows 8.1|Windows NT 6.3)/},{name:"Windows 8",regex:/(Windows 8|Windows NT 6.2)/},{name:"Windows 7",regex:/(Windows 7|Windows NT 6.1)/},{name:"Windows Vista",regex:/Windows NT 6.0/},{name:"Windows Server 2003",regex:/Windows NT 5.2/},{name:"Windows XP",regex:/(Windows NT 5.1|Windows XP)/},{name:"Windows 2000",regex:/(Windows NT 5.0|Windows 2000)/},{name:"Windows ME",regex:/(Win 9x 4.90|Windows ME)/},{name:"Windows 98",regex:/(Windows 98|Win98)/},{name:"Windows 95",regex:/(Windows 95|Win95|Windows_95)/},{name:"Windows NT 4.0",regex:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{name:"Windows CE",regex:/Windows CE/},{name:"Windows 3.11",regex:/Win16/},{name:"Android",regex:/Android/},{name:"Open BSD",regex:/OpenBSD/},{name:"Sun OS",regex:/SunOS/},{name:"Chrome OS",regex:/CrOS/},{name:"Linux",regex:/(Linux|X11(?!.*CrOS))/},{name:"iOS",regex:/(iPhone|iPad|iPod)/},{name:"Mac OS X",regex:/Mac OS X/},{name:"Mac OS",regex:/(Mac OS|MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{name:"QNX",regex:/QNX/},{name:"UNIX",regex:/UNIX/},{name:"BeOS",regex:/BeOS/},{name:"OS/2",regex:/OS\/2/},{name:"Search Bot",regex:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],qt=0,Wt=jt.length;qt<Wt;qt++){var zt=jt[qt];if(zt.regex.test(Ot)){Ut=zt.name;break}}var Vt=[];switch(/Windows/.test(Ut)&&((Vt=/Windows (.*)/.exec(Ut))&&Vt.length&&Vt.length>1&&Vt[1],Ut="Windows"),Ut){case"Mac OS":case"Mac OS X":case"Android":(Vt=/(?:Android|Mac OS|Mac OS X|MacPPC|MacIntel|Mac_PowerPC|Macintosh) ([._\d]+)/.exec(Ot))&&Vt.length&&Vt.length>1&&Vt[1].replace(/_/g,".");break;case"iOS":(Vt=/OS (\d+)_(\d+)_?(\d+)?/.exec($t))&&Vt.length&&Vt.length>2&&"".concat(Vt[1],".'").concat(Vt[2],".").concat(Vt.length>3?Vt[3]:0)}function Yt(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}function Gt(e,t){var n=this,i=arguments.length>2&&arguments[2]!==undefined&&arguments[2];e.querySelectorAll(t).forEach(function(e){var t;Yt(this,n);var a=e.parentNode;i&&a&&"a"===a.tagName.toLowerCase()?null===(t=a.parentNode)||void 0===t||t.removeChild(a):null==a||a.removeChild(e)}.bind(this))}undefined&&undefined.__awaiter,window.getQuote=function(e){var t=this;if(!e)return"";var n=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined,t=window.getSelection();if(!t)return"";if(e&&(!e.contains(t.focusNode)||!e.contains(t.anchorNode)))return"";for(var n=document.createElement("div"),i=0,a=t.rangeCount;i<a;i++)n.appendChild(t.getRangeAt(i).cloneContents());return n.innerHTML}(e)||e.innerHTML,i=document.createElement("div");return i.innerHTML=n,i.querySelectorAll("div").forEach(function(e){var n;Yt(this,t),(e.classList.contains("fquote")||e.classList.contains("pocket"))&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}.bind(this)),Gt(i,"input"),Gt(i,"img",!0),Gt(i,"EMBED"),Gt(i,"IFRAME"),Gt(i,"PRE"),i.innerHTML};var Xt=window.globalStorage();function Qt(e){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function Kt(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}function Jt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,a=function(e,t){if("object"!==Qt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var i=n.call(e,"string");if("object"!==Qt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===Qt(a)?a:String(a)),i)}var a}var Zt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastNotified=0,this.storeKey=t;try{window.Audio&&(this.sound=new Audio(n||"https://c.mql5.com/i/message/new_message_click2.mp3"))}catch(i){console.error(i)}}var t,n,i;return t=e,(n=[{key:"getLastNotified",value:function(){var e=this;return new Promise(function(t){var n=this;Kt(this,e),function(e){var t=this;return new Promise(function(n,i){!function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}(this,t),Xt&&Xt.supported?Xt.getItem(e,(function(t,i){n(t===e?i:"")})):i(new Error("Local storage is not supported"))}.bind(this))}(this.storeKey).then(function(e){if(Kt(this,n),e!==undefined){var i=0;null!==e&&(i=parseInt(e,10)),i>this.lastNotified&&(this.lastNotified=i),t(this.lastNotified)}else t(this.lastNotified)}.bind(this))}.bind(this))}},{key:"setLastNotified",value:function(e){var t,n;t=this.storeKey,n="".concat(e),Xt&&Xt.supported&&Xt.setItem(t,n),this.lastNotified=e}},{key:"play",value:function(e){var t=this;this.sound&&this.getLastNotified().then(function(n){var i,a=this;if(Kt(this,t),(!0===window.isWindowActive||window.isLastActiveWindow())&&n<e){try{var r=null===(i=this.sound)||void 0===i?void 0:i.play();r!==undefined&&r.then(function(){Kt(this,a)}.bind(this))["catch"](function(e){Kt(this,a),console.error(e)}.bind(this))}catch(o){console.error(o)}this.setLastNotified(e)}}.bind(this))}}])&&Jt(t.prototype,n),i&&Jt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function en(e){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(e)}function tn(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}var nn;(nn=document.body).style.flex==undefined&&nn.style.msFlex==undefined&&nn.style.webkitBoxFlex==undefined&&(document.body.className+=" flex-not-supported"),w(),window.setAllNodesDatetime=w,window.mqGlobal.AddOnReady((function(){p()}),!0),window.mqGlobal.AddOnReady((function(){var e,t;(function(){var e=this;if(window.siteUpdates){window.siteUpdates.RegisterRenderCallback(1,0,function(t){tn(this,e),t&&"object"===en(t)&&"frientship_offered"===t.name&&function(e){e=Math.min(e,99);var t=document.getElementById("counterOfferedFriendMenu");t&&(t.innerHTML=e>0?"<i>".concat(e,"</i>"):"")}(t.count)}.bind(this),null);var t=new Zt("mql5_freelance_last_notified");window.siteUpdates.RegisterRenderCallback(21,1,function(n){tn(this,e),n&&"object"===en(n)&&(n.a.length||t.play(parseInt(n.last_date,10)))}.bind(this),null)}})(),e=document.getElementById("left-sidebar-selector"),t=document.getElementById("left-sidebar"),e&&t&&(document.body.addEventListener("click",(function(n){var i=n.target;if(i){for(;i&&i.parentNode&&i!==e&&i!==t;)i=i.parentNode;i!==e&&i!==t&&t.classList.remove("left-sidebar_showed")}})),e.addEventListener("click",(function(e){var n=e.target;n&&"A"!==n.tagName&&"A"!==n.parentNode.tagName&&(e.preventDefault(),t.classList.toggle("left-sidebar_showed"))})))})),window.components=c,window.locationKey=m,window.createPreviewForInputFile=function(e,t){var n,i=this,a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=a.minWidth,o=void 0===r?0:r,s=a.minHeight,l=void 0===s?0:s,c=a.maxWidth,d=void 0===c?Infinity:c,u=a.maxHeight,h=void 0===u?Infinity:u;function f(){e.type="",e.value="",e.type="file"}function p(t){n||((n=document.createElement("span")).className="field-validation-error",e.parentNode.parentNode.insertBefore(n,e.parentNode.nextSibling)),n.innerText=t}e&&t?e.addEventListener("change",function(e){!function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}(this,i);var a=e.target;if(a.files){t.parentNode.style.display="none";var r=a.files[0];if(!r)return t.src="",void f();if(!~r.type.indexOf("image/"))return p(m("invalidImageType")),t.src="",void f();var s=new FileReader;s.onload=function(e){var i,a=new Image;a.onload=function(){var e=a.width,i=a.height;if(e>d||e<o||i>h||i<l)return p(m("invalidImageSize")),t.src="",void f();t.src=URL.createObjectURL(r),t.parentNode.style.display="block",n&&(n.parentNode.removeChild(n),n=undefined)},a.src=null===(i=e.target)||void 0===i?void 0:i.result},s.readAsDataURL(r)}}.bind(this)):console.error("No input or preview node defined")},window.mqGlobal.AddOnReady((function(){HeadSideBarMenu(),window.LangMenu=new LangMenu,window.UserLinkMenu=new UserLinkMenu}))}()}();